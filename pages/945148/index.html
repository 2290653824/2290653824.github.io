<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>maven摘录 | baby sword‘s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="java后端技术总结，生活记录。个人笔记">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.53c04193.css" as="style"><link rel="preload" href="/assets/js/app.7d33bb02.js" as="script"><link rel="preload" href="/assets/js/2.15f2967d.js" as="script"><link rel="preload" href="/assets/js/151.abbd46e4.js" as="script"><link rel="prefetch" href="/assets/js/10.dabe1a63.js"><link rel="prefetch" href="/assets/js/100.a2015101.js"><link rel="prefetch" href="/assets/js/101.86d0ebe4.js"><link rel="prefetch" href="/assets/js/102.9d17991d.js"><link rel="prefetch" href="/assets/js/103.d013e413.js"><link rel="prefetch" href="/assets/js/104.4580e90e.js"><link rel="prefetch" href="/assets/js/105.c98e8247.js"><link rel="prefetch" href="/assets/js/106.9512d8d6.js"><link rel="prefetch" href="/assets/js/107.dc6dd50f.js"><link rel="prefetch" href="/assets/js/108.36e17e32.js"><link rel="prefetch" href="/assets/js/109.952d543d.js"><link rel="prefetch" href="/assets/js/11.7ad42e2d.js"><link rel="prefetch" href="/assets/js/110.aae101ed.js"><link rel="prefetch" href="/assets/js/111.9ad19a52.js"><link rel="prefetch" href="/assets/js/112.0c3843ec.js"><link rel="prefetch" href="/assets/js/113.c5d4208b.js"><link rel="prefetch" href="/assets/js/114.09b4516e.js"><link rel="prefetch" href="/assets/js/115.8c6bacae.js"><link rel="prefetch" href="/assets/js/116.f6cb99af.js"><link rel="prefetch" href="/assets/js/117.d888ae3d.js"><link rel="prefetch" href="/assets/js/118.e1612eca.js"><link rel="prefetch" href="/assets/js/119.3b12ca64.js"><link rel="prefetch" href="/assets/js/12.d0f226ac.js"><link rel="prefetch" href="/assets/js/120.7bff079e.js"><link rel="prefetch" href="/assets/js/121.4e029ab8.js"><link rel="prefetch" href="/assets/js/122.f2575eb6.js"><link rel="prefetch" href="/assets/js/123.af6bedbe.js"><link rel="prefetch" href="/assets/js/124.1d9ff52d.js"><link rel="prefetch" href="/assets/js/125.8ce6c45b.js"><link rel="prefetch" href="/assets/js/126.74738876.js"><link rel="prefetch" href="/assets/js/127.469dca9c.js"><link rel="prefetch" href="/assets/js/128.733a2f9b.js"><link rel="prefetch" href="/assets/js/129.e3046663.js"><link rel="prefetch" href="/assets/js/13.ca9cb7b7.js"><link rel="prefetch" href="/assets/js/130.5f8a399c.js"><link rel="prefetch" href="/assets/js/131.f66f486f.js"><link rel="prefetch" href="/assets/js/132.3fcb4a90.js"><link rel="prefetch" href="/assets/js/133.e6a7cbf8.js"><link rel="prefetch" href="/assets/js/134.bc8d2a8b.js"><link rel="prefetch" href="/assets/js/135.240c78e9.js"><link rel="prefetch" href="/assets/js/136.008aca90.js"><link rel="prefetch" href="/assets/js/137.8bbcd666.js"><link rel="prefetch" href="/assets/js/138.bf695fc2.js"><link rel="prefetch" href="/assets/js/139.c00c9dc2.js"><link rel="prefetch" href="/assets/js/14.3885beda.js"><link rel="prefetch" href="/assets/js/140.1a2eba1e.js"><link rel="prefetch" href="/assets/js/141.c8600326.js"><link rel="prefetch" href="/assets/js/142.129fdc97.js"><link rel="prefetch" href="/assets/js/143.1bcbaa9c.js"><link rel="prefetch" href="/assets/js/144.77983828.js"><link rel="prefetch" href="/assets/js/145.18c96830.js"><link rel="prefetch" href="/assets/js/146.062c1576.js"><link rel="prefetch" href="/assets/js/147.4dffe67b.js"><link rel="prefetch" href="/assets/js/148.0a12fdd2.js"><link rel="prefetch" href="/assets/js/149.644d9858.js"><link rel="prefetch" href="/assets/js/15.981df7e3.js"><link rel="prefetch" href="/assets/js/150.3a56182c.js"><link rel="prefetch" href="/assets/js/152.c54e620b.js"><link rel="prefetch" href="/assets/js/153.d9a8477a.js"><link rel="prefetch" href="/assets/js/154.c0737606.js"><link rel="prefetch" href="/assets/js/155.273b61be.js"><link rel="prefetch" href="/assets/js/156.ac322b48.js"><link rel="prefetch" href="/assets/js/157.29da92a5.js"><link rel="prefetch" href="/assets/js/158.20aa63c2.js"><link rel="prefetch" href="/assets/js/159.cb2bfda8.js"><link rel="prefetch" href="/assets/js/16.851e8b6c.js"><link rel="prefetch" href="/assets/js/160.c31eb98d.js"><link rel="prefetch" href="/assets/js/161.ba3b58c4.js"><link rel="prefetch" href="/assets/js/162.822b912d.js"><link rel="prefetch" href="/assets/js/163.fb89cac8.js"><link rel="prefetch" href="/assets/js/164.2ec85d97.js"><link rel="prefetch" href="/assets/js/165.80d69bc7.js"><link rel="prefetch" href="/assets/js/166.0734abd2.js"><link rel="prefetch" href="/assets/js/167.12b046ed.js"><link rel="prefetch" href="/assets/js/168.b0d4db24.js"><link rel="prefetch" href="/assets/js/169.238c1564.js"><link rel="prefetch" href="/assets/js/17.71993e7e.js"><link rel="prefetch" href="/assets/js/170.a20084f6.js"><link rel="prefetch" href="/assets/js/171.f7beebbd.js"><link rel="prefetch" href="/assets/js/172.edc29fbe.js"><link rel="prefetch" href="/assets/js/173.3fc5869c.js"><link rel="prefetch" href="/assets/js/174.82f26aa5.js"><link rel="prefetch" href="/assets/js/175.595120d6.js"><link rel="prefetch" href="/assets/js/176.05d37828.js"><link rel="prefetch" href="/assets/js/177.cd7feb20.js"><link rel="prefetch" href="/assets/js/178.a5982934.js"><link rel="prefetch" href="/assets/js/179.8c485f51.js"><link rel="prefetch" href="/assets/js/18.cba9194a.js"><link rel="prefetch" href="/assets/js/180.c219aac7.js"><link rel="prefetch" href="/assets/js/181.dfb84650.js"><link rel="prefetch" href="/assets/js/182.27cb275e.js"><link rel="prefetch" href="/assets/js/183.f163af9d.js"><link rel="prefetch" href="/assets/js/184.b18298e6.js"><link rel="prefetch" href="/assets/js/185.80fccb48.js"><link rel="prefetch" href="/assets/js/186.77df58b4.js"><link rel="prefetch" href="/assets/js/187.2ef89f60.js"><link rel="prefetch" href="/assets/js/188.fa837c00.js"><link rel="prefetch" href="/assets/js/189.28bd30b9.js"><link rel="prefetch" href="/assets/js/19.81dac5f4.js"><link rel="prefetch" href="/assets/js/190.29e7f541.js"><link rel="prefetch" href="/assets/js/191.0ba2207c.js"><link rel="prefetch" href="/assets/js/192.36dea193.js"><link rel="prefetch" href="/assets/js/193.cb147e1d.js"><link rel="prefetch" href="/assets/js/194.569ebd0a.js"><link rel="prefetch" href="/assets/js/195.fe0c4ebf.js"><link rel="prefetch" href="/assets/js/196.7943b4f0.js"><link rel="prefetch" href="/assets/js/197.15498b32.js"><link rel="prefetch" href="/assets/js/198.bf082825.js"><link rel="prefetch" href="/assets/js/199.f76dadbf.js"><link rel="prefetch" href="/assets/js/20.45d8ffc5.js"><link rel="prefetch" href="/assets/js/200.80915aee.js"><link rel="prefetch" href="/assets/js/201.0fcd5a5e.js"><link rel="prefetch" href="/assets/js/202.ac356c7f.js"><link rel="prefetch" href="/assets/js/203.8b9abdf7.js"><link rel="prefetch" href="/assets/js/204.ceb5d675.js"><link rel="prefetch" href="/assets/js/205.292242cf.js"><link rel="prefetch" href="/assets/js/206.2e9cbdce.js"><link rel="prefetch" href="/assets/js/207.7a9094b4.js"><link rel="prefetch" href="/assets/js/208.c7ad7eab.js"><link rel="prefetch" href="/assets/js/209.681223ee.js"><link rel="prefetch" href="/assets/js/21.7a9f257f.js"><link rel="prefetch" href="/assets/js/210.3bbf8260.js"><link rel="prefetch" href="/assets/js/211.5bd34e61.js"><link rel="prefetch" href="/assets/js/212.dc330741.js"><link rel="prefetch" href="/assets/js/213.3cc734f7.js"><link rel="prefetch" href="/assets/js/214.91079873.js"><link rel="prefetch" href="/assets/js/215.25a0181b.js"><link rel="prefetch" href="/assets/js/216.3cb6f681.js"><link rel="prefetch" href="/assets/js/217.0187eee5.js"><link rel="prefetch" href="/assets/js/218.bb486cfa.js"><link rel="prefetch" href="/assets/js/219.5ca601a6.js"><link rel="prefetch" href="/assets/js/22.6aa340ac.js"><link rel="prefetch" href="/assets/js/220.f2fbfd29.js"><link rel="prefetch" href="/assets/js/221.c343eb87.js"><link rel="prefetch" href="/assets/js/222.eccb8faf.js"><link rel="prefetch" href="/assets/js/223.b6ee70d7.js"><link rel="prefetch" href="/assets/js/224.049967fd.js"><link rel="prefetch" href="/assets/js/225.e5573f45.js"><link rel="prefetch" href="/assets/js/226.f6133f9b.js"><link rel="prefetch" href="/assets/js/227.1d2bb9be.js"><link rel="prefetch" href="/assets/js/228.92c248b8.js"><link rel="prefetch" href="/assets/js/229.2da9b7fb.js"><link rel="prefetch" href="/assets/js/23.a2a5f82e.js"><link rel="prefetch" href="/assets/js/230.1ed17ebe.js"><link rel="prefetch" href="/assets/js/231.f9a8d324.js"><link rel="prefetch" href="/assets/js/232.d073b6b8.js"><link rel="prefetch" href="/assets/js/233.bec9cdbd.js"><link rel="prefetch" href="/assets/js/234.cb6a1e28.js"><link rel="prefetch" href="/assets/js/235.ebb74d27.js"><link rel="prefetch" href="/assets/js/236.24044479.js"><link rel="prefetch" href="/assets/js/237.f7c04397.js"><link rel="prefetch" href="/assets/js/238.affa4a25.js"><link rel="prefetch" href="/assets/js/239.2b15684a.js"><link rel="prefetch" href="/assets/js/24.4f94869e.js"><link rel="prefetch" href="/assets/js/240.524a5283.js"><link rel="prefetch" href="/assets/js/241.a6f85fbc.js"><link rel="prefetch" href="/assets/js/242.a5012b0f.js"><link rel="prefetch" href="/assets/js/243.f2872f9d.js"><link rel="prefetch" href="/assets/js/244.af8dce4a.js"><link rel="prefetch" href="/assets/js/245.913dd95f.js"><link rel="prefetch" href="/assets/js/246.46085f09.js"><link rel="prefetch" href="/assets/js/247.cab3066d.js"><link rel="prefetch" href="/assets/js/248.6ffe9bd2.js"><link rel="prefetch" href="/assets/js/249.940ac997.js"><link rel="prefetch" href="/assets/js/25.8beba237.js"><link rel="prefetch" href="/assets/js/250.24f5729f.js"><link rel="prefetch" href="/assets/js/251.040b7687.js"><link rel="prefetch" href="/assets/js/252.fce23e02.js"><link rel="prefetch" href="/assets/js/253.6aa072a9.js"><link rel="prefetch" href="/assets/js/254.fced3292.js"><link rel="prefetch" href="/assets/js/255.81bdb3ab.js"><link rel="prefetch" href="/assets/js/256.eee8f018.js"><link rel="prefetch" href="/assets/js/257.258e3d5f.js"><link rel="prefetch" href="/assets/js/258.53764d35.js"><link rel="prefetch" href="/assets/js/259.44220dff.js"><link rel="prefetch" href="/assets/js/26.38f820a6.js"><link rel="prefetch" href="/assets/js/260.a78371e6.js"><link rel="prefetch" href="/assets/js/261.e47bec83.js"><link rel="prefetch" href="/assets/js/262.cdc1b042.js"><link rel="prefetch" href="/assets/js/263.83db8a83.js"><link rel="prefetch" href="/assets/js/264.2f01d4cb.js"><link rel="prefetch" href="/assets/js/265.e174d060.js"><link rel="prefetch" href="/assets/js/266.96c46fc6.js"><link rel="prefetch" href="/assets/js/267.b73d8242.js"><link rel="prefetch" href="/assets/js/268.a71f8ffc.js"><link rel="prefetch" href="/assets/js/269.d962ab34.js"><link rel="prefetch" href="/assets/js/27.7eb3747a.js"><link rel="prefetch" href="/assets/js/270.09b33473.js"><link rel="prefetch" href="/assets/js/271.68955791.js"><link rel="prefetch" href="/assets/js/272.c673e920.js"><link rel="prefetch" href="/assets/js/273.a5e8096c.js"><link rel="prefetch" href="/assets/js/274.9df9cd64.js"><link rel="prefetch" href="/assets/js/275.8ad49720.js"><link rel="prefetch" href="/assets/js/276.31c0a4dc.js"><link rel="prefetch" href="/assets/js/277.fb617ede.js"><link rel="prefetch" href="/assets/js/278.f0919232.js"><link rel="prefetch" href="/assets/js/279.ac800bcf.js"><link rel="prefetch" href="/assets/js/28.632f9819.js"><link rel="prefetch" href="/assets/js/280.f4c522e5.js"><link rel="prefetch" href="/assets/js/281.819aa80e.js"><link rel="prefetch" href="/assets/js/282.235df8a4.js"><link rel="prefetch" href="/assets/js/283.246395f4.js"><link rel="prefetch" href="/assets/js/284.5b296a3d.js"><link rel="prefetch" href="/assets/js/285.67018b71.js"><link rel="prefetch" href="/assets/js/286.a6ef00c7.js"><link rel="prefetch" href="/assets/js/287.99e52f33.js"><link rel="prefetch" href="/assets/js/288.18c31c85.js"><link rel="prefetch" href="/assets/js/289.2b552251.js"><link rel="prefetch" href="/assets/js/29.bfe31680.js"><link rel="prefetch" href="/assets/js/290.4b447987.js"><link rel="prefetch" href="/assets/js/291.3baa6247.js"><link rel="prefetch" href="/assets/js/292.8f5062ef.js"><link rel="prefetch" href="/assets/js/293.27c0a1dc.js"><link rel="prefetch" href="/assets/js/294.b0e5601c.js"><link rel="prefetch" href="/assets/js/295.f9b5b950.js"><link rel="prefetch" href="/assets/js/296.8a4a804f.js"><link rel="prefetch" href="/assets/js/297.01257458.js"><link rel="prefetch" href="/assets/js/298.4f017ceb.js"><link rel="prefetch" href="/assets/js/299.2da46571.js"><link rel="prefetch" href="/assets/js/3.65858833.js"><link rel="prefetch" href="/assets/js/30.1002dcb7.js"><link rel="prefetch" href="/assets/js/300.04bb66c3.js"><link rel="prefetch" href="/assets/js/301.9d789323.js"><link rel="prefetch" href="/assets/js/302.0905baf4.js"><link rel="prefetch" href="/assets/js/303.c6c45c69.js"><link rel="prefetch" href="/assets/js/304.00ef9abe.js"><link rel="prefetch" href="/assets/js/305.677e68b7.js"><link rel="prefetch" href="/assets/js/306.d0835ab7.js"><link rel="prefetch" href="/assets/js/307.bae3749e.js"><link rel="prefetch" href="/assets/js/308.ee85cd01.js"><link rel="prefetch" href="/assets/js/309.9d1f2a4b.js"><link rel="prefetch" href="/assets/js/31.558ae079.js"><link rel="prefetch" href="/assets/js/310.265d04c7.js"><link rel="prefetch" href="/assets/js/311.17cbe447.js"><link rel="prefetch" href="/assets/js/312.346fc5ee.js"><link rel="prefetch" href="/assets/js/313.76199886.js"><link rel="prefetch" href="/assets/js/314.d1057d8a.js"><link rel="prefetch" href="/assets/js/315.23751dda.js"><link rel="prefetch" href="/assets/js/316.d1e575c4.js"><link rel="prefetch" href="/assets/js/317.c2a8bc29.js"><link rel="prefetch" href="/assets/js/318.c547f900.js"><link rel="prefetch" href="/assets/js/319.3b387670.js"><link rel="prefetch" href="/assets/js/32.6f1977bb.js"><link rel="prefetch" href="/assets/js/320.0e4c3b38.js"><link rel="prefetch" href="/assets/js/321.6521e785.js"><link rel="prefetch" href="/assets/js/322.1f13f126.js"><link rel="prefetch" href="/assets/js/323.be785ecc.js"><link rel="prefetch" href="/assets/js/324.2d6515ef.js"><link rel="prefetch" href="/assets/js/325.0ab7f9ac.js"><link rel="prefetch" href="/assets/js/326.9b8a19a0.js"><link rel="prefetch" href="/assets/js/327.a6f2ffa3.js"><link rel="prefetch" href="/assets/js/328.ffb78689.js"><link rel="prefetch" href="/assets/js/329.caf6b6ea.js"><link rel="prefetch" href="/assets/js/33.373c3b91.js"><link rel="prefetch" href="/assets/js/330.f23dce5f.js"><link rel="prefetch" href="/assets/js/331.72924748.js"><link rel="prefetch" href="/assets/js/332.3836e7f7.js"><link rel="prefetch" href="/assets/js/333.67e7409c.js"><link rel="prefetch" href="/assets/js/334.b724e2e8.js"><link rel="prefetch" href="/assets/js/335.a3b2da56.js"><link rel="prefetch" href="/assets/js/336.2b428412.js"><link rel="prefetch" href="/assets/js/337.359508c5.js"><link rel="prefetch" href="/assets/js/338.b2326734.js"><link rel="prefetch" href="/assets/js/339.3bf7fea4.js"><link rel="prefetch" href="/assets/js/34.490080fd.js"><link rel="prefetch" href="/assets/js/340.d318bc78.js"><link rel="prefetch" href="/assets/js/341.2e4d7494.js"><link rel="prefetch" href="/assets/js/342.3dd76710.js"><link rel="prefetch" href="/assets/js/343.e06d2cd3.js"><link rel="prefetch" href="/assets/js/344.89f98670.js"><link rel="prefetch" href="/assets/js/345.ae8d10b7.js"><link rel="prefetch" href="/assets/js/346.2ca232aa.js"><link rel="prefetch" href="/assets/js/347.7093141c.js"><link rel="prefetch" href="/assets/js/348.4ded54aa.js"><link rel="prefetch" href="/assets/js/349.f2f3de7a.js"><link rel="prefetch" href="/assets/js/35.303e0d83.js"><link rel="prefetch" href="/assets/js/350.88f21b2b.js"><link rel="prefetch" href="/assets/js/351.df3bf6ec.js"><link rel="prefetch" href="/assets/js/352.5487b192.js"><link rel="prefetch" href="/assets/js/353.46746b90.js"><link rel="prefetch" href="/assets/js/354.44942fe7.js"><link rel="prefetch" href="/assets/js/355.c1941c58.js"><link rel="prefetch" href="/assets/js/356.08b96daf.js"><link rel="prefetch" href="/assets/js/357.61de5029.js"><link rel="prefetch" href="/assets/js/358.dd8ffb5f.js"><link rel="prefetch" href="/assets/js/359.13558983.js"><link rel="prefetch" href="/assets/js/36.a0d30943.js"><link rel="prefetch" href="/assets/js/360.2ad56070.js"><link rel="prefetch" href="/assets/js/361.3793119e.js"><link rel="prefetch" href="/assets/js/362.8f627cfe.js"><link rel="prefetch" href="/assets/js/363.47c7e111.js"><link rel="prefetch" href="/assets/js/364.1550afcc.js"><link rel="prefetch" href="/assets/js/365.8b746335.js"><link rel="prefetch" href="/assets/js/366.0b1fa772.js"><link rel="prefetch" href="/assets/js/367.ee23b98a.js"><link rel="prefetch" href="/assets/js/368.e438a39c.js"><link rel="prefetch" href="/assets/js/369.4a61dd03.js"><link rel="prefetch" href="/assets/js/37.4284cc0c.js"><link rel="prefetch" href="/assets/js/370.69adb26c.js"><link rel="prefetch" href="/assets/js/371.0192e779.js"><link rel="prefetch" href="/assets/js/372.6d850781.js"><link rel="prefetch" href="/assets/js/373.eb913a40.js"><link rel="prefetch" href="/assets/js/374.a1770de3.js"><link rel="prefetch" href="/assets/js/375.5493fcc6.js"><link rel="prefetch" href="/assets/js/376.9e13ab67.js"><link rel="prefetch" href="/assets/js/377.f9dee5a7.js"><link rel="prefetch" href="/assets/js/378.dade2491.js"><link rel="prefetch" href="/assets/js/379.707a72b7.js"><link rel="prefetch" href="/assets/js/38.a5f4c0b4.js"><link rel="prefetch" href="/assets/js/380.a754e171.js"><link rel="prefetch" href="/assets/js/381.0e200507.js"><link rel="prefetch" href="/assets/js/382.bff69b7e.js"><link rel="prefetch" href="/assets/js/383.0e26f22d.js"><link rel="prefetch" href="/assets/js/384.70cfdd5d.js"><link rel="prefetch" href="/assets/js/385.7cd56e59.js"><link rel="prefetch" href="/assets/js/386.8d8ae20c.js"><link rel="prefetch" href="/assets/js/387.017c1a90.js"><link rel="prefetch" href="/assets/js/388.003eda57.js"><link rel="prefetch" href="/assets/js/389.e9c2ebd4.js"><link rel="prefetch" href="/assets/js/39.d70df4df.js"><link rel="prefetch" href="/assets/js/390.ee4577b4.js"><link rel="prefetch" href="/assets/js/391.295ea24c.js"><link rel="prefetch" href="/assets/js/392.cd9b2c07.js"><link rel="prefetch" href="/assets/js/393.83e0324c.js"><link rel="prefetch" href="/assets/js/394.c5c6ee2a.js"><link rel="prefetch" href="/assets/js/395.5e92d62c.js"><link rel="prefetch" href="/assets/js/396.45440149.js"><link rel="prefetch" href="/assets/js/397.2e9c4d79.js"><link rel="prefetch" href="/assets/js/398.2faad846.js"><link rel="prefetch" href="/assets/js/399.d28827bb.js"><link rel="prefetch" href="/assets/js/4.be154c6d.js"><link rel="prefetch" href="/assets/js/40.0e7741b1.js"><link rel="prefetch" href="/assets/js/400.f47d0892.js"><link rel="prefetch" href="/assets/js/401.81b1faad.js"><link rel="prefetch" href="/assets/js/402.5dcee620.js"><link rel="prefetch" href="/assets/js/403.ca06d49f.js"><link rel="prefetch" href="/assets/js/404.0108fa08.js"><link rel="prefetch" href="/assets/js/405.c209c80d.js"><link rel="prefetch" href="/assets/js/406.22242ecd.js"><link rel="prefetch" href="/assets/js/407.636d72f6.js"><link rel="prefetch" href="/assets/js/408.2114030b.js"><link rel="prefetch" href="/assets/js/409.0376024e.js"><link rel="prefetch" href="/assets/js/41.12ed2989.js"><link rel="prefetch" href="/assets/js/410.1777965c.js"><link rel="prefetch" href="/assets/js/411.ef129704.js"><link rel="prefetch" href="/assets/js/412.94623570.js"><link rel="prefetch" href="/assets/js/413.ab7078ca.js"><link rel="prefetch" href="/assets/js/414.9af06b0d.js"><link rel="prefetch" href="/assets/js/415.e7de3e45.js"><link rel="prefetch" href="/assets/js/416.1a6c50b3.js"><link rel="prefetch" href="/assets/js/417.76759517.js"><link rel="prefetch" href="/assets/js/418.2dff2af0.js"><link rel="prefetch" href="/assets/js/419.4ecbfc19.js"><link rel="prefetch" href="/assets/js/42.9ce2dafa.js"><link rel="prefetch" href="/assets/js/420.7c34868f.js"><link rel="prefetch" href="/assets/js/421.538335ca.js"><link rel="prefetch" href="/assets/js/422.da47dc21.js"><link rel="prefetch" href="/assets/js/423.e3b38e9c.js"><link rel="prefetch" href="/assets/js/424.04a76082.js"><link rel="prefetch" href="/assets/js/425.419f9989.js"><link rel="prefetch" href="/assets/js/426.fffcc7ef.js"><link rel="prefetch" href="/assets/js/427.9e079a21.js"><link rel="prefetch" href="/assets/js/428.ce33c968.js"><link rel="prefetch" href="/assets/js/429.a4e784c3.js"><link rel="prefetch" href="/assets/js/43.444176d4.js"><link rel="prefetch" href="/assets/js/430.acdd537f.js"><link rel="prefetch" href="/assets/js/431.3d619af2.js"><link rel="prefetch" href="/assets/js/432.f73efd71.js"><link rel="prefetch" href="/assets/js/433.a4cfcb90.js"><link rel="prefetch" href="/assets/js/44.6b486ceb.js"><link rel="prefetch" href="/assets/js/45.2b0cc8b1.js"><link rel="prefetch" href="/assets/js/46.fd2da8aa.js"><link rel="prefetch" href="/assets/js/47.f7b70d96.js"><link rel="prefetch" href="/assets/js/48.5cc6e7e9.js"><link rel="prefetch" href="/assets/js/49.3ba51b5e.js"><link rel="prefetch" href="/assets/js/5.5aa9e0f7.js"><link rel="prefetch" href="/assets/js/50.cfb28ca0.js"><link rel="prefetch" href="/assets/js/51.1241594b.js"><link rel="prefetch" href="/assets/js/52.3fae4eef.js"><link rel="prefetch" href="/assets/js/53.553bfcb3.js"><link rel="prefetch" href="/assets/js/54.2662d576.js"><link rel="prefetch" href="/assets/js/55.94f132f1.js"><link rel="prefetch" href="/assets/js/56.c48de3a0.js"><link rel="prefetch" href="/assets/js/57.9205b377.js"><link rel="prefetch" href="/assets/js/58.618d72ce.js"><link rel="prefetch" href="/assets/js/59.bf2a8650.js"><link rel="prefetch" href="/assets/js/6.1063792f.js"><link rel="prefetch" href="/assets/js/60.2a047c47.js"><link rel="prefetch" href="/assets/js/61.d47fd11d.js"><link rel="prefetch" href="/assets/js/62.8c29dffd.js"><link rel="prefetch" href="/assets/js/63.16bb986d.js"><link rel="prefetch" href="/assets/js/64.bc64102f.js"><link rel="prefetch" href="/assets/js/65.1169c72f.js"><link rel="prefetch" href="/assets/js/66.824d09da.js"><link rel="prefetch" href="/assets/js/67.ce84321c.js"><link rel="prefetch" href="/assets/js/68.8595c270.js"><link rel="prefetch" href="/assets/js/69.89e05461.js"><link rel="prefetch" href="/assets/js/7.bccc53b9.js"><link rel="prefetch" href="/assets/js/70.8fbede4d.js"><link rel="prefetch" href="/assets/js/71.01a73ce4.js"><link rel="prefetch" href="/assets/js/72.1e0dd7f1.js"><link rel="prefetch" href="/assets/js/73.24f77f07.js"><link rel="prefetch" href="/assets/js/74.0c83a59d.js"><link rel="prefetch" href="/assets/js/75.bd6435e0.js"><link rel="prefetch" href="/assets/js/76.94a80511.js"><link rel="prefetch" href="/assets/js/77.a27d1809.js"><link rel="prefetch" href="/assets/js/78.83ab434c.js"><link rel="prefetch" href="/assets/js/79.cf8518ea.js"><link rel="prefetch" href="/assets/js/8.45f7d402.js"><link rel="prefetch" href="/assets/js/80.596962e9.js"><link rel="prefetch" href="/assets/js/81.63120495.js"><link rel="prefetch" href="/assets/js/82.21ad56f5.js"><link rel="prefetch" href="/assets/js/83.baab9377.js"><link rel="prefetch" href="/assets/js/84.f53f30b8.js"><link rel="prefetch" href="/assets/js/85.8523fba7.js"><link rel="prefetch" href="/assets/js/86.db32bca6.js"><link rel="prefetch" href="/assets/js/87.1154c1cd.js"><link rel="prefetch" href="/assets/js/88.3fe0517a.js"><link rel="prefetch" href="/assets/js/89.ba98eb57.js"><link rel="prefetch" href="/assets/js/9.84f6f752.js"><link rel="prefetch" href="/assets/js/90.7abbd7d9.js"><link rel="prefetch" href="/assets/js/91.62d46791.js"><link rel="prefetch" href="/assets/js/92.3738d8e0.js"><link rel="prefetch" href="/assets/js/93.558070f9.js"><link rel="prefetch" href="/assets/js/94.3c8015f9.js"><link rel="prefetch" href="/assets/js/95.4071db60.js"><link rel="prefetch" href="/assets/js/96.26f85934.js"><link rel="prefetch" href="/assets/js/97.5b1f6f77.js"><link rel="prefetch" href="/assets/js/98.0bd39397.js"><link rel="prefetch" href="/assets/js/99.51095dbe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53c04193.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="baby sword‘s blog" class="logo"> <span class="site-name can-hide">baby sword‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/945148/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/945148/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/myAvator.png"> <div class="blogger-info"><h3>zhengjian</h3> <span>不敢承担失去的风险，是不可能抓住梦想的</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/945148/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/945148/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RPC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>netty</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>maven</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/259e0a/" class="sidebar-link">linux安装maven</a></li><li><a href="/pages/97e26b/" class="sidebar-link">maven</a></li><li><a href="/pages/945148/" aria-current="page" class="active sidebar-link">maven摘录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、什么是maven" class="sidebar-link">一、什么是Maven？</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-系统要求" class="sidebar-link">1.系统要求</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-安装步骤" class="sidebar-link">2.安装步骤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-jdk安装" class="sidebar-link">2.1.JDK安装</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#jdk下载" class="sidebar-link">JDK下载</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#jdk安装" class="sidebar-link">JDK安装</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#校验安装" class="sidebar-link">校验安装</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-maven安装" class="sidebar-link">2.2.Maven安装</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#maven下载" class="sidebar-link">Maven下载</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#maven安装" class="sidebar-link">Maven安装</a></li><li class="sidebar-sub-header level4"><a href="/pages/945148/#校验安装-2" class="sidebar-link">校验安装</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-pom文件" class="sidebar-link">1.POM文件</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-使用maven构建项目" class="sidebar-link">2.使用Maven构建项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-使用命令行" class="sidebar-link">2.1.使用命令行</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-使用idea" class="sidebar-link">2.2.使用IDEA</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-使用maven打包项目" class="sidebar-link">3.使用Maven打包项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-1-使用命令行打包" class="sidebar-link">3.1.使用命令行打包</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-2-使用idea" class="sidebar-link">3.2.使用IDEA</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、创建一个maven项目" class="sidebar-link">一、创建一个maven项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-使用idea创建一个maven项目" class="sidebar-link">1.使用Idea创建一个maven项目</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-项目目录结构" class="sidebar-link">2.项目目录结构</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-pom文件" class="sidebar-link">3.pom文件</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-项目目录结构遵循约定" class="sidebar-link">1.项目目录结构遵循约定</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-说明" class="sidebar-link">1.说明</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-简单配置" class="sidebar-link">2.简单配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-其他配置" class="sidebar-link">3.其他配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-说明-2" class="sidebar-link">1.说明</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-坐标元素" class="sidebar-link">2.坐标元素</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-项目构件的文件名" class="sidebar-link">3.项目构件的文件名</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-使用maven怎么引入依赖" class="sidebar-link">1.使用maven怎么引入依赖？</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-maven依赖范围" class="sidebar-link">2.maven依赖范围</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-依赖范围与classpath的关系" class="sidebar-link">3.依赖范围与classpath的关系</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_4-scope与运行classpath" class="sidebar-link">4.scope与运行classpath</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-说明-3" class="sidebar-link">1.说明</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-依赖范围对传递性依赖的影响" class="sidebar-link">2.依赖范围对传递性依赖的影响</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-第一原则-路径近者优先。" class="sidebar-link">1.第一原则：路径近者优先。</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-第二原则-第一声明者优先。" class="sidebar-link">2.第二原则：第一声明者优先。</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-排除依赖" class="sidebar-link">1.排除依赖</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-归类依赖" class="sidebar-link">2.归类依赖</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-优化依赖" class="sidebar-link">3.优化依赖</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、引入" class="sidebar-link">一、引入</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-本地仓库" class="sidebar-link">1.本地仓库</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-远程仓库" class="sidebar-link">2.远程仓库</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-中央仓库" class="sidebar-link">3.中央仓库</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_4-私服" class="sidebar-link">4.私服</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_5-其他远程仓库" class="sidebar-link">5.其他远程仓库</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-在项目pom中配置远程仓库-项目" class="sidebar-link">1.在项目POM中配置远程仓库（项目）</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-在用户配置中配置镜像仓库-全局" class="sidebar-link">2.在用户配置中配置镜像仓库（全局）</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、私服" class="sidebar-link">一、私服</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-安装和配置" class="sidebar-link">1.安装和配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-上传-deploy-配置" class="sidebar-link">2.上传(deploy)配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、maven的生命周期" class="sidebar-link">一、maven的生命周期</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-生命周期介绍" class="sidebar-link">1.生命周期介绍</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-生命周期详解" class="sidebar-link">2.生命周期详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-三套生命周期" class="sidebar-link">2.1.三套生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-生命周期内部的阶段" class="sidebar-link">2.2.生命周期内部的阶段</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-3-clean生命周期" class="sidebar-link">2.3.clean生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-4-default生命周期" class="sidebar-link">2.4.default生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-5-site生命周期" class="sidebar-link">2.5.site生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-6-mvn命令和生命周期" class="sidebar-link">2.6.mvn命令和生命周期</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-插件目标" class="sidebar-link">1.插件目标</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-插件绑定" class="sidebar-link">2.插件绑定</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-内置绑定" class="sidebar-link">3.内置绑定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-1-说明" class="sidebar-link">3.1.说明</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-2-clean生命周期阶段与插件目标的绑定关系" class="sidebar-link">3.2.clean生命周期阶段与插件目标的绑定关系</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-3-default生命周期阶段与插件目标的绑定关系-打包类型-jar" class="sidebar-link">3.3.default生命周期阶段与插件目标的绑定关系(打包类型:jar)</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-4-site生命周期阶段与插件目标的绑定关系" class="sidebar-link">3.4.site生命周期阶段与插件目标的绑定关系</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-5-构建过程验证" class="sidebar-link">3.5.构建过程验证</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_4-插件配置" class="sidebar-link">4.插件配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-1-命令行插件配置" class="sidebar-link">4.1.命令行插件配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-2-pom文件中插件全局配置" class="sidebar-link">4.2.pom文件中插件全局配置</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_5-获取插件信息" class="sidebar-link">5.获取插件信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_5-1-在线插件信息" class="sidebar-link">5.1.在线插件信息</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_5-2-使用-maven-help-plugin-描述插件" class="sidebar-link">5.2.使用 maven-help-plugin 描述插件</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_5-3-从命令行调用插件" class="sidebar-link">5.3.从命令行调用插件</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_6-插件解析" class="sidebar-link">6.插件解析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_6-1-插件仓库" class="sidebar-link">6.1.插件仓库</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_6-2-插件的默认groupid" class="sidebar-link">6.2.插件的默认groupId</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_6-3-解析插件版本" class="sidebar-link">6.3.解析插件版本</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_6-4-解析插件前缀" class="sidebar-link">6.4.解析插件前缀</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#一、灵活构建" class="sidebar-link">一、灵活构建</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-三大特性" class="sidebar-link">1.三大特性</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-属性" class="sidebar-link">2.属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-自定义属性" class="sidebar-link">2.1.自定义属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-内置属性" class="sidebar-link">2.2.内置属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-3-pom属性" class="sidebar-link">2.3.POM属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-4-settings属性" class="sidebar-link">2.4.settings属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-5-java系统属性" class="sidebar-link">2.5.Java系统属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-6-环境变量属性" class="sidebar-link">2.6.环境变量属性</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-资源过滤" class="sidebar-link">3.资源过滤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-1-遇到的问题" class="sidebar-link">3.1.遇到的问题</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-2-解决" class="sidebar-link">3.2.解决</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-3-示例" class="sidebar-link">3.3.示例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_4-maven-profile" class="sidebar-link">4.Maven Profile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-1-针对不同环境的profile" class="sidebar-link">4.1.针对不同环境的profile</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-2-激活profile" class="sidebar-link">4.2.激活profile</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-3-查看当前激活的profile" class="sidebar-link">4.3.查看当前激活的profile</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_4-4-列出所有的profile" class="sidebar-link">4.4.列出所有的profile</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-为什么使用聚合" class="sidebar-link">1.为什么使用聚合？</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-聚合配置" class="sidebar-link">2.聚合配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-聚合模块pom配置" class="sidebar-link">2.1.聚合模块pom配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-聚合模块相对位置" class="sidebar-link">2.2.聚合模块相对位置</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-3-聚合模块意义" class="sidebar-link">2.3.聚合模块意义</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-4-聚合模块构建" class="sidebar-link">2.4.聚合模块构建</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-为什么使用继承" class="sidebar-link">1.为什么使用继承？</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-继承配置" class="sidebar-link">2.继承配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-1-项目继承的配置" class="sidebar-link">2.1.项目继承的配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-2-可继承的pom元素" class="sidebar-link">2.2.可继承的pom元素</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-3-依赖管理" class="sidebar-link">2.3.依赖管理</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_2-4-插件管理" class="sidebar-link">2.4.插件管理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-目的" class="sidebar-link">1.目的</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-与其他模块关系" class="sidebar-link">2.与其他模块关系</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-共同点" class="sidebar-link">3.共同点</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_4-实际使用" class="sidebar-link">4.实际使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_1-介绍" class="sidebar-link">1.介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_1-1-反应堆" class="sidebar-link">1.1.反应堆</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_1-2-单模块项目的反应堆" class="sidebar-link">1.2.单模块项目的反应堆</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_1-3-多模块项目的反应堆" class="sidebar-link">1.3.多模块项目的反应堆</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_2-反应堆构建顺序" class="sidebar-link">2.反应堆构建顺序</a></li><li class="sidebar-sub-header level2"><a href="/pages/945148/#_3-裁剪反应堆" class="sidebar-link">3.裁剪反应堆</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-1-说明-2" class="sidebar-link">3.1.说明</a></li><li class="sidebar-sub-header level3"><a href="/pages/945148/#_3-2-裁剪反应堆选项" class="sidebar-link">3.2.裁剪反应堆选项</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/structure/#常见框架" data-v-06225672>常见框架</a></li><li data-v-06225672><a href="/structure/#maven" data-v-06225672>maven</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xugaoyi" target="_blank" title="作者" class="beLink" data-v-06225672>xugaoyi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-02-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">maven摘录<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_1-快速入门"><a href="#_1-快速入门" class="header-anchor">#</a> 1 快速入门</h1> <h2 id="一、什么是maven"><a href="#一、什么是maven" class="header-anchor">#</a> 一、什么是Maven？</h2> <p>Maven 是一个项目管理和整合工具。Maven 为开发者提供了一套完整的构建生命周期框架。开发团队几乎不用花多少时间就能够自动完成工程的基础构建配置，因为 Maven 使用了一个标准的目录结构和一个默认的构建生命周期。</p> <p>在有多个开发团队环境的情况下，Maven 能够在很短的时间内使得每项工作都按照标准进行。因为大部分的工程配置操作都非常简单并且可复用，在创建报告、检查、构建和测试自动配置时，Maven 可以让开发者的工作变得更简单。</p> <p>Maven 能够帮助开发者完成以下工作：</p> <ul><li>构建</li> <li>文档生成</li> <li>报告</li> <li>依赖</li> <li>SCMs</li> <li>发布</li> <li>分发</li> <li>邮件列表</li></ul> <p>总的来说，Maven 简化了工程的构建过程，并对其标准化。它无缝衔接了编译、发布、文档生成、团队合作和其他任务。Maven 提高了重用性，负责了大部分构建相关的任务。</p> <h1 id="二、如何安装maven"><a href="#二、如何安装maven" class="header-anchor">#</a> 二、如何安装Maven？</h1> <h2 id="_1-系统要求"><a href="#_1-系统要求" class="header-anchor">#</a> 1.系统要求</h2> <table><thead><tr><th>项目</th> <th>要求</th></tr></thead> <tbody><tr><td>JDK</td> <td>Maven 3.3 要求 JDK 1.7 或以上 Maven 3.2 要求 JDK 1.6 或以上 Maven 3.0/3.1 要求 JDK 1.5 或以上</td></tr> <tr><td>内存</td> <td>没有最低要求</td></tr> <tr><td>磁盘</td> <td>Maven 自身安装需要大约 10 MB 空间。除此之外，额外的磁盘空间将用于你的本地 Maven 仓库。你本地仓库的大小取决于使用情况，但预期至少 500 MB</td></tr> <tr><td>操作系统</td> <td>没有最低要求</td></tr></tbody></table> <h2 id="_2-安装步骤"><a href="#_2-安装步骤" class="header-anchor">#</a> 2.安装步骤</h2> <h3 id="_2-1-jdk安装"><a href="#_2-1-jdk安装" class="header-anchor">#</a> 2.1.JDK安装</h3> <h4 id="jdk下载"><a href="#jdk下载" class="header-anchor">#</a> JDK下载</h4> <p>推荐在oracle官网下载JDK：https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125609929.png" alt="image-20240105125609929"></p> <h4 id="jdk安装"><a href="#jdk安装" class="header-anchor">#</a> JDK安装</h4> <p>在MacOS环境下可以直接通过dmg程序进行安装，安装程序会自动配置环境，无需手动配置。</p> <h4 id="校验安装"><a href="#校验安装" class="header-anchor">#</a> 校验安装</h4> <p>可以在terminal中使用以下命令检查JDK是否安装成功。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>java -version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如出现以下输出，代表JDK安装正常。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>java version &quot;1.8.0_291&quot;
Java(TM) SE Runtime Environment (build 1.8.0_291-b10)
Java HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-2-maven安装"><a href="#_2-2-maven安装" class="header-anchor">#</a> 2.2.Maven安装</h3> <h4 id="maven下载"><a href="#maven下载" class="header-anchor">#</a> Maven下载</h4> <p>从以下网址下载 Maven 3.8.1：<a href="http://maven.apache.org/download.html" target="_blank" rel="noopener noreferrer">http://maven.Apache.org/download.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125624885.png" alt="image-20240105125624885"></p> <h4 id="maven安装"><a href="#maven安装" class="header-anchor">#</a> Maven安装</h4> <p>1.解压文件到你想要的位置来安装 Maven 3.8.1，你会得到 apache-maven-3.8.1 子目录。</p> <p>2.添加 M2_HOME、M2、MAVEN_OPTS 到环境变量中。</p> <p>Mac环境下可以使用以下任意一种方法添加环境变量</p> <table><thead><tr><th>名称</th> <th>步骤1</th> <th>步骤2</th> <th>步骤3</th></tr></thead> <tbody><tr><td>修改<strong>全局环境变量</strong></td> <td>在terminal输入：（可能需要使用sudo命令）<code>sudo vi /etc/bashrc</code></td> <td>在文件的末尾追加：<code>export M2_HOME=改成你解压到的地址/apache-maven-3.8.4 export M2=$M2_HOME/bin export MAVEN_OPTS=-Xms256m -Xmx512m export PATH=$M2:$PATH</code></td> <td>让修改的文件生效<code>source /etc/bashrc</code></td></tr> <tr><td>修改当前<strong>用户环境变量</strong></td> <td>在terminal输入：<code>vi ~/.bash_rc</code></td> <td>让修改的文件生效<code>source ~/.bash_rc</code></td> <td></td></tr></tbody></table> <h4 id="校验安装-2"><a href="#校验安装-2" class="header-anchor">#</a> 校验安装</h4> <p>在terminal中输入</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn --version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>展示内容为如下所示，说明安装成功</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Apache Maven 3.8.4
Maven home: 你解压到的地址/apache-maven-3.8.4
Java version: 1.8.0_291, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_291.jdk/Contents/Home/jre
Default locale: zh_CN, platform encoding: UTF-8
OS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="三、如何使用maven构建项目"><a href="#三、如何使用maven构建项目" class="header-anchor">#</a> 三、如何使用Maven构建项目？</h1> <h2 id="_1-pom文件"><a href="#_1-pom文件" class="header-anchor">#</a> 1.POM文件</h2> <p>POM 代表工程对象模型。它是使用 Maven 工作时的基本组建，是一个 xml 文件。它被放在工程根目录下，文件命名为 pom.xml。</p> <p>POM 包含了关于工程和各种配置细节的信息，Maven 使用这些信息构建工程。POM 也包含了目标和插件。当执行一个任务或者目标时，Maven 会查找当前目录下的 POM，从其中读取所需要的配置信息，然后执行目标。</p> <p>常见的POM文件格式如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
   http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

   &lt;groupId&gt;com.sankuai&lt;/groupId&gt;
   &lt;artifactId&gt;mavenTest&lt;/artifactId&gt;
   &lt;version&gt;1.0&lt;/version&gt;

&lt;/project&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>需要说明的是每个工程应该只有一个 POM 文件。</p> <ul><li>所有的 POM 文件需要 <strong>project</strong> 元素和三个必须的字段：<strong>groupId, artifactId,version</strong>。</li> <li>在仓库中的工程标识为 <strong>groupId:artifactId:version</strong></li> <li>POM.xml 的根元素是 <strong>project</strong>，它有三个主要的子节点：</li></ul> <table><thead><tr><th>节点</th> <th>描述</th></tr></thead> <tbody><tr><td>groupId</td> <td>这是工程组的标识。它在一个组织或者项目中通常是唯一的。通常我们使用公司的域名倒置作为groupId，例如，三快在线的groupId为com.sankuai。</td></tr> <tr><td>artifactId</td> <td>这是工程的标识。它通常是工程的名称。例如，一个用来测试maven的项目名称为mavenTest。groupId 和 artifactId 一起定义了 artifact 在仓库中的位置。</td></tr> <tr><td>version</td> <td>这是工程的版本号。在 artifact 的仓库中，它用来区分不同的版本。例如： com.sankuai:mavenTest:1.0.0 com.sankuai:mavenTest:1.0.1</td></tr></tbody></table> <p>一般来说我们不需要自己手动编写POM文件，当使用Maven构建项目时会自动生成对应的POM文件。</p> <h2 id="_2-使用maven构建项目"><a href="#_2-使用maven构建项目" class="header-anchor">#</a> 2.使用Maven构建项目</h2> <p>Maven 使用**原型（archetype）**插件创建工程，并且Maven内置了大量的JAVA原型模版。通常我们有两种方法使用Maven来创建项目。在下面的例子中将演示两种使用Maven构建Java项目的方法。</p> <h3 id="_2-1-使用命令行"><a href="#_2-1-使用命令行" class="header-anchor">#</a> 2.1.使用命令行</h3> <p>1.打开命令行工具，跳转到合适的项目目录下，在此处使用~/workspace作为演示目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd ~/workspace
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.使用Maven命令行构建项目</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn archetype:generate -DgroupId=com.sankuai -DartifactId=mavenTest -DarchetypeArtifactId=maven-archetype-quickstart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <p>archetype:generate 构建项目</p> <p>-DgroupId=com.sankuai 工程组设置为公司的名称</p> <p>-DartifactId=mavenTest 指明项目名称</p> <p>-DarchetypeArtifactId=maven-archetype-quickstart 使用Java原型插件，这个插件也是项目工程中使用最频繁的插件。</p> <p>执行命令之后会展示如下输出信息，说明项目构建成功。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-metadata.xml
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/com/dianping/maven/plugins/maven-metadata.xml
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/unidal/maven/plugins/maven-metadata.xml
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/jvnet/hudson/tools/maven-metadata.xml
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/unidal/maven/plugins/maven-metadata.xml (301 B at 2.7 kB/s)
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-metadata.xml (14 kB at 120 kB/s)
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/com/dianping/maven/plugins/maven-metadata.xml (812 B at 7.1 kB/s)
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/codehaus/mojo/maven-metadata.xml
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/jvnet/hudson/tools/maven-metadata.xml (705 B at 1.6 kB/s)
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/codehaus/mojo/maven-metadata.xml (21 kB at 44 kB/s)
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml (981 B at 2.0 kB/s)
[INFO]
[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] --------------------------------[ pom ]---------------------------------
[INFO]
[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.1:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;
[INFO]
[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.1:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;
[INFO]
[INFO]
[INFO] --- maven-archetype-plugin:3.2.1:generate (default-cli) @ standalone-pom ---
[INFO] Generating project in Batch mode
[INFO] ----------------------------------------------------------------------------
[INFO] Using following parameters for creating project from Old (1.x) Archetype: maven-archetype-quickstart:1.0
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: basedir, Value: /Users/xuyang/workspace/mavenTestProject
[INFO] Parameter: package, Value: com.sankuai
[INFO] Parameter: groupId, Value: com.sankuai
[INFO] Parameter: artifactId, Value: mavenTest
[INFO] Parameter: packageName, Value: com.sankuai
[INFO] Parameter: version, Value: 1.0-SNAPSHOT
[INFO] project created from Old (1.x) Archetype in dir: /Users/xuyang/workspace/mavenTestProject/mavenTest
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  4.166 s
[INFO] Finished at: 2022-01-11T15:34:31+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>现在进入到生成的项目文件夹中</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd mavenTest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所生成的文件结构如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
└── mavenTest
    ├── pom.xml
    └── src
        ├── main
        │   └── java
        │       └── com
        │           └── sankuai
        │               └── App.java
        └── test
            └── java
                └── com
                    └── sankuai
                        └── AppTest.java
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>使用上面的例子，我们可以知道下面几个关键概念：</p> <table><thead><tr><th>文件夹结构</th> <th>描述</th></tr></thead> <tbody><tr><td>mavenTest</td> <td>包含 src 文件夹和 pom.xml</td></tr> <tr><td>src/main/java</td> <td>java 代码文件在包结构下（com/sankuai）。</td></tr> <tr><td>src/main/test</td> <td>测试代码文件在包结构下（com/sankuai）。</td></tr> <tr><td>src/main/resources</td> <td>包含了属性文件（在上面的例子中，我们需要手动创建这个结构）。</td></tr></tbody></table> <p>Maven 也创建了一个简单的 Java 源文件和 Java 测试文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>package com.sankuai;

/**
 * Hello world!
 *
 */
public class App
{
    public static void main( String[] args )
    {
        System.out.println( &quot;Hello World!&quot; );
    }
}
package com.sankuai;

import junit.framework.Test;
import junit.framework.TestCase;
import junit.framework.TestSuite;

/**
 * Unit test for simple App.
 */
public class AppTest
    extends TestCase
{
    /**
     * Create the test case
     *
     * @param testName name of the test case
     */
    public AppTest( String testName )
    {
        super( testName );
    }

    /**
     * @return the suite of tests being tested
     */
    public static Test suite()
    {
        return new TestSuite( AppTest.class );
    }

    /**
     * Rigourous Test :-)
     */
    public void testApp()
    {
        assertTrue( true );
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="_2-2-使用idea"><a href="#_2-2-使用idea" class="header-anchor">#</a> 2.2.使用IDEA</h3> <p>使用IDEA开发环境可以快速通过图形界面生成Java项目，接下来展示如何使用IDEA生成Maven项目。</p> <p>1.在新建项目页面选择Maven，并在右侧选择使用archetype</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125701224.png" alt="image-20240105125701224"></p> <p>2.点击next，设置项目groupId和artifactId</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125713865.png" alt="image-20240105125713865"></p> <p>需要注意的是，我们无需手动输入Name以及Location，输入artifactId时会自动生成。</p> <p>3.点击next，校验构建清单</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125726952.png" alt="image-20240105125726952"></p> <p>4.点击finish完成构建，之后IDEA就会自动构建Java项目了。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125741049.png" alt="image-20240105125741049"></p> <h2 id="_3-使用maven打包项目"><a href="#_3-使用maven打包项目" class="header-anchor">#</a> 3.使用Maven打包项目</h2> <p>接下来我们将使用Maven对项目进行打包，我们可以使用以下两种方案对Java项目进行打包</p> <h3 id="_3-1-使用命令行打包"><a href="#_3-1-使用命令行打包" class="header-anchor">#</a> 3.1.使用命令行打包</h3> <p>1.使用cd命令进入到项目的根路径。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd mavenTest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.使用package对项目进行打包</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn clean package
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <p>clean 是maven内置的生命周期之一，使用maven打包会在项目生成target文件夹，其中用来存放1）被编译之后的class文件，2）打包生成的最终jar文件</p> <p>package  是maven内置的生命周期之一，用来对项目进行打包生成jar可执行文件</p> <p>执行之后，会输出一下内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO]
[INFO] -----------------------&lt; com.sankuai:mavenTest &gt;------------------------
[INFO] Building mavenTest 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ mavenTest ---
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTestProject/mavenTest/src/main/resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest ---
[INFO] Changes detected - recompiling the module!
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTestProject/mavenTest/target/classes
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTestProject/mavenTest/src/test/resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest ---
[INFO] Changes detected - recompiling the module!
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTestProject/mavenTest/target/test-classes
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ mavenTest ---
[INFO] Surefire report directory: /Users/xuyang/workspace/mavenTestProject/mavenTest/target/surefire-reports
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.pom
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.pom (1.7 kB at 3.7 kB/s)
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom (2.3 kB at 10.0 kB/s)
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.jar
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.jar (26 kB at 231 kB/s)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.sankuai.AppTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ mavenTest ---
[INFO] Building jar: /Users/xuyang/workspace/mavenTestProject/mavenTest/target/mavenTest-1.0-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  3.182 s
[INFO] Finished at: 2022-01-11T16:14:39+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>在根路径下会自动生成target文件夹</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
├── pom.xml
├── src
│   ├── main
│   │   └── java
│   │       └── com
│   │           └── sankuai
│   │               └── App.java
│   └── test
│       └── java
│           └── com
│               └── sankuai
│                   └── AppTest.java
└── target
    ├── classes
    │   └── com
    │       └── sankuai
    │           └── App.class
    ├── maven-archiver
    │   └── pom.properties
    ├── maven-status
    │   └── maven-compiler-plugin
    │       ├── compile
    │       │   └── default-compile
    │       │       ├── createdFiles.lst
    │       │       └── inputFiles.lst
    │       └── testCompile
    │           └── default-testCompile
    │               ├── createdFiles.lst
    │               └── inputFiles.lst
    ├── mavenTest-1.0-SNAPSHOT.jar
    ├── surefire-reports
    │   ├── TEST-com.sankuai.AppTest.xml
    │   └── com.sankuai.AppTest.txt
    └── test-classes
        └── com
            └── sankuai
                └── AppTest.class
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>其中mavenTest-1.0-SNAPSHOT.jar就是项目打包生成的可执行文件，其中-1.0-SNAPSHOT是项目的版本号信息。</p> <h3 id="_3-2-使用idea"><a href="#_3-2-使用idea" class="header-anchor">#</a> 3.2.使用IDEA</h3> <p>1.可在IDEA右侧边栏上找到Maven菜单</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125757609.png" alt="image-20240105125757609"></p> <p>2.分别双击clean和package按钮就会在当前项目中生成target文件，整个流程比命令行更方便。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125811313.png" alt="image-20240105125811313"></p> <hr> <h1 id="_2-依赖管理"><a href="#_2-依赖管理" class="header-anchor">#</a> 2. 依赖管理</h1> <h2 id="一、创建一个maven项目"><a href="#一、创建一个maven项目" class="header-anchor">#</a> 一、创建一个maven项目</h2> <p>官方文档：</p> <ul><li><a href="https://km.sankuai.com/page/1223904793" target="_blank" rel="noopener noreferrer">Maven依赖管理详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://km.sankuai.com/page/1094753852" target="_blank" rel="noopener noreferrer">Maven依赖管理最佳实践<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://km.sankuai.com/page/1222469780" target="_blank" rel="noopener noreferrer">Jar包管理方式推荐<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_1-使用idea创建一个maven项目"><a href="#_1-使用idea创建一个maven项目" class="header-anchor">#</a> 1.使用Idea创建一个maven项目</h2> <ul><li>File&gt;New&gt;Project,</li> <li>左侧选择Maven，右侧选择Project SDK为1.8，点击Next</li> <li>输入项目GroupId、ArtifactId，点击Next</li> <li>点击Finish</li></ul> <h2 id="_2-项目目录结构"><a href="#_2-项目目录结构" class="header-anchor">#</a> 2.项目目录结构</h2> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125824759.png" alt="image-20240105125824759"></p> <h2 id="_3-pom文件"><a href="#_3-pom文件" class="header-anchor">#</a> 3.pom文件</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;com.sankuai&lt;/groupId&gt;
  &lt;artifactId&gt;mavenTest1&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;mavenTest1&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h1 id="二、约定优于配置"><a href="#二、约定优于配置" class="header-anchor">#</a> 二、约定优于配置</h1> <h2 id="_1-项目目录结构遵循约定"><a href="#_1-项目目录结构遵循约定" class="header-anchor">#</a> 1.项目目录结构遵循约定</h2> <p>创建的maven空项目已经包含了一定的目录结构，需要开发者遵循这种目录约定，这是使用maven简洁配置需要付出的代价。</p> <table><thead><tr><th><strong>目录</strong></th> <th><strong>说明</strong></th></tr></thead> <tbody><tr><td>{project.basedir}</td> <td>存放pom文件和项目子模块</td></tr> <tr><td>{project.basedir}/src/main/java</td> <td>源码目录</td></tr> <tr><td>{project.basedir}/src/main/resources</td> <td>资源目录</td></tr> <tr><td>{project.basedir}/src/test/java</td> <td>测试源码目录</td></tr> <tr><td>{project.basedir}/src/test/resources</td> <td>测试资源目录</td></tr> <tr><td>${project.basedir}/target</td> <td>包输出目录</td></tr> <tr><td>${project.basedir}/target/classes</td> <td>编译输出目录</td></tr> <tr><td>${project.basedir}/target/test-classes</td> <td>测试编译输出目录</td></tr></tbody></table> <h1 id="三、pom文件"><a href="#三、pom文件" class="header-anchor">#</a> 三、POM文件</h1> <h2 id="_1-说明"><a href="#_1-说明" class="header-anchor">#</a> 1.说明</h2> <p>POM（Project Object Model，项目对象模型）定义了项目的基本信息，用于描述项目如何构建、声明项目依赖。</p> <h2 id="_2-简单配置"><a href="#_2-简单配置" class="header-anchor">#</a> 2.简单配置</h2> <ul><li><strong>&lt;?xml&gt;</strong>: xml头信息，定义xml文档的版本和编码方式。</li> <li><strong><project></project></strong>: 所有pom.xml的根元素，声明了pom相关的命名空间和xsd元素。</li> <li><strong><modelVersion></modelVersion></strong>: 指定当前pom模型的版本，对于maven2/3，只能是4.0.0。</li> <li><strong><groupId></groupId></strong>: 定义当前maven项目隶属的实际项目。</li> <li><strong><artifactId></artifactId></strong>: 定义实际项目中的一个maven模块/项目。</li> <li><strong><version></version></strong>: 定义maven项目当前所处的版本</li> <li><strong>groupId\artifactId\version</strong>: 定义了一个项目基本的坐标。</li></ul> <h2 id="_3-其他配置"><a href="#_3-其他配置" class="header-anchor">#</a> 3.其他配置</h2> <ul><li>项目依赖</li> <li>插件</li> <li>执行目标</li> <li>项目构建profile</li></ul> <h1 id="四、maven坐标"><a href="#四、maven坐标" class="header-anchor">#</a> 四、MAVEN坐标</h1> <h2 id="_1-说明-2"><a href="#_1-说明-2" class="header-anchor">#</a> 1.说明</h2> <p>Maven定义了一组规则：世界上任何一个构件都可以使用Maven坐标唯一标识。
Maven坐标元素包括groupId, artifactId, version, packaging, classifier。</p> <h2 id="_2-坐标元素"><a href="#_2-坐标元素" class="header-anchor">#</a> 2.坐标元素</h2> <ul><li><strong>groupId</strong>: 定义当前maven项目隶属的实际项目。</li> <li><strong>artifactId</strong>: 定义实际项目中的一个maven模块/项目。</li> <li><strong>version</strong>: 定义maven项目当前所处的版本。</li> <li><strong>packaging</strong>: 定义maven项目的打包方式。打包方式与生成构件的文件扩展名对应，默认为jar， 常用的打包方式有jar， war， pom。</li> <li><strong>classifier</strong>: 帮助定义构建输出的附属构件。附属构件与主构件对应。如demo1-1.0-SNAPSHOT-sources.jar这个构件，包含了主构件的源代码。不能直接定义项目的classifier，因为附属构件不是项目直接默认生成的，而是通过附加插件帮助生成的。</li></ul> <h2 id="_3-项目构件的文件名"><a href="#_3-项目构件的文件名" class="header-anchor">#</a> 3.项目构件的文件名</h2> <ul><li>一般规则为： artifactId-version[-classifier].packaging</li></ul> <h1 id="五、maven依赖"><a href="#五、maven依赖" class="header-anchor">#</a> 五、MAVEN依赖</h1> <h2 id="_1-使用maven怎么引入依赖"><a href="#_1-使用maven怎么引入依赖" class="header-anchor">#</a> 1.使用maven怎么引入依赖？</h2> <ul><li><p>如果要引入第三方jar包，需要知道jar的坐标，然后放入pom.xml中的dependencies元素中。
示例如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p><strong>dependencies</strong>元素包含多个dependency，每个dependency代表项目依赖的一个构件信息。</p></li> <li><p><strong>dependency</strong>元素中的 groupId， artifactId，version定义了一个构件的基本坐标。</p></li> <li><p><strong>type</strong>被依赖构件的类型，对应于被依赖构件的packaging。默认为jar, 表示被依赖的构件是一个jar包。</p></li> <li><p><strong>scope</strong>表示依赖的范围，参考下文 <strong>2.maven依赖范围</strong>。</p></li> <li><p><strong>optional</strong>表示依赖是否可选，参考可选依赖。</p></li> <li><p><strong>exclusions</strong>用来排除传递依赖。</p></li></ul> <h2 id="_2-maven依赖范围"><a href="#_2-maven依赖范围" class="header-anchor">#</a> 2.maven依赖范围</h2> <blockquote><p>依赖范围就是用来控制依赖与三种classpath(编译classpath，运行classpath，测试classpath【编译测试代码、运行测试代码】)的关系。</p></blockquote> <ul><li><p><strong>compile</strong>: 编译依赖范围。如果未指定，默认使用该依赖范围。<strong>对于编译、测试、运行3种classpath都有效</strong>。比如spring-web。</p></li> <li><p><strong>test</strong>: 测试依赖范围。只对测试classpath有效，<strong>在编译主代码、运行项目时无法使用此依赖</strong>。比如JUnit。</p></li> <li><p><strong>provided</strong>: 已提供依赖范围。<strong>对于编译、测试classpath有效，但在运行时无效</strong>。比如servlet-api，在运行项目的时候容器已经提供了。</p></li> <li><p><strong>runtime</strong>: 运行时依赖范围。<strong>对于测试、运行classpath有效，但在编译主代码时无效</strong>。比如jdbc驱动实现，运行的时候才需要具体的jdbc驱动实现。</p></li> <li><p><strong>system</strong>: 系统依赖范围。该依赖与三种classpath的关系，和provided依赖范围完全一致。但是，使用system范围的依赖时必须通过systemPath元素显示指定依赖文件的路径。建议谨慎使用。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;dependency&gt;
  &lt;groupId&gt;com.john&lt;/groupId&gt;
  &lt;artifactId&gt;rt&lt;/artifactId&gt;
  &lt;version&gt;1.8&lt;/version&gt;
  &lt;scope&gt;system&lt;/scope&gt;
  &lt;systemPath&gt;${java.home}/lib/rt.jar&lt;/systemPath&gt;
&lt;/dependency&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p><strong>import</strong>: 导入依赖范围。在maven依赖和dependencyManagement时候用到。</p></li></ul> <h2 id="_3-依赖范围与classpath的关系"><a href="#_3-依赖范围与classpath的关系" class="header-anchor">#</a> 3.依赖范围与classpath的关系</h2> <table><thead><tr><th><strong>依赖范围</strong>** **<strong>（scope）</strong></th> <th><strong>对于编译classpath有效</strong></th> <th><strong>对于测试classpath有效</strong></th> <th><strong>对于运行classpath有效</strong></th> <th><strong>举例</strong></th></tr></thead> <tbody><tr><td>compile</td> <td>Y</td> <td>Y</td> <td>Y</td> <td>spring-web</td></tr> <tr><td>test</td> <td>--</td> <td>Y</td> <td>--</td> <td>JUnit</td></tr> <tr><td>provided</td> <td>Y</td> <td>Y</td> <td>--</td> <td>servlet-api</td></tr> <tr><td>runtime</td> <td>--</td> <td>Y</td> <td>Y</td> <td>JDBC驱动实现</td></tr> <tr><td>system</td> <td>Y</td> <td>Y</td> <td>--</td> <td>本地的jar包</td></tr></tbody></table> <h2 id="_4-scope与运行classpath"><a href="#_4-scope与运行classpath" class="header-anchor">#</a> 4.scope与运行classpath</h2> <p>scope如果对于运行范围有效，是指依赖的jar包会被打包到项目的运行包中，最后运行的时候会被添加到classpath中运行。
如果scope对于运行项目无效，那么项目打包的时候，这些依赖不会被打包到运行包中。</p> <h1 id="六、传递性依赖"><a href="#六、传递性依赖" class="header-anchor">#</a> 六、传递性依赖</h1> <h2 id="_1-说明-3"><a href="#_1-说明-3" class="header-anchor">#</a> 1.说明</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code> &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>在项目中引入junit，查看项目依赖，发现项目又依赖org.hamcrest:hamcrest-core:1.3，该依赖也被自动加进来，这个叫做依赖的传递。</li> <li>假设A依赖于B，B依赖于C，我们说A对于B是第一直接依赖，B对于C是第二直接依赖，而A对于C是传递性依赖。</li> <li>第一直接依赖的范围和第二直接依赖的范围决定了传递依赖的范围。</li></ul> <h2 id="_2-依赖范围对传递性依赖的影响"><a href="#_2-依赖范围对传递性依赖的影响" class="header-anchor">#</a> 2.依赖范围对传递性依赖的影响</h2> <table><thead><tr><th><strong>第一直接依赖\第二直接依赖</strong></th> <th><strong>compile</strong></th> <th><strong>test</strong></th> <th><strong>provided</strong></th> <th><strong>runtime</strong></th></tr></thead> <tbody><tr><td>compile</td> <td>compile</td> <td>--</td> <td>--</td> <td>runtime</td></tr> <tr><td>test</td> <td>test</td> <td>--</td> <td>--</td> <td>test</td></tr> <tr><td>provided</td> <td>provided</td> <td>--</td> <td>provided</td> <td>provided</td></tr> <tr><td>runtime</td> <td>runtime</td> <td>--</td> <td>--</td> <td>runtime</td></tr></tbody></table> <h1 id="七、依赖调解"><a href="#七、依赖调解" class="header-anchor">#</a> 七、依赖调解</h1> <h2 id="_1-第一原则-路径近者优先。"><a href="#_1-第一原则-路径近者优先。" class="header-anchor">#</a> 1.第一原则：路径近者优先。</h2> <ul><li>A-&gt;B-&gt;C-&gt;Y(1.0)，A-&gt;D-&gt;Y(2.0)，Y的2.0版本距离A更近一些，所以maven会选择2.0</li></ul> <h2 id="_2-第二原则-第一声明者优先。"><a href="#_2-第二原则-第一声明者优先。" class="header-anchor">#</a> 2.第二原则：第一声明者优先。</h2> <ul><li>A-&gt;B-&gt;Y(1.0)，A-&gt;D-&gt;Y(2.0)，Y的1.0版先声明，所以maven会选择1.0版本。</li></ul> <h1 id="八、可选依赖"><a href="#八、可选依赖" class="header-anchor">#</a> 八、可选依赖</h1> <p>A-&gt;B, scope:compile B-&gt;X, scope:compile，optional:true B-&gt;Y, scope:compile，optional:true</p> <ul><li>X、Y是可选依赖，依赖不会由B传至A。X、Y不会对A造成影响。</li> <li>理想情况下，不应该使用可选依赖。</li></ul> <h1 id="九、依赖管理最佳实践"><a href="#九、依赖管理最佳实践" class="header-anchor">#</a> 九、依赖管理最佳实践</h1> <h2 id="_1-排除依赖"><a href="#_1-排除依赖" class="header-anchor">#</a> 1.排除依赖</h2> <ul><li><p>前提</p> <p>A-&gt;B, scope:compile B-&gt;C, scope:compile</p></li> <li><p>目的：A不想引入传递性依赖C</p></li> <li><p>使用exclusions元素声明排除依赖，exclusions元素可以包含多个exclusion元素。</p></li> <li><p>声明exclusion元素时只需要groupId和artifactId</p></li></ul> <h2 id="_2-归类依赖"><a href="#_2-归类依赖" class="header-anchor">#</a> 2.归类依赖</h2> <ul><li><p>使用properties元素定义maven属性</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;properties&gt;
  &lt;springframework.version&gt;5.2.1.RELEASE&lt;/springframework.version&gt;
&lt;/properties&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="_3-优化依赖"><a href="#_3-优化依赖" class="header-anchor">#</a> 3.优化依赖</h2> <ul><li><p>查看当前项目的已解析依赖(Resolved Dependency)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn dependency:list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ mavenTest1 ---
[INFO] 
[INFO] The following files have been resolved:
[INFO]    junit:junit:jar:3.8.1:test
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.355 s
[INFO] Finished at: 2022-01-12T17:11:56+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p>查看当前项目的依赖树</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn dependency:tree
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ mavenTest1 ---
[INFO] com.sankuai:mavenTest1:jar:1.0-SNAPSHOT
[INFO] \- junit:junit:jar:3.8.1:test
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  0.856 s
[INFO] Finished at: 2022-01-12T17:12:30+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>分析当前项目的依赖</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn dependency:analyze
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] &gt;&gt;&gt; maven-dependency-plugin:2.8:analyze (default-cli) &gt; test-compile @ mavenTest1 &gt;&gt;&gt;
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest1 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/test-classes
[INFO] 
[INFO] &lt;&lt;&lt; maven-dependency-plugin:2.8:analyze (default-cli) &lt; test-compile @ mavenTest1 &lt;&lt;&lt;
[INFO] 
[INFO] 
[INFO] --- maven-dependency-plugin:2.8:analyze (default-cli) @ mavenTest1 ---
[INFO] No dependency problems found
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.902 s
[INFO] Finished at: 2022-01-12T17:13:05+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ul> <hr> <h1 id="_3-仓库"><a href="#_3-仓库" class="header-anchor">#</a> 3. 仓库</h1> <h2 id="一、引入"><a href="#一、引入" class="header-anchor">#</a> 一、引入</h2> <ul><li>maven坐标和依赖是一个构件在maven世界中的逻辑表示方式，而构件的物理表示方式是文件。</li> <li>maven通过仓库来统一管理这些构件。</li> <li>maven项目将不再各自存储其依赖文件，只需要声明依赖坐标。</li> <li>maven采用引用的方式将依赖的jar引入进来，不对真实的jar进行拷贝，但是打包的时候，运行需要用到的jar都会被拷贝到安装包</li></ul> <h1 id="二、仓库分类"><a href="#二、仓库分类" class="header-anchor">#</a> 二、仓库分类</h1> <ul><li>本地仓库</li> <li>远程仓库: 中央仓库、私服、其他公共仓库</li></ul> <h2 id="_1-本地仓库"><a href="#_1-本地仓库" class="header-anchor">#</a> 1.本地仓库</h2> <ul><li><p>在安装maven后本地仓库并不存在，当我们执行第一条maven命令的时候才会创建本地仓库。</p></li> <li><p>默认情况下，maven本地仓库默认地址是~/.m2/respository目录，</p></li> <li><p>用户可以自定义本地仓库目录，在~/.m2/settings.xml文件中进行修改</p></li> <li><p>下载构件：从远程仓库下载到本地仓库目录中</p></li> <li><p>使用本地项目构件：将本地项目构件安装到maven本地仓库</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mvn clean install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="_2-远程仓库"><a href="#_2-远程仓库" class="header-anchor">#</a> 2.远程仓库</h2> <ul><li>本地仓库不存在构件时，需要从远程仓库下载构件。</li></ul> <h2 id="_3-中央仓库"><a href="#_3-中央仓库" class="header-anchor">#</a> 3.中央仓库</h2> <ul><li><p>在maven的超级pom中可以看到默认的中央仓库。</p> <ul><li><p>超级pom：所有maven项目都会继承，其中的配置会自动继承。</p></li> <li><p>超级pom所在文件：${M2_HOME}/lib/maven-model-builder-3.6.3.jar</p></li> <li><p>解压jar文件</p></li> <li><p>查看lib/org/apache/maven/model/pom-4.0.0.xml</p></li> <li><p>找到中央仓库的默认配置：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;repositories&gt; 
  &lt;repository&gt; 
    &lt;id&gt;central&lt;/id&gt;
    &lt;name&gt;Central Repository&lt;/name&gt;
    &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;
    &lt;layout&gt;default&lt;/layout&gt;
    &lt;snapshots&gt; &lt;!-- 不从该中央仓库下载快照版本的构件 --&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul></li> <li><p>默认的中央仓库：</p> <ul><li><a href="https://link.segmentfault.com/?enc=Zr0xviVswqNoEmqLZY6oFA%3D%3D.QRaT%2BL3PJ9OLF72PeH89SMLZ0jjMxw6ZH1jJ39Wcy41oFhSkzlTktP2k%2F8hVxctP" target="_blank" rel="noopener noreferrer">https://repo.maven.apache.org/maven2/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <h2 id="_4-私服"><a href="#_4-私服" class="header-anchor">#</a> 4.私服</h2> <ul><li>私服是一种特殊的远程仓库，是架设在局域网内的仓库服务。</li> <li>私服代理广域网上的远程仓库，供局域网内的maven用户使用。</li> <li>私服的好处：
<ul><li>节省自己的外网带宽。</li> <li>加速maven构建。</li> <li>部署第三方构件。</li> <li>提高稳定性，增强控制。</li> <li>降低中央仓库的负荷。</li></ul></li></ul> <h2 id="_5-其他远程仓库"><a href="#_5-其他远程仓库" class="header-anchor">#</a> 5.其他远程仓库</h2> <ul><li>公司的远程仓库：http://pixel.sankuai.com/</li> <li>美团的Settings：<a href="https://km.sankuai.com/page/455587258" target="_blank" rel="noopener noreferrer">Settings.xml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h1 id="三、远程仓库配置"><a href="#三、远程仓库配置" class="header-anchor">#</a> 三、远程仓库配置</h1> <h2 id="_1-在项目pom中配置远程仓库-项目"><a href="#_1-在项目pom中配置远程仓库-项目" class="header-anchor">#</a> 1.在项目POM中配置远程仓库（项目）</h2> <ol><li><p>说明：该配置只对当前项目有效。</p></li> <li><p>配置信息</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;meituan-dianping-releases&lt;/id&gt;
    &lt;name&gt;Repository for releases artifacts&lt;/name&gt;
    &lt;url&gt;http://pixel.sankuai.com/repository/group-releases&lt;/url&gt;
    &lt;snapshots&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
  &lt;releases&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
  &lt;/releases&gt;
  &lt;/repository&gt;

  &lt;repository&gt;
    &lt;id&gt;meituan-dianping-snapshots&lt;/id&gt;
    &lt;name&gt;Repository for snapshots artifacts&lt;/name&gt;
    &lt;url&gt;http://pixel.sankuai.com/repository/group-snapshots&lt;/url&gt;
    &lt;snapshots&gt;
      &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
    &lt;/snapshots&gt;
    &lt;releases&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/releases&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li> <li><p>repositories-&gt;repository元素说明</p> <ul><li>repositories元素下可以使用repository子元素声明一个或多个远程仓库。</li> <li>id：远程仓库标识，id名称唯一。注意：maven自带的中央仓库id为central，如果其他的仓库声明也使用该id，会覆盖中央仓库的配置。</li> <li>url：远程仓库地址。</li> <li>releases：用来控制对于发布版本构件的下载。
<ul><li>enabled属性表示是否开启发布版本的下载支持。</li> <li>updatePolicy：用来配置maven从远程仓库更新的频率。
<ul><li>默认为daily，表示每天检查一次。</li> <li>never，从不检查更新。</li> <li>always，每次构建都检查更新。</li> <li>interval: X，每隔X分钟检查更新一次（X为任意整数）</li></ul></li> <li>checksumPolicy：用来配置maven检查校验和文件的策略。
<ul><li>默认为warn，执行构建时给出警告信息。</li> <li>fail，遇到校验和错误，就让构建失败。</li> <li>ignore，让maven完全忽略校验和错误。</li></ul></li></ul></li> <li>snapshots：用来控制对于快照版本构件的下载。
<ul><li>enabled属性表示是否开启快照版本的下载支持。</li> <li>快照版本的构件以-SNAPSHOT结尾，发布版本没有这个标识。</li></ul></li> <li>layout：default表示仓库的布局是maven2或者maven3的默认布局，而不是maven1的布局。</li></ul></li> <li><p>测试远程仓库能否正常拉取依赖</p> <ul><li><p>以项目mavenTest1为例。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
      &lt;artifactId&gt;lombok&lt;/artifactId&gt;
      &lt;version&gt;1.18.16&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>首先，删除${localRepository}/org/projectlombok/lombok目录文件，此时本地仓库无依赖。</p></li> <li><p>切换到项目目录，在终端执行mvn compile</p></li> <li><p>查看终端输出。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.pom
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.pom (1.5 kB at 4.0 kB/s)
Downloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar
Downloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar (1.9 MB at 2.8 MB/s)
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  3.726 s
[INFO] Finished at: 2022-01-12T19:05:58+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>观察Downloading from meituan-dianping后面就是在pom文件中配置的远程仓库，meituan-dianping是定义的仓库id。 在本地仓库缺少依赖后，就会从配置的远程仓库下载依赖。</p></li></ul></li></ol> <h2 id="_2-在用户配置中配置镜像仓库-全局"><a href="#_2-在用户配置中配置镜像仓库-全局" class="header-anchor">#</a> 2.在用户配置中配置镜像仓库（全局）</h2> <ol><li><p>说明：该配置对所有使用该配置的项目都有效。</p></li> <li><p>什么是镜像仓库？</p> <ul><li>如果仓库X可以提供仓库Y所有的内容，那么就可以认为X是Y的一个镜像。</li> <li>任何一个可以从Y获取的构件，都可以从它的镜像中获取。</li> <li>可以采用镜像的方式配置远程仓库，镜像在settings.xml中进行配置，对所有使用该配置的maven项目起效。</li></ul></li> <li><p>配置镜像仓库</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    &lt;mirrors&gt;
        &lt;mirror&gt;
            &lt;id&gt;meituan-dianping&lt;/id&gt;
            &lt;name&gt;meituan-dianping mirror&lt;/name&gt;
            &lt;url&gt;http://pixel.sankuai.com/repository/mtdp&lt;/url&gt;
            &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
        &lt;/mirror&gt;
    &lt;/mirrors&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>配置解释</p> <ul><li>mirrors元素下包含多个mirror子元素，每个mirror元素表示一个远程镜像。</li> <li>id：镜像id，唯一标识。</li> <li>name：镜像名称。</li> <li>url：镜像地址</li> <li>mirrorOf：指定<strong>哪些远程仓库的id使用这个镜像去下载构件</strong>，这个对应pom.xml文件中repository元素的id。就是表示这个镜像是给哪些pom.xml文件中的远程仓库使用的，这里面需要列出远程仓库的id，多个之间用逗号隔开。</li> <li>mirrorOf配置语法：
<ul><li><mirrorOf> * </mirrorOf>：匹配所有远程仓库。</li> <li><mirrorOf>external: * </mirrorOf>：匹配所有不在本机上的远程仓库。</li> <li><mirrorOf> repo1, repo2 </mirrorOf>：匹配仓库repo1和repo2，多个仓库之间使用逗号分割。</li> <li><mirrorOf> *, !repo1 </mirrorOf>：匹配所有远程仓库，除了仓库repo1，使用感叹号(!)将仓库从匹配中排除。</li></ul></li></ul></li> <li><p>注意
镜像仓库完全屏蔽了被镜像仓库，当镜像仓库不稳定或者停止服务的时候，maven无法自动切换到被镜像仓库，因此将会无法下载构件。</p></li> <li><p>结合私服使用
<strong>由于私服可以代理所有远程仓库（包含中央仓库），因此对于组织内部的maven用户来说，使用一个私服地址就等于使用了所有需要的外部仓库。</strong></p></li></ol> <h1 id="四、仓库布局"><a href="#四、仓库布局" class="header-anchor">#</a> 四、仓库布局</h1> <ol><li><p>仓库布局方式
任何一个构件都有其唯一的坐标，根据坐标可以定义其在仓库中的唯一路径。</p></li> <li><p>举例</p> <ul><li><p>以spring-web的依赖为例</p></li> <li><p>项目demo1 pom文件的依赖</p> <p><dependency><groupId>org.springframework</groupId> <artifactId>spring-web</artifactId> <version>5.2.1.RELEASE</version></dependency></p></li> <li><p>查看spring-web的jar包在本地仓库中的位置。</p> <ul><li>/Users/xuyang/.m2/repository/org/springframework/spring-web/5.2.1.RELEASE/spring-web-5.2.1.RELEASE.jar</li> <li>/Users/xuyang/.m2/repository是本地仓库目录。</li> <li>构件的目录路径为groupId/artifactId/version/</li> <li>构件名称为：artifactId-version[-classifier].packaging， packaging默认为jar。</li></ul></li></ul></li> <li><p>maven如何定位构件路径</p> <ol><li>将groupId中的句点分隔符(.)转换成路径分隔符(/)，同时在后面追加一个路径分隔符(/)。
<ul><li>org.springframework---&gt;org/springframework/</li></ul></li> <li>将artifactId拼接在1的路径上, 同时在后面追加一个路径分隔符(/)。
<ul><li>org/springframework/spring-web/</li></ul></li> <li>将version拼接在2的路径上，同时在后面追加一个路径分隔符(/)。
<ul><li>org/springframework/spring-web/5.2.1.RELEASE/</li></ul></li> <li>将构件名称拼接在3的路径上。
<ul><li>org/springframework/spring-web/5.2.1.RELEASE/spring-web-5.2.1.RELEASE.jar</li></ul></li></ol></li></ol> <h1 id="五、仓库如何解析依赖"><a href="#五、仓库如何解析依赖" class="header-anchor">#</a> 五、仓库如何解析依赖</h1> <ol><li>当本地仓库没有依赖构件的时候，maven会自动从远程仓库下载；</li> <li>当依赖版本为快照版本的时候，maven会自动找到最新的快照。</li> <li>依赖解析机制：
<ul><li>依赖范围是system的时候，maven直接从本地文件系统解析构件。</li> <li>根据依赖坐标计算仓库路径后，尝试直接从本地仓库寻找构件，如发现相应构件，则解析成功。</li> <li>如果本地仓库构件不存在，并且依赖的版本是显示的发布版本构件，则遍历所有的远程仓库，发现后 下载并解析使用。</li></ul></li></ol> <h1 id="六、仓库检索"><a href="#六、仓库检索" class="header-anchor">#</a> 六、仓库检索</h1> <ol><li>Sonatype（中央仓库）：<a href="https://link.segmentfault.com/?enc=S1B9rZLNgDqW934TF80R3A%3D%3D.wjOVFyqhzlPFvnzPspGU0r1IhmYcWpX7FSCbb6TVXSQ%3D" target="_blank" rel="noopener noreferrer">https://search.maven.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Sonatype Nexus： <a href="https://link.segmentfault.com/?enc=atn8QOEYeVB1GsEAN3Q9xA%3D%3D.Iy7Y8lLelEvRV%2F7wRqOdft%2BSJu0s4knLiT1knJ4khFhwRyI7ZrotcwFdXdF95UTj" target="_blank" rel="noopener noreferrer">https://repository.sonatype.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>MVNRepository：<a href="https://link.segmentfault.com/?enc=RmwhRbW%2FeEXXhXK%2FR7MMzw%3D%3D.u2bOUpyAZSV4mGqpWKLPX9MHe8dFjUWM3TRXA9E%2Bgbc%3D" target="_blank" rel="noopener noreferrer">https://mvnrepository.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <hr> <h1 id="_4-私服-2"><a href="#_4-私服-2" class="header-anchor">#</a> 4. 私服</h1> <h2 id="一、私服"><a href="#一、私服" class="header-anchor">#</a> 一、私服</h2> <p>公司私服为自研，详情需查看官方文档：<a href="https://km.sankuai.com/page/248247197" target="_blank" rel="noopener noreferrer">Pixel PRFAQ v1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="二、使用"><a href="#二、使用" class="header-anchor">#</a> 二、使用</h1> <h2 id="_1-安装和配置"><a href="#_1-安装和配置" class="header-anchor">#</a> 1.安装和配置</h2> <ol><li>安装Maven工具，配置环境变量及本地仓库(自行Google一下)</li> <li>使用公司统一的settings.xml文件替换本地的settings.xml文件(一般是在.m2目录下)，如果本部门或者bg/bu有特殊需求，比如到家等，请使用本部门自己的settings.xml文件(// TODO 总结一下内部在用的)
<ol><li>公司统一的settings.xml文件:<a href="http://s3plus.vip.sankuai.com/v1/mss_8b80ba092e4145088a62d10f25a14f36/resource/maven/local/settings.xml" target="_blank" rel="noopener noreferrer">统一的settings.xml文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>到家事业部等需要使用线下仓库隔离(其它部门不要使用)的:<a href="https://km.sankuai.com/page/13953339" target="_blank" rel="noopener noreferrer">线下 Maven Settings.xml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></li> <li>(可选)idea请做如下配置，选择.m2文件下的settings.xml文件和本地仓库目录，并在后面勾选上覆盖</li></ol> <h2 id="_2-上传-deploy-配置"><a href="#_2-上传-deploy-配置" class="header-anchor">#</a> 2.<strong>上传(deploy)配置</strong></h2> <ul><li>Plus上配置Maven发布项</li></ul> <p>链接：<a href="https://km.sankuai.com/page/13946157" target="_blank" rel="noopener noreferrer">1. Quick Start (New)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>链接(仅到家或其它使用offline仓库的部门使用)：<a href="https://km.sankuai.com/page/125587615" target="_blank" rel="noopener noreferrer">6. Maven部署线下仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Plus上Maven发布项相关配置说明</li></ul> <p>链接：<a href="https://km.sankuai.com/page/327690462" target="_blank" rel="noopener noreferrer">3. Maven 参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>个人本地deploy配置</li></ul> <p>目前在逐步封禁<a href="https://km.sankuai.com/page/659949251" target="_blank" rel="noopener noreferrer">本地deploy限制推进<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，请使用Plus进行发包</p> <hr> <h1 id="_5-生命周期和插件"><a href="#_5-生命周期和插件" class="header-anchor">#</a> 5. 生命周期和插件</h1> <h2 id="一、maven的生命周期"><a href="#一、maven的生命周期" class="header-anchor">#</a> 一、maven的生命周期</h2> <h2 id="_1-生命周期介绍"><a href="#_1-生命周期介绍" class="header-anchor">#</a> 1.生命周期介绍</h2> <ul><li>maven的生命周期就是为了对所有的构建过程进行抽象和统一。</li> <li>包含了项目的清理、初始化、编译、测试、打包、集成测试、验证、部署和站点生成等几乎所有构建步骤。</li> <li>几乎所有的项目构建，都能映射到这样一个生命周期上。</li></ul> <h2 id="_2-生命周期详解"><a href="#_2-生命周期详解" class="header-anchor">#</a> 2.生命周期详解</h2> <h3 id="_2-1-三套生命周期"><a href="#_2-1-三套生命周期" class="header-anchor">#</a> 2.1.三套生命周期</h3> <ul><li>maven包含三套<strong>相互独立</strong>的生命周期。</li> <li><strong>clean</strong>生命周期：用于清理项目。</li> <li><strong>default</strong>生命周期：用于构建项目。</li> <li><strong>site</strong>生命周期：用于建立项目站点。</li></ul> <h3 id="_2-2-生命周期内部的阶段"><a href="#_2-2-生命周期内部的阶段" class="header-anchor">#</a> 2.2.生命周期内部的阶段</h3> <ul><li>每个生命周期包含多个阶段(phase)。</li> <li>这些阶段是有序的。</li> <li>后面的阶段依赖于前面的阶段。当执行某个阶段的时候，会先执行它前面的阶段。</li> <li>用户和maven最直接的交互就是调用这些生命周期阶段。</li></ul> <h3 id="_2-3-clean生命周期"><a href="#_2-3-clean生命周期" class="header-anchor">#</a> 2.3.clean生命周期</h3> <p>clean生命周期的目的是清理项目，它包含3个阶段：</p> <table><thead><tr><th><strong>clean生命周期阶段</strong></th> <th><strong>说明</strong></th></tr></thead> <tbody><tr><td>pre-clean</td> <td>执行一些clean前需要完成的工作</td></tr> <tr><td>clean</td> <td>清理上一次构建生成的文件</td></tr> <tr><td>post-clean</td> <td>执行一些clean后需要完成的工作</td></tr></tbody></table> <h3 id="_2-4-default生命周期"><a href="#_2-4-default生命周期" class="header-anchor">#</a> 2.4.default生命周期</h3> <p>default生命周期的目的是构建项目，它定义了真正构建时所需要完成的所有步骤，是所有生命周期中最核心的部分。
包含23个阶段：<a href="https://link.segmentfault.com/?enc=VI7B0ccyGGoqGHNdPCgZqg%3D%3D.GLCRsxsw%2FNooBgBMo427PrB5%2B%2F9O0rQAm4NjKYPngQT3jbGtVzOetZ6nv7B6PkoCoOSIrjy4W66%2B3QGHoI%2B15wP8ormoS0T1Mv9K3YxxKeA%3D" target="_blank" rel="noopener noreferrer">详细介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th><strong>default生命周期阶段</strong></th> <th><strong>说明</strong></th></tr></thead> <tbody><tr><td>validate</td> <td>验证项目是否正确并且所有必要信息都可用</td></tr> <tr><td>initialize</td> <td>初始化构建状态，比如设置属性值、创建目录</td></tr> <tr><td>generate-sources</td> <td>生成包含在编译阶段中的任何源代码</td></tr> <tr><td>process-sources</td> <td>处理源代码，比如说，过滤任意值</td></tr> <tr><td>generate-resources</td> <td>生成将会包含在项目包中的资源文件</td></tr> <tr><td>process-resources</td> <td>复制和处理资源到目标目录，为打包阶段最好准备</td></tr> <tr><td>compile</td> <td>编译项目的源代码</td></tr> <tr><td>process-classes</td> <td>处理编译生成的文件，比如说对Java class文件做字节码改善优化</td></tr> <tr><td>generate-test-sources</td> <td>生成包含在编译阶段中的任何测试源代码</td></tr> <tr><td>process-test-sources</td> <td>处理测试源代码，比如说，过滤任意值</td></tr> <tr><td>generate-test-resources</td> <td>为测试创建资源文件</td></tr> <tr><td>process-test-resources</td> <td>复制和处理测试资源到目标目录</td></tr> <tr><td>test-compile</td> <td>编译测试源代码到测试目标目录</td></tr> <tr><td>process-test-classes</td> <td>处理测试源码编译生成的文件</td></tr> <tr><td>test</td> <td>使用合适的单元测试框架运行测试 , 测试代码不会被打包或部署</td></tr> <tr><td>prepare-package</td> <td>在实际打包之前，执行任何的必要的操作为打包做准备</td></tr> <tr><td>package</td> <td>将编译后的代码打包成可分发的格式，比如JAR</td></tr> <tr><td>pre-integration-test</td> <td>在执行集成测试前进行必要的动作。比如说，搭建需要的环境</td></tr> <tr><td>integration-test</td> <td>如有必要，将程序包处理并部署到可以运行集成测试的环境中</td></tr> <tr><td>post-integration-test</td> <td>执行集成测试完成后进行必要的动作。比如说，清理集成测试环境</td></tr> <tr><td>verify</td> <td>运行任何检查以验证包是否有效并符合质量标准</td></tr> <tr><td>install</td> <td>安装项目包到maven本地仓库，供本地其他maven项目使用</td></tr> <tr><td>deploy</td> <td>将最终包复制到远程仓库，供其他开发人员和maven项目使用</td></tr></tbody></table> <h3 id="_2-5-site生命周期"><a href="#_2-5-site生命周期" class="header-anchor">#</a> 2.5.site生命周期</h3> <p>site生命周期的目的是建立和发布项目站点。
Maven能够基于pom.xml所包含的信息，自动生成一个友好的站点，方便团队交流和发布项目信息。
包含以下4个阶段：</p> <table><thead><tr><th><strong>site生命周期阶段</strong></th> <th><strong>说明</strong></th></tr></thead> <tbody><tr><td>pre-site</td> <td>执行一些在生成项目站点之前需要完成的工作</td></tr> <tr><td>site</td> <td>生成项目站点文档</td></tr> <tr><td>post-site</td> <td>执行一些在生成项目站点之后需要完成的工作</td></tr> <tr><td>site-deploy</td> <td>将生成的项目站点发布到服务器上</td></tr></tbody></table> <h3 id="_2-6-mvn命令和生命周期"><a href="#_2-6-mvn命令和生命周期" class="header-anchor">#</a> 2.6.mvn命令和生命周期</h3> <p>从命令行执行maven任务的最主要方式就是调用maven的生命周期阶段。
需要注意的是，每套生命周期是相互独立的，但是每套生命周期的阶段是有前后依赖关系的。</p> <ul><li>格式： mvn 阶段 [阶段2] ...[阶段n]</li> <li><strong>mvn clean</strong>：该命令调用clean生命周期的clean阶段。
<ul><li>实际执行的阶段为clean生命周期中的pre-clean和clean阶段。</li></ul></li> <li><strong>mvn test</strong>：该命令调用default生命周期的test阶段。
<ul><li>实际执行的阶段为default生命周期的从validate到test的所有阶段。</li> <li>这也就解释了为什么执行测试的时候，项目的代码能够自动编译。</li></ul></li> <li><strong>mvn clean install</strong>：该命令调用clean生命周期的clean阶段和default生命周期的install阶段。
<ul><li>实际执行的阶段为clean生命周期的pre-clean、clean阶段，以及default生命周期的从validate到install的所有阶段。</li></ul></li> <li><strong>mvn clean deploy</strong>：该命令调用clean生命周期的clean阶段和default生命周期的deploy阶段。
<ul><li>实际执行的阶段为clean生命周期的pre-clean、clean阶段，以及default生命周期的所有阶段。</li> <li>包含了清理上次构建的结果、编译代码、运行单元测试、打包、将打好的包安装到本地仓库、将打好的包发布到远程仓库等所有操作。</li></ul></li></ul> <h1 id="二、maven插件"><a href="#二、maven插件" class="header-anchor">#</a> 二、maven插件</h1> <h2 id="_1-插件目标"><a href="#_1-插件目标" class="header-anchor">#</a> 1.插件目标</h2> <ul><li>maven的核心仅仅定义了抽象的生命周期，具体的任务交给插件完成。
<ul><li>每套生命周期包含多个阶段，每个阶段执行什么操作，都由插件完成。</li></ul></li> <li>插件以独立的构件形式存在。
<ul><li>为了能够复用代码，每个插件包含多个功能。</li> <li><strong>插件中的每个功能就叫做插件的目标（Plugin Goal），每个插件中可能包含一个或者多个插件目标（Plugin Goal）</strong>。</li></ul></li></ul> <h2 id="_2-插件绑定"><a href="#_2-插件绑定" class="header-anchor">#</a> 2.插件绑定</h2> <ul><li>maven<strong>生命周期的阶段与插件目标绑定</strong>，以完成某个具体的构件任务。
<ul><li>比如项目编译这个任务，对应了default生命周期阶段的compile阶段，而maven-compiler-plugin插件的compile目标能够完成该任务，因此将他们进行绑定，实现项目编译任务。</li></ul></li> <li>生命周期阶段与插件进行绑定后，可以通过mvn 阶段来执行和这个阶段绑定的插件目标。</li></ul> <h2 id="_3-内置绑定"><a href="#_3-内置绑定" class="header-anchor">#</a> 3.内置绑定</h2> <h3 id="_3-1-说明"><a href="#_3-1-说明" class="header-anchor">#</a> 3.1.说明</h3> <p>为了让用户几乎不用任何配置就能构建maven项目，maven为一些主要的生命周期阶段绑定好了插件目标，当我们通过命令调用生命周期阶段时，绑定的插件目标就会执行对应的任务</p> <h3 id="_3-2-clean生命周期阶段与插件目标的绑定关系"><a href="#_3-2-clean生命周期阶段与插件目标的绑定关系" class="header-anchor">#</a> 3.2.clean生命周期阶段与插件目标的绑定关系</h3> <table><thead><tr><th><strong>生命周期阶段</strong></th> <th><strong>插件目标</strong></th> <th><strong>作用</strong></th></tr></thead> <tbody><tr><td>pre-clean</td> <td></td> <td></td></tr> <tr><td>clean</td> <td>maven-clean-plugin:clean</td> <td><strong>删除项目的输出目录</strong></td></tr> <tr><td>post-clean</td> <td></td> <td></td></tr></tbody></table> <h3 id="_3-3-default生命周期阶段与插件目标的绑定关系-打包类型-jar"><a href="#_3-3-default生命周期阶段与插件目标的绑定关系-打包类型-jar" class="header-anchor">#</a> 3.3.default生命周期阶段与插件目标的绑定关系(打包类型:jar)</h3> <table><thead><tr><th><strong>生命周期阶段</strong></th> <th><strong>插件目标</strong></th> <th><strong>作用</strong></th></tr></thead> <tbody><tr><td>process-resources</td> <td>maven-resources-plugin:resources</td> <td>复制主资源文件到主输出目录</td></tr> <tr><td>compile</td> <td>maven-compiler-plugin:compile</td> <td>编译主代码到主输出目录</td></tr> <tr><td>process-test-resources</td> <td>maven-resources-plugin:testResources</td> <td>复制测试资源文件到测试输出目录</td></tr> <tr><td>test-compile</td> <td>maven-compiler-plugin:testCompile</td> <td>编译测试代码到测试输出目录</td></tr> <tr><td>test</td> <td>maven-surefire-plugin:test</td> <td>执行测试用例</td></tr> <tr><td>package</td> <td>maven-jar-plugin:jar</td> <td>创建项目jar包</td></tr> <tr><td>install</td> <td>maven-install-plugin:install</td> <td>将项目输出构件安装到本地maven仓库</td></tr> <tr><td>deploy</td> <td>maven-deploy-plugin:deploy</td> <td>将项目输出构件部署到远程仓库</td></tr></tbody></table> <ul><li>关于输出目录，参考<a href="https://segmentfault.com/a/1190000021287778#item-2" target="_blank" rel="noopener noreferrer">Maven学习2: 依赖管理 - 2.约定优于配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_3-4-site生命周期阶段与插件目标的绑定关系"><a href="#_3-4-site生命周期阶段与插件目标的绑定关系" class="header-anchor">#</a> 3.4.site生命周期阶段与插件目标的绑定关系</h3> <table><thead><tr><th><strong>生命周期阶段</strong></th> <th><strong>插件目标</strong></th> <th><strong>作用</strong></th></tr></thead> <tbody><tr><td>pre-site</td> <td></td> <td></td></tr> <tr><td>site</td> <td>maven-site-plugin:site</td> <td>生成项目站点</td></tr> <tr><td>post-site</td> <td></td> <td></td></tr> <tr><td>site-deploy</td> <td>maven-site-plugin:deploy</td> <td>将项目站点部署到远程服务器</td></tr></tbody></table> <h3 id="_3-5-构建过程验证"><a href="#_3-5-构建过程验证" class="header-anchor">#</a> 3.5.构建过程验证</h3> <ul><li><p>与1.2生命周期详解中6.mvn命令和生命周期示例相同，项目依然使用mavenTest1作为示例。</p></li> <li><p>mvn clean：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ mavenTest1 ---
[INFO] Deleting /Users/xuyang/workspace/mavenTest1/target
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  0.276 s
[INFO] Finished at: 2022-01-12T19:34:03+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>mvn test：</p> <ul><li>调用default生命周期的test阶段，实际执行的时候 default生命周期的validate阶段直到test阶段都要执行，每个阶段绑定的插件目标也会被执行。可以看到处理资源、编译源码、处理测试资源、编译测试源码、测试插件目标都得到了执行。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------&lt; com.sankuai:mavenTest1 &gt;-----------------------
[INFO] Building mavenTest1 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest1 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ mavenTest1 ---
[INFO] Surefire report directory: /Users/xuyang/workspace/mavenTest1/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.sankuai.AppTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  2.026 s
[INFO] Finished at: 2022-01-12T19:34:57+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div></li> <li><p>mvn clean install：</p> <ul><li>该命令调用clean生命周期的clean阶段和default生命周期的install阶段。</li> <li>（构建过程内容省略）</li></ul></li> <li><p>mvn clean deploy：</p> <ul><li>该命令调用clean生命周期的clean阶段和default生命周期的deploy阶段。</li> <li>（构建过程内容省略）</li></ul></li></ul> <h2 id="_4-插件配置"><a href="#_4-插件配置" class="header-anchor">#</a> 4.插件配置</h2> <h3 id="_4-1-命令行插件配置"><a href="#_4-1-命令行插件配置" class="header-anchor">#</a> 4.1.命令行插件配置</h3> <ul><li>在maven命令中使用-D参数，并伴随一个参数键=参数值的形式，来配置插件目标的参数。</li> <li>参数-D是java自带的，其功能是通过命令行设置一个java系统属性。</li> <li>例如，跳过执行测试目标，mvn clean pakcage -Dmaven.test.skip=true</li></ul> <h3 id="_4-2-pom文件中插件全局配置"><a href="#_4-2-pom文件中插件全局配置" class="header-anchor">#</a> 4.2.pom文件中插件全局配置</h3> <ul><li><p>用户在pom文件声明插件时，可以对插件进行全局的配置。</p></li> <li><p>例如，配置maven-compiler-plugin编译Java 1.8版本的源文件，生成与JVM 1.8兼容的字节码文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.8.1&lt;/version&gt;
            &lt;configuration&gt;
                &lt;!-- 编译器版本 --&gt;
                &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;
                &lt;!-- 源码版本 --&gt;
                &lt;source&gt;1.8&lt;/source&gt;
                &lt;!-- 目标代码版本 --&gt;
                &lt;target&gt;1.8&lt;/target&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ul> <h2 id="_5-获取插件信息"><a href="#_5-获取插件信息" class="header-anchor">#</a> 5.获取插件信息</h2> <h3 id="_5-1-在线插件信息"><a href="#_5-1-在线插件信息" class="header-anchor">#</a> 5.1.在线插件信息</h3> <ul><li>Apache：<a href="https://link.segmentfault.com/?enc=yEIAOUn28PlaCKa3kXJMnw%3D%3D.cJa4iFXubFE91dtRr2y7nHNO6lfUZGmxnCNfVAhD1eVv%2BmURGWY%2BPo%2FdcJnKb8ZE" target="_blank" rel="noopener noreferrer">Maven Plugins<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>可以查看插件介绍、插件目标、目标参数等等。</li></ul> <h3 id="_5-2-使用-maven-help-plugin-描述插件"><a href="#_5-2-使用-maven-help-plugin-描述插件" class="header-anchor">#</a> 5.2.使用 maven-help-plugin 描述插件</h3> <ul><li><p>使用 maven-help-plugin 获取插件信息。</p></li> <li><p>方式1：使用插件坐标：mvn help:describe -Dplugin=groupId:artifactId:version</p></li> <li><p>方式2：使用插件目标前缀：mvn help:describe -Dplugin=Goal Prefix，目标前缀的作用是方便在命令行直接运行插件。</p></li> <li><p>如果要获取插件的详细描述，可以在命令后加上-Ddetail参数。</p></li> <li><p>举例：两种方式获取maven-compiler-plugin:3.8.1的插件描述信息</p> <ul><li><p>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-compiler-plugin:3.8.1</p></li> <li><p>mvn help:describe -Dplugin=compiler</p></li> <li><p>过程输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[INFO] org.apache.maven.plugins:maven-compiler-plugin:3.2

Name: Apache Maven Compiler Plugin
Description: The Compiler Plugin is used to compile the sources of your
  project.
Group Id: org.apache.maven.plugins
Artifact Id: maven-compiler-plugin
Version: 3.2
Goal Prefix: compiler

This plugin has 3 goals:

compiler:compile
  Description: Compiles application sources

compiler:help
  Description: Display help information on maven-compiler-plugin.
    Call mvn compiler:help -Ddetail=true -Dgoal=&lt;goal-name&gt; to display
    parameter details.

compiler:testCompile
  Description: Compiles application test sources.

For more information, run 'mvn help:describe [...] -Ddetail'

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.950 s
[INFO] Finished at: 2022-01-12T19:39:20+08:00
[INFO] ------------------------------------------------------------------------
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div></li></ul></li></ul> <h3 id="_5-3-从命令行调用插件"><a href="#_5-3-从命令行调用插件" class="header-anchor">#</a> 5.3.从命令行调用插件</h3> <ul><li>maven命令帮助：mvn -h</li> <li>输出：usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]</li> <li>获取项目依赖树：mvn dependency:tree</li> <li>分析当前项目依赖：mvn dependency:analyze</li> <li>查看当前项目的已解析依赖：mvn dependency:list</li> <li>查看项目最终pom.xml文件：mvn help:effective-pom</li></ul> <h2 id="_6-插件解析"><a href="#_6-插件解析" class="header-anchor">#</a> 6.插件解析</h2> <p>maven简化了插件的使用和配置，但是具体maven是怎么解析插件的呢？</p> <h3 id="_6-1-插件仓库"><a href="#_6-1-插件仓库" class="header-anchor">#</a> 6.1.插件仓库</h3> <ul><li><p>与依赖构件一样，插件构件同样基于坐标存储在maven仓库中。在需要的时候，maven会从本地仓库查找插件，如果不存在，则从远程仓库查找。找到后下载到本地仓库使用。</p></li> <li><p>配置插件仓库，插件仓库与依赖构件仓库是分开配置的。</p></li> <li><p>在项目pom文件pluginRepositories -&gt; pluginRepository元素中配置插件仓库。</p></li> <li><p>具体配置（maven 内置的插件远程仓库）：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;pluginRepositories&gt;
  &lt;pluginRepository&gt;
    &lt;id&gt;central&lt;/id&gt;
    &lt;name&gt;Central Repository&lt;/name&gt;
    &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;
    &lt;layout&gt;default&lt;/layout&gt;
    &lt;snapshots&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
    &lt;releases&gt;
      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
    &lt;/releases&gt;
  &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h3 id="_6-2-插件的默认groupid"><a href="#_6-2-插件的默认groupid" class="header-anchor">#</a> 6.2.插件的默认groupId</h3> <ul><li>org.apache.maven.plugins，配置时不建议省略。</li></ul> <h3 id="_6-3-解析插件版本"><a href="#_6-3-解析插件版本" class="header-anchor">#</a> 6.3.解析插件版本</h3> <ul><li>maven在超级pom中为所有核心插件定义了版本。</li> <li>使用插件时候，应该一直显式设定版本。</li></ul> <h3 id="_6-4-解析插件前缀"><a href="#_6-4-解析插件前缀" class="header-anchor">#</a> 6.4.解析插件前缀</h3> <ul><li><p>插件前缀(Goal Prefix)与groupId:artifactId是一一对应的，这种对应关系存储在仓库元数据中。</p> <ul><li><p>示例：<a href="https://link.segmentfault.com/?enc=Kck3XNnmosptdZTc9wxKOw%3D%3D.ELa7L3hR4IYKvU8j%2Fi7ZY6LoPWl06p%2FE8QKsZMJA%2FIqwwpwybvSV%2B%2FGDHVcdiiS445t4kA6pB2Vfd4TphIOshVNj%2FSL29C3ls%2Fkrm9LT%2Fg8%3D" target="_blank" rel="noopener noreferrer">匹配关系<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>本地仓库插件元数据文件位置：~/.m2/repository/org/apache/maven/plugins/maven-metadata-central.xml</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;metadata&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;name&gt;Apache Maven Clean Plugin&lt;/name&gt;
            &lt;prefix&gt;clean&lt;/prefix&gt;
            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;name&gt;Apache Maven Compiler Plugin&lt;/name&gt;
            &lt;prefix&gt;compiler&lt;/prefix&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/metadata&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul></li> <li><p>默认的插件仓库groupId：org.apache.maven.plugins</p></li> <li><p>配置自己的插件仓库元数据：</p> <ul><li><p>用户的maven配置文件：~/.m2/settings.xml</p></li> <li><p>settings -&gt; pluginGroups -&gt; pluginGroup元素中配置。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;settings&gt;
  &lt;pluginGroups&gt;
    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;
  &lt;/pluginGroups&gt;
&lt;/settings&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li></ul> <hr> <h1 id="_6-多执行环境"><a href="#_6-多执行环境" class="header-anchor">#</a> 6. 多执行环境</h1> <h2 id="一、灵活构建"><a href="#一、灵活构建" class="header-anchor">#</a> 一、灵活构建</h2> <h2 id="_1-三大特性"><a href="#_1-三大特性" class="header-anchor">#</a> 1.三大特性</h2> <ul><li>属性</li> <li>资源过滤</li> <li>Profile</li></ul> <h2 id="_2-属性"><a href="#_2-属性" class="header-anchor">#</a> 2.属性</h2> <h3 id="_2-1-自定义属性"><a href="#_2-1-自定义属性" class="header-anchor">#</a> 2.1.自定义属性</h3> <ul><li><p>用户可以在项目的pom文件的<properties>元素中自定义maven属性。</properties></p></li> <li><p>在pom文件的其他地方，使用${属性名称}引用该属性。</p></li> <li><p>意义在于<strong>消除重复</strong>，示例代码如下。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project&gt;
    &lt;properties&gt;
        &lt;springframework.groupId&gt;org.springframework&lt;/springframework.groupId&gt;
        &lt;springframework.version&gt;5.2.1.RELEASE&lt;/springframework.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;${springframework.groupId}&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;${springframework.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;${springframework.groupId}&lt;/groupId&gt;
            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
            &lt;version&gt;${springframework.version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ul> <h3 id="_2-2-内置属性"><a href="#_2-2-内置属性" class="header-anchor">#</a> 2.2.内置属性</h3> <p>两个常用的内置属性：</p> <ul><li>${basedir}: 项目根目录，即包含pom文件的目录</li> <li>${version}: 项目版本</li></ul> <h3 id="_2-3-pom属性"><a href="#_2-3-pom属性" class="header-anchor">#</a> 2.3.POM属性</h3> <p>用户可以使用该类属性引用pom文件中对应元素的值。
常用的pom属性如下：</p> <ul><li>${project.build.sourceDirectory}: 项目的主源码目录，默认为src/main/java/</li> <li>${project.build.testSourceDirectory}:项目的测试源码目录，默认为src/test/java/</li> <li>${project.build.directory}:项目的构建输出目录，默认为target/</li> <li>${project.outputDirectory}: 项目的主代码编译输出目录，默认为target/classes/</li> <li>${project.testOutputDirectory}: 项目的测试代码编译输出目录，默认为target/test-classes/</li> <li>${project.groupId}: 项目的groupId</li> <li>${project.artifactId}: 项目的artifactId</li> <li>${project.version}: 项目的版本,与${version}等价。</li> <li>${project.build.finalName}: 项目打包输出文件的名称。默认为${project.artifactId}-${project.version}</li></ul> <h3 id="_2-4-settings属性"><a href="#_2-4-settings属性" class="header-anchor">#</a> 2.4.settings属性</h3> <p>用户可以使用该类属性引用settings文件中对应元素的值。</p> <ul><li>${settings.localRepository}:用户本地仓库</li></ul> <h3 id="_2-5-java系统属性"><a href="#_2-5-java系统属性" class="header-anchor">#</a> 2.5.Java系统属性</h3> <ul><li>所有Java系统属性都可以使用Maven属性引用。</li> <li>使用mvn help:system查看所有的Java系统属性。</li> <li>${user.home}：用户目录</li></ul> <h3 id="_2-6-环境变量属性"><a href="#_2-6-环境变量属性" class="header-anchor">#</a> 2.6.环境变量属性</h3> <ul><li>所有环境变量都可以使用env.开头的Maven属性引用。</li> <li>使用mvn help:system查看所有的环境变量属性。</li> <li>${env.JAVA_HOME}: JAVA_HOME环境变量的值。</li></ul> <h2 id="_3-资源过滤"><a href="#_3-资源过滤" class="header-anchor">#</a> 3.资源过滤</h2> <h3 id="_3-1-遇到的问题"><a href="#_3-1-遇到的问题" class="header-anchor">#</a> 3.1.遇到的问题</h3> <ul><li>多环境配置：项目不同的环境对应着不同的数据库配置，手动更改这些配置往往比较低效。</li></ul> <h3 id="_3-2-解决"><a href="#_3-2-解决" class="header-anchor">#</a> 3.2.解决</h3> <ol><li>使用maven属性将这些会发生变化的部分提取出来。</li> <li>然后开启资源目录的过滤功能，就可以解决这一问题。</li></ol> <h3 id="_3-3-示例"><a href="#_3-3-示例" class="header-anchor">#</a> 3.3.示例</h3> <ul><li><p>数据库配置</p> <p># src/main/resources/application.properties</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>database.jdbc.driverClass=${db.driver}
database.jdbc.connectionUrl=${db.url}
database.jdbc.username=${db.user}
database.jdbc.password=${db.pw}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>开启资源过滤</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project&gt;    
    &lt;properties&gt;
        &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
        &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
        &lt;db.user&gt;dev-user&lt;/db.user&gt;
        &lt;db.pw&gt;dev-pwd&lt;/db.pw&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
    &lt;/build&gt;
&lt;/project&gt;    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p>编译代码mvn compile</p> <ul><li>查看主代码编译输出目录下的资源文件，已经得到了替换。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>database.jdbc.driverClass=com.mysql.jdbc.Driver
database.jdbc.connectionUrl=jdbc:mysql//localhost:3306/test
database.jdbc.username=aaa
database.jdbc.password=aaa-pwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h2 id="_4-maven-profile"><a href="#_4-maven-profile" class="header-anchor">#</a> 4.Maven Profile</h2> <h3 id="_4-1-针对不同环境的profile"><a href="#_4-1-针对不同环境的profile" class="header-anchor">#</a> 4.1.针对不同环境的profile</h3> <ul><li><p>示例：基于开发和测试环境的profile</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    &lt;project&gt;    
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;dev&lt;/id&gt;
            &lt;properties&gt;
                &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
                &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
                &lt;db.user&gt;dev&lt;/db.user&gt;
                &lt;db.pw&gt;dev-pwd&lt;/db.pw&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;

        &lt;profile&gt;
            &lt;id&gt;test&lt;/id&gt;
            &lt;properties&gt;
                &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
                &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
                &lt;db.user&gt;test&lt;/db.user&gt;
                &lt;db.pw&gt;test-pwd&lt;/db.pw&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
&lt;/project&gt;    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ul> <h3 id="_4-2-激活profile"><a href="#_4-2-激活profile" class="header-anchor">#</a> 4.2.激活profile</h3> <ol><li><p>命令行激活</p> <ul><li>使用maven命令行参数 -P 加上profile的 id ，多个id之间逗号分隔</li> <li>如：mvn clean compile -Pdev</li></ul></li> <li><p>默认激活</p> <ul><li><p>配置profile &gt; activation &gt; activationByDefault元素的值为true,该profile默认激活</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project&gt;    
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;dev&lt;/id&gt;
            &lt;activation&gt;
                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
            &lt;/activation&gt;
            &lt;properties&gt;
                &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
                &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
                &lt;db.user&gt;dev&lt;/db.user&gt;
                &lt;db.pw&gt;dev-pwd&lt;/db.pw&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
&lt;/project&gt;    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul></li> <li><p>系统属性激活</p> <ul><li><p>mvn ... -D属性xx=属性xx的值</p></li> <li><p>指定的属性存在，激活profile</p></li> <li><p>指定的属性存在，并且值等于x时，激活profile</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project&gt;    
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;dev&lt;/id&gt;
            &lt;activation&gt;
                &lt;property&gt;
                    &lt;name&gt;test&lt;/name&gt;
                    &lt;value&gt;x&lt;/value&gt;
                &lt;/property&gt;
            &lt;/activation&gt;
            &lt;properties&gt;
                &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
                &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
                &lt;db.user&gt;dev&lt;/db.user&gt;
                &lt;db.pw&gt;dev-pwd&lt;/db.pw&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
&lt;/project&gt;    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul></li> <li><p>文件存在与否激活</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;project&gt;    
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;dev&lt;/id&gt;
            &lt;activation&gt;
                &lt;file&gt;
                    &lt;exists&gt;x.properties&lt;/exists&gt;
                    &lt;missing&gt;y.properties&lt;/missing&gt;
                &lt;/file&gt;
            &lt;/activation&gt;
            &lt;properties&gt;
                &lt;db.driver&gt;com.mysql.jdbc.Driver&lt;/db.driver&gt;
                &lt;db.url&gt;jdbc:mysql//localhost:3306/test&lt;/db.url&gt;
                &lt;db.user&gt;dev&lt;/db.user&gt;
                &lt;db.pw&gt;dev-pwd&lt;/db.pw&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
&lt;/project&gt;    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol> <h3 id="_4-3-查看当前激活的profile"><a href="#_4-3-查看当前激活的profile" class="header-anchor">#</a> 4.3.查看当前激活的profile</h3> <ul><li>mvn help:active-profiles</li></ul> <h3 id="_4-4-列出所有的profile"><a href="#_4-4-列出所有的profile" class="header-anchor">#</a> 4.4.列出所有的profile</h3> <ul><li>mvn help:all-profiles</li></ul> <hr> <h1 id="_7-项目多模块-一、maven聚合"><a href="#_7-项目多模块-一、maven聚合" class="header-anchor">#</a> 7. 项目多模块  一、Maven聚合</h1> <h2 id="_1-为什么使用聚合"><a href="#_1-为什么使用聚合" class="header-anchor">#</a> 1.为什么使用聚合？</h2> <p>假设一个项目包含两个模块，我们想要一次构建两个模块，而不是到两个模块的目录下分别执行mvn命令，这时就需要用到聚合。</p> <h2 id="_2-聚合配置"><a href="#_2-聚合配置" class="header-anchor">#</a> 2.聚合配置</h2> <h3 id="_2-1-聚合模块pom配置"><a href="#_2-1-聚合模块pom配置" class="header-anchor">#</a> 2.1.聚合模块pom配置</h3> <ul><li><p>聚合模块packaging类型为 pom</p></li> <li><p>聚合模块包含 modules元素，每个module对应一个要被聚合的子模块。</p></li> <li><p>module的值是当前pom的相对目录。</p></li> <li><p>具体配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;modules&gt;
    &lt;module&gt;模块1&lt;/module&gt;
    &lt;module&gt;模块2&lt;/module&gt;
    &lt;module&gt;模块3&lt;/module&gt;
&lt;/modules&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h3 id="_2-2-聚合模块相对位置"><a href="#_2-2-聚合模块相对位置" class="header-anchor">#</a> 2.2.聚合模块相对位置</h3> <ul><li>通常将聚合模块放在项目目录的最顶层，其他模块作为聚合模块的子目录。</li></ul> <h3 id="_2-3-聚合模块意义"><a href="#_2-3-聚合模块意义" class="header-anchor">#</a> 2.3.聚合模块意义</h3> <ul><li>聚合模块仅仅是帮助聚合其他模块构建的工具，本身并无实质内容。</li> <li>解决同时构建多个模块的问题。</li></ul> <h3 id="_2-4-聚合模块构建"><a href="#_2-4-聚合模块构建" class="header-anchor">#</a> 2.4.聚合模块构建</h3> <ul><li>maven首先会解析聚合模块的pom，分析要构建的模块，并计算出一个<strong>反应堆构建顺序（Reactor Build Order）</strong>，然后根据这个顺序依次构建各个模块。</li></ul> <h1 id="二、maven继承"><a href="#二、maven继承" class="header-anchor">#</a> 二、Maven继承</h1> <h2 id="_1-为什么使用继承"><a href="#_1-为什么使用继承" class="header-anchor">#</a> 1.为什么使用继承？</h2> <p>解决重复配置问题。</p> <h2 id="_2-继承配置"><a href="#_2-继承配置" class="header-anchor">#</a> 2.继承配置</h2> <h3 id="_2-1-项目继承的配置"><a href="#_2-1-项目继承的配置" class="header-anchor">#</a> 2.1.项目继承的配置</h3> <ul><li><p>父模块的packaging类型为pom。</p></li> <li><p>子模块需要配置project -&gt; parent元素信息</p> <ul><li>父模块坐标配置，groupId:artifactId:version</li> <li>relativePath: 父模块pom文件所在路径，默认父pom在上一层目录下（即 ../pom.xml）。</li> <li>构建过程中，maven会根据relativePath检查父pom，如果找不到，再从本地仓库查找。</li></ul></li> <li><p>子模块继承父模块的配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;parent&gt;
    &lt;groupId&gt;父构件groupId&lt;/groupId&gt;
    &lt;artifactId&gt;父构件artifactId&lt;/artifactId&gt;
    &lt;version&gt;父构件的版本号&lt;/version&gt;
    &lt;relativePath&gt;父构件pom.xml路径&lt;/relativePath&gt;
&lt;/parent&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h3 id="_2-2-可继承的pom元素"><a href="#_2-2-可继承的pom元素" class="header-anchor">#</a> 2.2.可继承的pom元素</h3> <ul><li>groupId：项目组ID，项目坐标的核心元素。</li> <li>version：项目版本，项目坐标的核心元素。</li> <li>description：项目的描述信息。</li> <li>organization：项目的组织信息。</li> <li>inceptionYear：项目的创始年份。</li> <li>url：项目的url地址。</li> <li>developers：项目的开发者信息。</li> <li>contributors：项目的贡献者信息。</li> <li>distributionManagement：项目的部署配置信息。</li> <li>issueManagement：项目的缺陷跟踪系统信息。</li> <li>ciManagement：项目的持续集成系统信息。</li> <li>scm：项目的版本控制系统信息。</li> <li>mailingLists：项目的邮件列表信息。</li> <li>properties：自定义的maven属性配置信息。</li> <li>dependencyManagement：项目的依赖管理配置。</li> <li>repositories：项目的仓库配置。</li> <li>build：包括项目的源码目录配置、输出目录配置、插件配置、插件管理配置等信息。</li> <li>reporting：包括项目的报告输出目录配置、报告插件配置等信息。</li></ul> <h3 id="_2-3-依赖管理"><a href="#_2-3-依赖管理" class="header-anchor">#</a> 2.3.依赖管理</h3> <ul><li><p>maven提供的dependencyManagement元素既能让子模块继承到父模块的依赖配置，又能保证子模块依赖使用的灵活性.</p></li> <li><p><strong>在dependencyManagement元素下的依赖声明不会引入实际的依赖，但是它能约束对dependencies下的依赖使用。</strong></p></li> <li><p>import依赖范围：</p> <ul><li><p>将目标pom中dependencyManagement配置导入，并合并到当前项目的dependencyManagement元素中。</p></li> <li><p>不想使用继承的方式，来达到使用目标pom中的依赖的目的。</p></li> <li><p>import依赖范围一般都指向打包类型为pom的模块。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;targetGroupId&lt;/groupId&gt;
            &lt;artifactId&gt;targetArtifactId&lt;/artifactId&gt;
            &lt;version&gt;targetVersion&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;构件1&lt;/dependency&gt;
        &lt;dependency&gt;构件2&lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul></li></ul> <h3 id="_2-4-插件管理"><a href="#_2-4-插件管理" class="header-anchor">#</a> 2.4.插件管理</h3> <ul><li><p>maven中提供了dependencyManagement来帮助管理依赖继承，也提供了pluginManagement元素帮助管理插件继承。</p></li> <li><p>在父模块pom中该元素的配置不会造成实际的插件调用行为，只有在子pom.xml中配置plugins -&gt; plugin元素声明该插件的时候，插件才会起效。</p></li> <li><p>子pom插件中只需要写groupId、artifactId，其他信息都可以从父pom中传递过来。</p></li> <li><p>举例，使用maven-source-plugin插件生成项目源码包，将该插件的jar-no-fork目标绑定到default生命周期的verify阶段。</p> <ul><li><p>父pom插件管理配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;build&gt;
    &lt;pluginManagement&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.2.1&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;attach-source&lt;/id&gt;
                        &lt;phase&gt;verify&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
&lt;/build&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li> <li><p>子pom插件声明配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li></ul> <h1 id="三、聚合与继承"><a href="#三、聚合与继承" class="header-anchor">#</a> 三、聚合与继承</h1> <h2 id="_1-目的"><a href="#_1-目的" class="header-anchor">#</a> 1.目的</h2> <ul><li>聚合主要是为了方便快速构建多模块项目。</li> <li>继承主要是为了消除重复配置。</li></ul> <h2 id="_2-与其他模块关系"><a href="#_2-与其他模块关系" class="header-anchor">#</a> 2.与其他模块关系</h2> <ul><li>对于聚合模块来说，聚合模块知道有哪些被聚合的模块，而被聚合模块不知道聚合模块的存在。</li> <li>对于继承来说，父模块是不知道有哪些子模块继承它，而子模块需要使用parent来引用父模块。</li></ul> <h2 id="_3-共同点"><a href="#_3-共同点" class="header-anchor">#</a> 3.共同点</h2> <ul><li>聚合模块和继承中的父模块的packaging属性都必须是pom类型的。</li> <li>同时，聚合模块和父模块除了pom.xml，一般都没有实际内容。</li></ul> <h2 id="_4-实际使用"><a href="#_4-实际使用" class="header-anchor">#</a> 4.实际使用</h2> <ul><li>将聚合和继承一起使用，能同时使用到两者的优点。</li></ul> <h1 id="四、反应堆"><a href="#四、反应堆" class="header-anchor">#</a> 四、反应堆</h1> <h2 id="_1-介绍"><a href="#_1-介绍" class="header-anchor">#</a> 1.介绍</h2> <h3 id="_1-1-反应堆"><a href="#_1-1-反应堆" class="header-anchor">#</a> 1.1.反应堆</h3> <ul><li>在<strong>多模块的maven项目</strong>中，反应堆（Reactor）是指<strong>所有模块组成的一个构建结构</strong>。</li></ul> <h3 id="_1-2-单模块项目的反应堆"><a href="#_1-2-单模块项目的反应堆" class="header-anchor">#</a> 1.2.单模块项目的反应堆</h3> <ul><li>就是该模块本身。</li></ul> <h3 id="_1-3-多模块项目的反应堆"><a href="#_1-3-多模块项目的反应堆" class="header-anchor">#</a> 1.3.多模块项目的反应堆</h3> <ul><li>包含模块之间继承与依赖的关系，从而能够自动计算出合理的模块构建顺序。</li></ul> <h2 id="_2-反应堆构建顺序"><a href="#_2-反应堆构建顺序" class="header-anchor">#</a> 2.反应堆构建顺序</h2> <ul><li>maven按聚合配置中的顺序读取pom。</li> <li>如果该pom没有依赖模块，那么就构建该模块，否则就先构建其依赖的模块，如果该依赖还依赖于其他模块，则进一步先构建依赖的依赖。</li></ul> <h2 id="_3-裁剪反应堆"><a href="#_3-裁剪反应堆" class="header-anchor">#</a> 3.裁剪反应堆</h2> <h3 id="_3-1-说明-2"><a href="#_3-1-说明-2" class="header-anchor">#</a> 3.1.说明</h3> <ul><li>一般情况下，用户会选择构建整个项目或者选择构建单个模块。</li> <li>如果想要仅仅构建完整反应堆中的某些模块，就需要实时的裁剪反应堆</li></ul> <h3 id="_3-2-裁剪反应堆选项"><a href="#_3-2-裁剪反应堆选项" class="header-anchor">#</a> 3.2.裁剪反应堆选项</h3> <ul><li>执行mvn -h可以看到裁剪反应堆的选项。</li> <li>-am：--also-make， 同时构建<strong>所列模块</strong>的依赖模块。</li> <li>-amd：-also-make-dependencies，同时构建<strong>依赖于所列模块</strong>的模块。</li> <li>-pl：--projects <arg>，构建指定的模块，模块之间使用逗号分隔</arg></li> <li>-rf：-resume-from <arg>，从指定的模块继续反应堆</arg></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/2290653824/myVuePressBlog/edit/master/docs/40.常见框架/49.maven/11. maven摘录.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/02/22, 14:03:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/97e26b/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">maven</div></a> <a href="/pages/e79aca/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">阿里是如何进行单元测试的</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/97e26b/" class="prev">maven</a></span> <span class="next"><a href="/pages/e79aca/">阿里是如何进行单元测试的</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e837ca/"><div>
            spark基础
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/41416f/"><div>
            mysql读写分离和分库分表
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c19608/"><div>
            数据库迁移
            <!----></div></a> <span class="date">02-22</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="2290653824@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/2290653824" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=430175831" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7d33bb02.js" defer></script><script src="/assets/js/2.15f2967d.js" defer></script><script src="/assets/js/151.abbd46e4.js" defer></script>
  </body>
</html>
