<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>如何解决死锁 | baby sword‘s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="java后端技术总结，生活记录。个人笔记">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.53c04193.css" as="style"><link rel="preload" href="/assets/js/app.7d33bb02.js" as="script"><link rel="preload" href="/assets/js/2.15f2967d.js" as="script"><link rel="preload" href="/assets/js/102.9d17991d.js" as="script"><link rel="prefetch" href="/assets/js/10.dabe1a63.js"><link rel="prefetch" href="/assets/js/100.a2015101.js"><link rel="prefetch" href="/assets/js/101.86d0ebe4.js"><link rel="prefetch" href="/assets/js/103.d013e413.js"><link rel="prefetch" href="/assets/js/104.4580e90e.js"><link rel="prefetch" href="/assets/js/105.c98e8247.js"><link rel="prefetch" href="/assets/js/106.9512d8d6.js"><link rel="prefetch" href="/assets/js/107.dc6dd50f.js"><link rel="prefetch" href="/assets/js/108.36e17e32.js"><link rel="prefetch" href="/assets/js/109.952d543d.js"><link rel="prefetch" href="/assets/js/11.7ad42e2d.js"><link rel="prefetch" href="/assets/js/110.aae101ed.js"><link rel="prefetch" href="/assets/js/111.9ad19a52.js"><link rel="prefetch" href="/assets/js/112.0c3843ec.js"><link rel="prefetch" href="/assets/js/113.c5d4208b.js"><link rel="prefetch" href="/assets/js/114.09b4516e.js"><link rel="prefetch" href="/assets/js/115.8c6bacae.js"><link rel="prefetch" href="/assets/js/116.f6cb99af.js"><link rel="prefetch" href="/assets/js/117.d888ae3d.js"><link rel="prefetch" href="/assets/js/118.e1612eca.js"><link rel="prefetch" href="/assets/js/119.3b12ca64.js"><link rel="prefetch" href="/assets/js/12.d0f226ac.js"><link rel="prefetch" href="/assets/js/120.7bff079e.js"><link rel="prefetch" href="/assets/js/121.4e029ab8.js"><link rel="prefetch" href="/assets/js/122.f2575eb6.js"><link rel="prefetch" href="/assets/js/123.af6bedbe.js"><link rel="prefetch" href="/assets/js/124.1d9ff52d.js"><link rel="prefetch" href="/assets/js/125.8ce6c45b.js"><link rel="prefetch" href="/assets/js/126.74738876.js"><link rel="prefetch" href="/assets/js/127.469dca9c.js"><link rel="prefetch" href="/assets/js/128.733a2f9b.js"><link rel="prefetch" href="/assets/js/129.e3046663.js"><link rel="prefetch" href="/assets/js/13.ca9cb7b7.js"><link rel="prefetch" href="/assets/js/130.5f8a399c.js"><link rel="prefetch" href="/assets/js/131.f66f486f.js"><link rel="prefetch" href="/assets/js/132.3fcb4a90.js"><link rel="prefetch" href="/assets/js/133.e6a7cbf8.js"><link rel="prefetch" href="/assets/js/134.bc8d2a8b.js"><link rel="prefetch" href="/assets/js/135.240c78e9.js"><link rel="prefetch" href="/assets/js/136.008aca90.js"><link rel="prefetch" href="/assets/js/137.8bbcd666.js"><link rel="prefetch" href="/assets/js/138.bf695fc2.js"><link rel="prefetch" href="/assets/js/139.c00c9dc2.js"><link rel="prefetch" href="/assets/js/14.3885beda.js"><link rel="prefetch" href="/assets/js/140.1a2eba1e.js"><link rel="prefetch" href="/assets/js/141.c8600326.js"><link rel="prefetch" href="/assets/js/142.129fdc97.js"><link rel="prefetch" href="/assets/js/143.1bcbaa9c.js"><link rel="prefetch" href="/assets/js/144.77983828.js"><link rel="prefetch" href="/assets/js/145.18c96830.js"><link rel="prefetch" href="/assets/js/146.062c1576.js"><link rel="prefetch" href="/assets/js/147.4dffe67b.js"><link rel="prefetch" href="/assets/js/148.0a12fdd2.js"><link rel="prefetch" href="/assets/js/149.644d9858.js"><link rel="prefetch" href="/assets/js/15.981df7e3.js"><link rel="prefetch" href="/assets/js/150.3a56182c.js"><link rel="prefetch" href="/assets/js/151.abbd46e4.js"><link rel="prefetch" href="/assets/js/152.c54e620b.js"><link rel="prefetch" href="/assets/js/153.d9a8477a.js"><link rel="prefetch" href="/assets/js/154.c0737606.js"><link rel="prefetch" href="/assets/js/155.273b61be.js"><link rel="prefetch" href="/assets/js/156.ac322b48.js"><link rel="prefetch" href="/assets/js/157.29da92a5.js"><link rel="prefetch" href="/assets/js/158.20aa63c2.js"><link rel="prefetch" href="/assets/js/159.cb2bfda8.js"><link rel="prefetch" href="/assets/js/16.851e8b6c.js"><link rel="prefetch" href="/assets/js/160.c31eb98d.js"><link rel="prefetch" href="/assets/js/161.ba3b58c4.js"><link rel="prefetch" href="/assets/js/162.822b912d.js"><link rel="prefetch" href="/assets/js/163.fb89cac8.js"><link rel="prefetch" href="/assets/js/164.2ec85d97.js"><link rel="prefetch" href="/assets/js/165.80d69bc7.js"><link rel="prefetch" href="/assets/js/166.0734abd2.js"><link rel="prefetch" href="/assets/js/167.12b046ed.js"><link rel="prefetch" href="/assets/js/168.b0d4db24.js"><link rel="prefetch" href="/assets/js/169.238c1564.js"><link rel="prefetch" href="/assets/js/17.71993e7e.js"><link rel="prefetch" href="/assets/js/170.a20084f6.js"><link rel="prefetch" href="/assets/js/171.f7beebbd.js"><link rel="prefetch" href="/assets/js/172.edc29fbe.js"><link rel="prefetch" href="/assets/js/173.3fc5869c.js"><link rel="prefetch" href="/assets/js/174.82f26aa5.js"><link rel="prefetch" href="/assets/js/175.595120d6.js"><link rel="prefetch" href="/assets/js/176.05d37828.js"><link rel="prefetch" href="/assets/js/177.cd7feb20.js"><link rel="prefetch" href="/assets/js/178.a5982934.js"><link rel="prefetch" href="/assets/js/179.8c485f51.js"><link rel="prefetch" href="/assets/js/18.cba9194a.js"><link rel="prefetch" href="/assets/js/180.c219aac7.js"><link rel="prefetch" href="/assets/js/181.dfb84650.js"><link rel="prefetch" href="/assets/js/182.27cb275e.js"><link rel="prefetch" href="/assets/js/183.f163af9d.js"><link rel="prefetch" href="/assets/js/184.b18298e6.js"><link rel="prefetch" href="/assets/js/185.80fccb48.js"><link rel="prefetch" href="/assets/js/186.77df58b4.js"><link rel="prefetch" href="/assets/js/187.2ef89f60.js"><link rel="prefetch" href="/assets/js/188.fa837c00.js"><link rel="prefetch" href="/assets/js/189.28bd30b9.js"><link rel="prefetch" href="/assets/js/19.81dac5f4.js"><link rel="prefetch" href="/assets/js/190.29e7f541.js"><link rel="prefetch" href="/assets/js/191.0ba2207c.js"><link rel="prefetch" href="/assets/js/192.36dea193.js"><link rel="prefetch" href="/assets/js/193.cb147e1d.js"><link rel="prefetch" href="/assets/js/194.569ebd0a.js"><link rel="prefetch" href="/assets/js/195.fe0c4ebf.js"><link rel="prefetch" href="/assets/js/196.7943b4f0.js"><link rel="prefetch" href="/assets/js/197.15498b32.js"><link rel="prefetch" href="/assets/js/198.bf082825.js"><link rel="prefetch" href="/assets/js/199.f76dadbf.js"><link rel="prefetch" href="/assets/js/20.45d8ffc5.js"><link rel="prefetch" href="/assets/js/200.80915aee.js"><link rel="prefetch" href="/assets/js/201.0fcd5a5e.js"><link rel="prefetch" href="/assets/js/202.ac356c7f.js"><link rel="prefetch" href="/assets/js/203.8b9abdf7.js"><link rel="prefetch" href="/assets/js/204.ceb5d675.js"><link rel="prefetch" href="/assets/js/205.292242cf.js"><link rel="prefetch" href="/assets/js/206.2e9cbdce.js"><link rel="prefetch" href="/assets/js/207.7a9094b4.js"><link rel="prefetch" href="/assets/js/208.c7ad7eab.js"><link rel="prefetch" href="/assets/js/209.681223ee.js"><link rel="prefetch" href="/assets/js/21.7a9f257f.js"><link rel="prefetch" href="/assets/js/210.3bbf8260.js"><link rel="prefetch" href="/assets/js/211.5bd34e61.js"><link rel="prefetch" href="/assets/js/212.dc330741.js"><link rel="prefetch" href="/assets/js/213.3cc734f7.js"><link rel="prefetch" href="/assets/js/214.91079873.js"><link rel="prefetch" href="/assets/js/215.25a0181b.js"><link rel="prefetch" href="/assets/js/216.3cb6f681.js"><link rel="prefetch" href="/assets/js/217.0187eee5.js"><link rel="prefetch" href="/assets/js/218.bb486cfa.js"><link rel="prefetch" href="/assets/js/219.5ca601a6.js"><link rel="prefetch" href="/assets/js/22.6aa340ac.js"><link rel="prefetch" href="/assets/js/220.f2fbfd29.js"><link rel="prefetch" href="/assets/js/221.c343eb87.js"><link rel="prefetch" href="/assets/js/222.eccb8faf.js"><link rel="prefetch" href="/assets/js/223.b6ee70d7.js"><link rel="prefetch" href="/assets/js/224.049967fd.js"><link rel="prefetch" href="/assets/js/225.e5573f45.js"><link rel="prefetch" href="/assets/js/226.f6133f9b.js"><link rel="prefetch" href="/assets/js/227.1d2bb9be.js"><link rel="prefetch" href="/assets/js/228.92c248b8.js"><link rel="prefetch" href="/assets/js/229.2da9b7fb.js"><link rel="prefetch" href="/assets/js/23.a2a5f82e.js"><link rel="prefetch" href="/assets/js/230.1ed17ebe.js"><link rel="prefetch" href="/assets/js/231.f9a8d324.js"><link rel="prefetch" href="/assets/js/232.d073b6b8.js"><link rel="prefetch" href="/assets/js/233.bec9cdbd.js"><link rel="prefetch" href="/assets/js/234.cb6a1e28.js"><link rel="prefetch" href="/assets/js/235.ebb74d27.js"><link rel="prefetch" href="/assets/js/236.24044479.js"><link rel="prefetch" href="/assets/js/237.f7c04397.js"><link rel="prefetch" href="/assets/js/238.affa4a25.js"><link rel="prefetch" href="/assets/js/239.2b15684a.js"><link rel="prefetch" href="/assets/js/24.4f94869e.js"><link rel="prefetch" href="/assets/js/240.524a5283.js"><link rel="prefetch" href="/assets/js/241.a6f85fbc.js"><link rel="prefetch" href="/assets/js/242.a5012b0f.js"><link rel="prefetch" href="/assets/js/243.f2872f9d.js"><link rel="prefetch" href="/assets/js/244.af8dce4a.js"><link rel="prefetch" href="/assets/js/245.913dd95f.js"><link rel="prefetch" href="/assets/js/246.46085f09.js"><link rel="prefetch" href="/assets/js/247.cab3066d.js"><link rel="prefetch" href="/assets/js/248.6ffe9bd2.js"><link rel="prefetch" href="/assets/js/249.940ac997.js"><link rel="prefetch" href="/assets/js/25.8beba237.js"><link rel="prefetch" href="/assets/js/250.24f5729f.js"><link rel="prefetch" href="/assets/js/251.040b7687.js"><link rel="prefetch" href="/assets/js/252.fce23e02.js"><link rel="prefetch" href="/assets/js/253.6aa072a9.js"><link rel="prefetch" href="/assets/js/254.fced3292.js"><link rel="prefetch" href="/assets/js/255.81bdb3ab.js"><link rel="prefetch" href="/assets/js/256.eee8f018.js"><link rel="prefetch" href="/assets/js/257.258e3d5f.js"><link rel="prefetch" href="/assets/js/258.53764d35.js"><link rel="prefetch" href="/assets/js/259.44220dff.js"><link rel="prefetch" href="/assets/js/26.38f820a6.js"><link rel="prefetch" href="/assets/js/260.a78371e6.js"><link rel="prefetch" href="/assets/js/261.e47bec83.js"><link rel="prefetch" href="/assets/js/262.cdc1b042.js"><link rel="prefetch" href="/assets/js/263.83db8a83.js"><link rel="prefetch" href="/assets/js/264.2f01d4cb.js"><link rel="prefetch" href="/assets/js/265.e174d060.js"><link rel="prefetch" href="/assets/js/266.96c46fc6.js"><link rel="prefetch" href="/assets/js/267.b73d8242.js"><link rel="prefetch" href="/assets/js/268.a71f8ffc.js"><link rel="prefetch" href="/assets/js/269.d962ab34.js"><link rel="prefetch" href="/assets/js/27.7eb3747a.js"><link rel="prefetch" href="/assets/js/270.09b33473.js"><link rel="prefetch" href="/assets/js/271.68955791.js"><link rel="prefetch" href="/assets/js/272.c673e920.js"><link rel="prefetch" href="/assets/js/273.a5e8096c.js"><link rel="prefetch" href="/assets/js/274.9df9cd64.js"><link rel="prefetch" href="/assets/js/275.8ad49720.js"><link rel="prefetch" href="/assets/js/276.31c0a4dc.js"><link rel="prefetch" href="/assets/js/277.fb617ede.js"><link rel="prefetch" href="/assets/js/278.f0919232.js"><link rel="prefetch" href="/assets/js/279.ac800bcf.js"><link rel="prefetch" href="/assets/js/28.632f9819.js"><link rel="prefetch" href="/assets/js/280.f4c522e5.js"><link rel="prefetch" href="/assets/js/281.819aa80e.js"><link rel="prefetch" href="/assets/js/282.235df8a4.js"><link rel="prefetch" href="/assets/js/283.246395f4.js"><link rel="prefetch" href="/assets/js/284.5b296a3d.js"><link rel="prefetch" href="/assets/js/285.67018b71.js"><link rel="prefetch" href="/assets/js/286.a6ef00c7.js"><link rel="prefetch" href="/assets/js/287.99e52f33.js"><link rel="prefetch" href="/assets/js/288.18c31c85.js"><link rel="prefetch" href="/assets/js/289.2b552251.js"><link rel="prefetch" href="/assets/js/29.bfe31680.js"><link rel="prefetch" href="/assets/js/290.4b447987.js"><link rel="prefetch" href="/assets/js/291.3baa6247.js"><link rel="prefetch" href="/assets/js/292.8f5062ef.js"><link rel="prefetch" href="/assets/js/293.27c0a1dc.js"><link rel="prefetch" href="/assets/js/294.b0e5601c.js"><link rel="prefetch" href="/assets/js/295.f9b5b950.js"><link rel="prefetch" href="/assets/js/296.8a4a804f.js"><link rel="prefetch" href="/assets/js/297.01257458.js"><link rel="prefetch" href="/assets/js/298.4f017ceb.js"><link rel="prefetch" href="/assets/js/299.2da46571.js"><link rel="prefetch" href="/assets/js/3.65858833.js"><link rel="prefetch" href="/assets/js/30.1002dcb7.js"><link rel="prefetch" href="/assets/js/300.04bb66c3.js"><link rel="prefetch" href="/assets/js/301.9d789323.js"><link rel="prefetch" href="/assets/js/302.0905baf4.js"><link rel="prefetch" href="/assets/js/303.c6c45c69.js"><link rel="prefetch" href="/assets/js/304.00ef9abe.js"><link rel="prefetch" href="/assets/js/305.677e68b7.js"><link rel="prefetch" href="/assets/js/306.d0835ab7.js"><link rel="prefetch" href="/assets/js/307.bae3749e.js"><link rel="prefetch" href="/assets/js/308.ee85cd01.js"><link rel="prefetch" href="/assets/js/309.9d1f2a4b.js"><link rel="prefetch" href="/assets/js/31.558ae079.js"><link rel="prefetch" href="/assets/js/310.265d04c7.js"><link rel="prefetch" href="/assets/js/311.17cbe447.js"><link rel="prefetch" href="/assets/js/312.346fc5ee.js"><link rel="prefetch" href="/assets/js/313.76199886.js"><link rel="prefetch" href="/assets/js/314.d1057d8a.js"><link rel="prefetch" href="/assets/js/315.23751dda.js"><link rel="prefetch" href="/assets/js/316.d1e575c4.js"><link rel="prefetch" href="/assets/js/317.c2a8bc29.js"><link rel="prefetch" href="/assets/js/318.c547f900.js"><link rel="prefetch" href="/assets/js/319.3b387670.js"><link rel="prefetch" href="/assets/js/32.6f1977bb.js"><link rel="prefetch" href="/assets/js/320.0e4c3b38.js"><link rel="prefetch" href="/assets/js/321.6521e785.js"><link rel="prefetch" href="/assets/js/322.1f13f126.js"><link rel="prefetch" href="/assets/js/323.be785ecc.js"><link rel="prefetch" href="/assets/js/324.2d6515ef.js"><link rel="prefetch" href="/assets/js/325.0ab7f9ac.js"><link rel="prefetch" href="/assets/js/326.9b8a19a0.js"><link rel="prefetch" href="/assets/js/327.a6f2ffa3.js"><link rel="prefetch" href="/assets/js/328.ffb78689.js"><link rel="prefetch" href="/assets/js/329.caf6b6ea.js"><link rel="prefetch" href="/assets/js/33.373c3b91.js"><link rel="prefetch" href="/assets/js/330.f23dce5f.js"><link rel="prefetch" href="/assets/js/331.72924748.js"><link rel="prefetch" href="/assets/js/332.3836e7f7.js"><link rel="prefetch" href="/assets/js/333.67e7409c.js"><link rel="prefetch" href="/assets/js/334.b724e2e8.js"><link rel="prefetch" href="/assets/js/335.a3b2da56.js"><link rel="prefetch" href="/assets/js/336.2b428412.js"><link rel="prefetch" href="/assets/js/337.359508c5.js"><link rel="prefetch" href="/assets/js/338.b2326734.js"><link rel="prefetch" href="/assets/js/339.3bf7fea4.js"><link rel="prefetch" href="/assets/js/34.490080fd.js"><link rel="prefetch" href="/assets/js/340.d318bc78.js"><link rel="prefetch" href="/assets/js/341.2e4d7494.js"><link rel="prefetch" href="/assets/js/342.3dd76710.js"><link rel="prefetch" href="/assets/js/343.e06d2cd3.js"><link rel="prefetch" href="/assets/js/344.89f98670.js"><link rel="prefetch" href="/assets/js/345.ae8d10b7.js"><link rel="prefetch" href="/assets/js/346.2ca232aa.js"><link rel="prefetch" href="/assets/js/347.7093141c.js"><link rel="prefetch" href="/assets/js/348.4ded54aa.js"><link rel="prefetch" href="/assets/js/349.f2f3de7a.js"><link rel="prefetch" href="/assets/js/35.303e0d83.js"><link rel="prefetch" href="/assets/js/350.88f21b2b.js"><link rel="prefetch" href="/assets/js/351.df3bf6ec.js"><link rel="prefetch" href="/assets/js/352.5487b192.js"><link rel="prefetch" href="/assets/js/353.46746b90.js"><link rel="prefetch" href="/assets/js/354.44942fe7.js"><link rel="prefetch" href="/assets/js/355.c1941c58.js"><link rel="prefetch" href="/assets/js/356.08b96daf.js"><link rel="prefetch" href="/assets/js/357.61de5029.js"><link rel="prefetch" href="/assets/js/358.dd8ffb5f.js"><link rel="prefetch" href="/assets/js/359.13558983.js"><link rel="prefetch" href="/assets/js/36.a0d30943.js"><link rel="prefetch" href="/assets/js/360.2ad56070.js"><link rel="prefetch" href="/assets/js/361.3793119e.js"><link rel="prefetch" href="/assets/js/362.8f627cfe.js"><link rel="prefetch" href="/assets/js/363.47c7e111.js"><link rel="prefetch" href="/assets/js/364.1550afcc.js"><link rel="prefetch" href="/assets/js/365.8b746335.js"><link rel="prefetch" href="/assets/js/366.0b1fa772.js"><link rel="prefetch" href="/assets/js/367.ee23b98a.js"><link rel="prefetch" href="/assets/js/368.e438a39c.js"><link rel="prefetch" href="/assets/js/369.4a61dd03.js"><link rel="prefetch" href="/assets/js/37.4284cc0c.js"><link rel="prefetch" href="/assets/js/370.69adb26c.js"><link rel="prefetch" href="/assets/js/371.0192e779.js"><link rel="prefetch" href="/assets/js/372.6d850781.js"><link rel="prefetch" href="/assets/js/373.eb913a40.js"><link rel="prefetch" href="/assets/js/374.a1770de3.js"><link rel="prefetch" href="/assets/js/375.5493fcc6.js"><link rel="prefetch" href="/assets/js/376.9e13ab67.js"><link rel="prefetch" href="/assets/js/377.f9dee5a7.js"><link rel="prefetch" href="/assets/js/378.dade2491.js"><link rel="prefetch" href="/assets/js/379.707a72b7.js"><link rel="prefetch" href="/assets/js/38.a5f4c0b4.js"><link rel="prefetch" href="/assets/js/380.a754e171.js"><link rel="prefetch" href="/assets/js/381.0e200507.js"><link rel="prefetch" href="/assets/js/382.bff69b7e.js"><link rel="prefetch" href="/assets/js/383.0e26f22d.js"><link rel="prefetch" href="/assets/js/384.70cfdd5d.js"><link rel="prefetch" href="/assets/js/385.7cd56e59.js"><link rel="prefetch" href="/assets/js/386.8d8ae20c.js"><link rel="prefetch" href="/assets/js/387.017c1a90.js"><link rel="prefetch" href="/assets/js/388.003eda57.js"><link rel="prefetch" href="/assets/js/389.e9c2ebd4.js"><link rel="prefetch" href="/assets/js/39.d70df4df.js"><link rel="prefetch" href="/assets/js/390.ee4577b4.js"><link rel="prefetch" href="/assets/js/391.295ea24c.js"><link rel="prefetch" href="/assets/js/392.cd9b2c07.js"><link rel="prefetch" href="/assets/js/393.83e0324c.js"><link rel="prefetch" href="/assets/js/394.c5c6ee2a.js"><link rel="prefetch" href="/assets/js/395.5e92d62c.js"><link rel="prefetch" href="/assets/js/396.45440149.js"><link rel="prefetch" href="/assets/js/397.2e9c4d79.js"><link rel="prefetch" href="/assets/js/398.2faad846.js"><link rel="prefetch" href="/assets/js/399.d28827bb.js"><link rel="prefetch" href="/assets/js/4.be154c6d.js"><link rel="prefetch" href="/assets/js/40.0e7741b1.js"><link rel="prefetch" href="/assets/js/400.f47d0892.js"><link rel="prefetch" href="/assets/js/401.81b1faad.js"><link rel="prefetch" href="/assets/js/402.5dcee620.js"><link rel="prefetch" href="/assets/js/403.ca06d49f.js"><link rel="prefetch" href="/assets/js/404.0108fa08.js"><link rel="prefetch" href="/assets/js/405.c209c80d.js"><link rel="prefetch" href="/assets/js/406.22242ecd.js"><link rel="prefetch" href="/assets/js/407.636d72f6.js"><link rel="prefetch" href="/assets/js/408.2114030b.js"><link rel="prefetch" href="/assets/js/409.0376024e.js"><link rel="prefetch" href="/assets/js/41.12ed2989.js"><link rel="prefetch" href="/assets/js/410.1777965c.js"><link rel="prefetch" href="/assets/js/411.ef129704.js"><link rel="prefetch" href="/assets/js/412.94623570.js"><link rel="prefetch" href="/assets/js/413.ab7078ca.js"><link rel="prefetch" href="/assets/js/414.9af06b0d.js"><link rel="prefetch" href="/assets/js/415.e7de3e45.js"><link rel="prefetch" href="/assets/js/416.1a6c50b3.js"><link rel="prefetch" href="/assets/js/417.76759517.js"><link rel="prefetch" href="/assets/js/418.2dff2af0.js"><link rel="prefetch" href="/assets/js/419.4ecbfc19.js"><link rel="prefetch" href="/assets/js/42.9ce2dafa.js"><link rel="prefetch" href="/assets/js/420.7c34868f.js"><link rel="prefetch" href="/assets/js/421.538335ca.js"><link rel="prefetch" href="/assets/js/422.da47dc21.js"><link rel="prefetch" href="/assets/js/423.e3b38e9c.js"><link rel="prefetch" href="/assets/js/424.04a76082.js"><link rel="prefetch" href="/assets/js/425.419f9989.js"><link rel="prefetch" href="/assets/js/426.fffcc7ef.js"><link rel="prefetch" href="/assets/js/427.9e079a21.js"><link rel="prefetch" href="/assets/js/428.ce33c968.js"><link rel="prefetch" href="/assets/js/429.a4e784c3.js"><link rel="prefetch" href="/assets/js/43.444176d4.js"><link rel="prefetch" href="/assets/js/430.acdd537f.js"><link rel="prefetch" href="/assets/js/431.3d619af2.js"><link rel="prefetch" href="/assets/js/432.f73efd71.js"><link rel="prefetch" href="/assets/js/433.a4cfcb90.js"><link rel="prefetch" href="/assets/js/44.6b486ceb.js"><link rel="prefetch" href="/assets/js/45.2b0cc8b1.js"><link rel="prefetch" href="/assets/js/46.fd2da8aa.js"><link rel="prefetch" href="/assets/js/47.f7b70d96.js"><link rel="prefetch" href="/assets/js/48.5cc6e7e9.js"><link rel="prefetch" href="/assets/js/49.3ba51b5e.js"><link rel="prefetch" href="/assets/js/5.5aa9e0f7.js"><link rel="prefetch" href="/assets/js/50.cfb28ca0.js"><link rel="prefetch" href="/assets/js/51.1241594b.js"><link rel="prefetch" href="/assets/js/52.3fae4eef.js"><link rel="prefetch" href="/assets/js/53.553bfcb3.js"><link rel="prefetch" href="/assets/js/54.2662d576.js"><link rel="prefetch" href="/assets/js/55.94f132f1.js"><link rel="prefetch" href="/assets/js/56.c48de3a0.js"><link rel="prefetch" href="/assets/js/57.9205b377.js"><link rel="prefetch" href="/assets/js/58.618d72ce.js"><link rel="prefetch" href="/assets/js/59.bf2a8650.js"><link rel="prefetch" href="/assets/js/6.1063792f.js"><link rel="prefetch" href="/assets/js/60.2a047c47.js"><link rel="prefetch" href="/assets/js/61.d47fd11d.js"><link rel="prefetch" href="/assets/js/62.8c29dffd.js"><link rel="prefetch" href="/assets/js/63.16bb986d.js"><link rel="prefetch" href="/assets/js/64.bc64102f.js"><link rel="prefetch" href="/assets/js/65.1169c72f.js"><link rel="prefetch" href="/assets/js/66.824d09da.js"><link rel="prefetch" href="/assets/js/67.ce84321c.js"><link rel="prefetch" href="/assets/js/68.8595c270.js"><link rel="prefetch" href="/assets/js/69.89e05461.js"><link rel="prefetch" href="/assets/js/7.bccc53b9.js"><link rel="prefetch" href="/assets/js/70.8fbede4d.js"><link rel="prefetch" href="/assets/js/71.01a73ce4.js"><link rel="prefetch" href="/assets/js/72.1e0dd7f1.js"><link rel="prefetch" href="/assets/js/73.24f77f07.js"><link rel="prefetch" href="/assets/js/74.0c83a59d.js"><link rel="prefetch" href="/assets/js/75.bd6435e0.js"><link rel="prefetch" href="/assets/js/76.94a80511.js"><link rel="prefetch" href="/assets/js/77.a27d1809.js"><link rel="prefetch" href="/assets/js/78.83ab434c.js"><link rel="prefetch" href="/assets/js/79.cf8518ea.js"><link rel="prefetch" href="/assets/js/8.45f7d402.js"><link rel="prefetch" href="/assets/js/80.596962e9.js"><link rel="prefetch" href="/assets/js/81.63120495.js"><link rel="prefetch" href="/assets/js/82.21ad56f5.js"><link rel="prefetch" href="/assets/js/83.baab9377.js"><link rel="prefetch" href="/assets/js/84.f53f30b8.js"><link rel="prefetch" href="/assets/js/85.8523fba7.js"><link rel="prefetch" href="/assets/js/86.db32bca6.js"><link rel="prefetch" href="/assets/js/87.1154c1cd.js"><link rel="prefetch" href="/assets/js/88.3fe0517a.js"><link rel="prefetch" href="/assets/js/89.ba98eb57.js"><link rel="prefetch" href="/assets/js/9.84f6f752.js"><link rel="prefetch" href="/assets/js/90.7abbd7d9.js"><link rel="prefetch" href="/assets/js/91.62d46791.js"><link rel="prefetch" href="/assets/js/92.3738d8e0.js"><link rel="prefetch" href="/assets/js/93.558070f9.js"><link rel="prefetch" href="/assets/js/94.3c8015f9.js"><link rel="prefetch" href="/assets/js/95.4071db60.js"><link rel="prefetch" href="/assets/js/96.26f85934.js"><link rel="prefetch" href="/assets/js/97.5b1f6f77.js"><link rel="prefetch" href="/assets/js/98.0bd39397.js"><link rel="prefetch" href="/assets/js/99.51095dbe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53c04193.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="baby sword‘s blog" class="logo"> <span class="site-name can-hide">baby sword‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/df7860/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/df7860/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/myAvator.png"> <div class="blogger-info"><h3>zhengjian</h3> <span>不敢承担失去的风险，是不可能抓住梦想的</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/df7860/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/df7860/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>mysql索引</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>mysql日志</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>其他</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/3c3de5/" class="sidebar-link">mysql与mongo对比</a></li><li><a href="/pages/19deab/" class="sidebar-link">数据库变量的设置</a></li><li><a href="/pages/06a944/" class="sidebar-link">《题解sql45题》</a></li><li><a href="/pages/4d13c0/" class="sidebar-link">bufferPool详解</a></li><li><a href="/pages/df7860/" aria-current="page" class="active sidebar-link">如何解决死锁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/df7860/#per-second-averages-calculated-from-the-last-18-seconds" class="sidebar-link">Per second averages calculated from the last 18 seconds</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#background-thread" class="sidebar-link">BACKGROUND THREAD</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#srv-master-thread-loops-5-srv-active-0-srv-shutdown-35264-srv-idlesrv-master-thread-log-flush-and-writes-0" class="sidebar-link">srvmasterthread loops: 5 srvactive, 0 srvshutdown, 35264 srv_idle
srvmasterthread log flush and writes: 0</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#semaphores" class="sidebar-link">SEMAPHORES</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#os-wait-array-info-reservation-count-3os-wait-array-info-signal-count-3rw-shared-spins-0-rounds-0-os-waits-0rw-excl-spins-0-rounds-0-os-waits-0rw-sx-spins-0-rounds-0-os-waits-0spin-rounds-per-wait-0-00-rw-shared-0-00-rw-excl-0-00-rw-sx" class="sidebar-link">OS WAIT ARRAY INFO: reservation count 3
OS WAIT ARRAY INFO: signal count 3
RW-shared spins 0, rounds 0, OS waits 0
RW-excl spins 0, rounds 0, OS waits 0
RW-sx spins 0, rounds 0, OS waits 0
Spin rounds per wait: 0.00 RW-shared, 0.00 RW-excl, 0.00 RW-sx</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#latest-detected-deadlock" class="sidebar-link">LATEST DETECTED DEADLOCK</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#we-roll-back-transaction-1" class="sidebar-link">* WE ROLL BACK TRANSACTION (1)</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#transactions" class="sidebar-link">TRANSACTIONS</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#transaction-297275-active-93-sec5-lock-struct-s-heap-size-1128-5-row-lock-s-undo-log-entries-2mysql-thread-id-9-os-thread-handle-29160-query-id-76-localhost-127-0-0-1-root" class="sidebar-link">---TRANSACTION 297275, ACTIVE 93 sec
5 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 2
MySQL thread id 9, OS thread handle 29160, query id 76 localhost 127.0.0.1 root</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#file-i-o" class="sidebar-link">FILE I/O</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#i-o-thread-0-state-wait-windows-aio-insert-buffer-thread-i-o-thread-1-state-wait-windows-aio-log-thread-i-o-thread-2-state-wait-windows-aio-read-thread-i-o-thread-3-state-wait-windows-aio-read-thread-i-o-thread-4-state-wait-windows-aio-read-thread-i-o-thread-5-state-wait-windows-aio-read-thread-i-o-thread-6-state-wait-windows-aio-write-thread-i-o-thread-7-state-wait-windows-aio-write-thread-i-o-thread-8-state-wait-windows-aio-write-thread-i-o-thread-9-state-wait-windows-aio-write-thread-pending-normal-aio-reads-0-0-0-0-aio-writes-0-0-0-0-ibuf-aio-reads-log-i-o-s-sync-i-o-s-pending-flushes-fsync-log-0-buffer-pool-01111-os-file-reads-530-os-file-writes-191-os-fsyncs0-00-reads-s-0-avg-bytes-read-0-00-writes-s-0-00-fsyncs-s" class="sidebar-link">I/O thread 0 state: wait Windows aio (insert buffer thread)
I/O thread 1 state: wait Windows aio (log thread)
I/O thread 2 state: wait Windows aio (read thread)
I/O thread 3 state: wait Windows aio (read thread)
I/O thread 4 state: wait Windows aio (read thread)
I/O thread 5 state: wait Windows aio (read thread)
I/O thread 6 state: wait Windows aio (write thread)
I/O thread 7 state: wait Windows aio (write thread)
I/O thread 8 state: wait Windows aio (write thread)
I/O thread 9 state: wait Windows aio (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
ibuf aio reads:, log i/o's:, sync i/o's:
Pending flushes (fsync) log: 0; buffer pool: 0
1111 OS file reads, 530 OS file writes, 191 OS fsyncs
0.00 reads/s, 0 avg bytes/read, 0.00 writes/s, 0.00 fsyncs/s</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#insert-buffer-and-adaptive-hash-index" class="sidebar-link">INSERT BUFFER AND ADAPTIVE HASH INDEX</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#ibuf-size-1-free-list-len-0-seg-size-2-0-mergesmerged-operations-insert-0-delete-mark-0-delete-0discarded-operations-insert-0-delete-mark-0-delete-0hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-2-buffer-s-hash-table-size-34679-node-heap-has-4-buffer-s-6-94-hash-searches-s-2-78-non-hash-searches-s" class="sidebar-link">Ibuf: size 1, free list len 0, seg size 2, 0 merges
merged operations:
insert 0, delete mark 0, delete 0
discarded operations:
insert 0, delete mark 0, delete 0
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 2 buffer(s)
Hash table size 34679, node heap has 4 buffer(s)
6.94 hash searches/s, 2.78 non-hash searches/s</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#log" class="sidebar-link">LOG</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#log-sequence-number-730947248log-buffer-assigned-up-to-730947248log-buffer-completed-up-to-730947248log-written-up-to-730947248log-flushed-up-to-730947248added-dirty-pages-up-to-730947248pages-flushed-up-to-730947248last-checkpoint-at-73094724886-log-i-o-s-done-0-00-log-i-o-s-second" class="sidebar-link">Log sequence number          730947248
Log buffer assigned up to    730947248
Log buffer completed up to   730947248
Log written up to            730947248
Log flushed up to            730947248
Added dirty pages up to      730947248
Pages flushed up to          730947248
Last checkpoint at           730947248
86 log i/o's done, 0.00 log i/o's/second</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#buffer-pool-and-memory" class="sidebar-link">BUFFER POOL AND MEMORY</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#total-large-memory-allocated-136974336dictionary-memory-allocated-408115buffer-pool-size-8191free-buffers-6945database-pages-1238old-database-pages-475modified-db-pages-0pending-reads-0pending-writes-lru-0-flush-list-0-single-page-0pages-made-young-0-not-young-00-00-youngs-s-0-00-non-youngs-spages-read-1088-created-150-written-3300-00-reads-s-0-00-creates-s-0-00-writes-sbuffer-pool-hit-rate-1000-1000-young-making-rate-0-1000-not-0-1000pages-read-ahead-0-00-s-evicted-without-access-0-00-s-random-read-ahead-0-00-slru-len-1238-unzip-lru-len-0i-o-sum-0-cur-0-unzip-sum-0-cur-0" class="sidebar-link">Total large memory allocated 136974336
Dictionary memory allocated 408115
Buffer pool size   8191
Free buffers       6945
Database pages     1238
Old database pages 475
Modified db pages  0
Pending reads      0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 0, not young 0
0.00 youngs/s, 0.00 non-youngs/s
Pages read 1088, created 150, written 330
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 1238, unzip_LRU len: 0
I/O sum[0]:cur[0], unzip sum[0]:cur[0]</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#row-operations" class="sidebar-link">ROW OPERATIONS</a></li><li class="sidebar-sub-header level2"><a href="/pages/df7860/#_0-queries-inside-innodb-0-queries-in-queue0-read-views-open-inside-innodbprocess-id-7760-main-thread-id-2356-state-sleepingnumber-of-rows-inserted-4-updated-0-deleted-1-read-10-00-inserts-s-0-00-updates-s-0-00-deletes-s-0-00-reads-snumber-of-system-rows-inserted-19-updated-348-deleted-0-read-72060-00-inserts-s-0-00-updates-s-0-00-deletes-s-10-78-reads-s" class="sidebar-link">0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=7760, Main thread ID=2356 , state=sleeping
Number of rows inserted 4, updated 0, deleted 1, read 1
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
Number of system rows inserted 19, updated 348, deleted 0, read 7206
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 10.78 reads/s</a></li></ul></li><li><a href="/pages/0dbf13/" class="sidebar-link">关于缓存一致性与innodb bufferpool的一点思考</a></li><li><a href="/pages/41416f/" class="sidebar-link">mysql读写分离和分库分表</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端存储实战</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/database/#数据库" data-v-06225672>数据库</a></li><li data-v-06225672><a href="/database/#mysql" data-v-06225672>mysql</a></li><li data-v-06225672><a href="/database/#其他" data-v-06225672>其他</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xugaoyi" target="_blank" title="作者" class="beLink" data-v-06225672>xugaoyi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-07-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">如何解决死锁<!----></h1>  <div class="theme-vdoing-content content__default"><p>https://z.itpub.net/article/detail/7B944ED17C0084CF672A47D6E938B750</p> <h3 id="什么是死锁"><a href="#什么是死锁" class="header-anchor">#</a> 什么是死锁</h3> <p>死锁是并发系统中常见的问题，同样也会出现在数据库MySQL的并发读写请求场景中。当两个及以上的事务，双方都在等待对方释放已经持有的锁或因为加锁顺序不一致造成循环等待锁资源，就会出现“死锁”。常见的报错信息为 <code>Deadlock found when trying to get lock...</code>。</p> <p>举例来说 A 事务持有 X1 锁 ，申请 X2 锁，B事务持有 X2 锁，申请 X1 锁。A 和 B 事务持有锁并且申请对方持有的锁进入循环等待，就造成了死锁。</p> <p><img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/AFE68E8D486A19B26B7D54B76BD8A6DC.jpg" alt="img"></p> <p>如上图，是右侧的四辆汽车资源请求产生了回路现象，即死循环，导致了死锁。</p> <p>从死锁的定义来看，MySQL 出现死锁的几个要素为：</p> <ol><li>两个或者两个以上事务</li> <li>每个事务都已经持有锁并且申请新的锁</li> <li>锁资源同时只能被同一个事务持有或者不兼容</li> <li>事务之间因为持有锁和申请锁导致彼此循环等待</li></ol> <h3 id="innodb-锁类型"><a href="#innodb-锁类型" class="header-anchor">#</a> InnoDB 锁类型</h3> <p>为了分析死锁，我们有必要对 InnoDB 的锁类型有一个了解。<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/30A30663CBD02B937C956934D78D6F63.jpg" alt="img"></p> <p>MySQL InnoDB 引擎实现了标准的<code>行级别锁：共享锁( S lock ) 和排他锁 ( X lock )</code></p> <blockquote><ol><li>不同事务可以同时对同一行记录加 S 锁。</li> <li>如果一个事务对某一行记录加 X 锁，其他事务就不能加 S 锁或者 X 锁，从而导致锁等待。</li></ol></blockquote> <p>如果事务 T1 持有行 r 的 S 锁，那么另一个事务 T2 请求 r 的锁时，会做如下处理:</p> <blockquote><ol><li>T2 请求 S 锁立即被允许，结果 T1 T2 都持有 r 行的 S 锁</li> <li>T2 请求 X 锁不能被立即允许</li></ol></blockquote> <p>如果 T1 持有 r 的 X 锁，那么 T2 请求 r 的 X、S 锁都不能被立即允许，T2 必须等待 T1 释放 X 锁才可以，因为 X 锁与任何的锁都不兼容。共享锁和排他锁的兼容性如下所示：<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/924A7088376A35A820369F44E82753E7.jpg" alt="img"></p> <h4 id="间隙锁-gap-lock"><a href="#间隙锁-gap-lock" class="header-anchor">#</a> 间隙锁( gap lock )</h4> <p>间隙锁锁住一个间隙以防止插入。假设索引列有2, 4, 8 三个值，如果对 4 加锁，那么也会同时对(2,4)和(4,8)这两个间隙加锁。其他事务无法插入索引值在这两个间隙之间的记录。但是，间隙锁有个例外:</p> <blockquote><ol><li>如果索引列是索引，那么只会锁住这条记录(只加行锁)，而不会锁住间隙。</li> <li>对于联合索引且是索引，如果 where 条件只包括联合索引的一部分，那么依然会加间隙锁。</li></ol></blockquote> <h4 id="next-key-lock"><a href="#next-key-lock" class="header-anchor">#</a> next-key lock</h4> <p>next-key lock 实际上就是 行锁+这条记录前面的 gap lock 的组合。假设有索引值10,11,13和 20,那么可能的 next-key lock 包括:</p> <blockquote><p>(负无穷,10],(10,11],(11,13],(13,20],(20,正无穷)</p></blockquote> <p>在 RR 隔离级别下，InnoDB 使用 next-key lock 主要是防止<code>幻读</code>问题产生。</p> <h4 id="意向锁-intention-lock"><a href="#意向锁-intention-lock" class="header-anchor">#</a> 意向锁( Intention lock )</h4> <p>InnoDB 为了支持多粒度的加锁，允许行锁和表锁同时存在。为了支持在不同粒度上的加锁操作，InnoDB 支持了额外的一种锁方式，称之为意向锁( Intention Lock )。意向锁是将锁定的对象分为多个层次，意向锁意味着事务希望在更细粒度上进行加锁。意向锁分为两种:</p> <blockquote><ol><li>意向共享锁( IS )：事务有意向对表中的某些行加共享锁</li> <li>意向排他锁( IX )：事务有意向对表中的某些行加排他锁</li></ol></blockquote> <p>由于 InnoDB 存储引擎支持的是行级别的锁，因此意向锁其实不会阻塞除全表扫描以外的任何请求。表级意向锁与行级锁的兼容性如下所示:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/3D1B05241FA24CD40C90B7C38A0F0FBE.jpg" alt="img"></p> <h4 id="插入意向锁-insert-intention-lock"><a href="#插入意向锁-insert-intention-lock" class="header-anchor">#</a> 插入意向锁( Insert Intention lock )</h4> <p>插入意向锁是在插入一行记录操作之前设置的一种间隙锁，这个锁释放了一种插入方式的信号，即多个事务在相同的索引间隙插入时如果不是插入间隙中相同的位置就不需要互相等待。假设某列有索引值2，6，只要两个事务插入位置不同(如事务 A 插入3，事务 B 插入4)，那么就可以同时插入。</p> <h4 id="锁模式兼容矩阵"><a href="#锁模式兼容矩阵" class="header-anchor">#</a> 锁模式兼容矩阵</h4> <p>横向是已持有锁，纵向是正在请求的锁：<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/7076B04740CC323C6A710356EF22CEDC.jpg" alt="img"></p> <h3 id="阅读死锁日志"><a href="#阅读死锁日志" class="header-anchor">#</a> 阅读死锁日志</h3> <p>在进行具体案例分析之前，咱们先了解下如何去读懂死锁日志，尽可能地使用死锁日志里面的信息来帮助我们来解决死锁问题。</p> <p>后面测试用例的数据库场景如下:<code>MySQL 5.7 事务隔离级别为 RR</code></p> <p>表结构和数据如下:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>stuno<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>score<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">key</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>idx_stuno<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>stuno<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>stuno<span class="token punctuation">,</span>score<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/09880939D7645BD0309BAC79BBBC7D70.jpg" alt="img"></p> <p>测试用例如下:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/3320AE755ECD309B3F4D9FD6DD4935C0.jpg" alt="img"></p> <p>通过执行show engine innodb status 可以查看到近一次死锁的日志。</p> <h4 id="日志分析如下"><a href="#日志分析如下" class="header-anchor">#</a> 日志分析如下:</h4> <ol><li>***** (1) TRANSACTION: TRANSACTION 2322, ACTIVE 6 sec starting index read</li></ol> <p>事务号为2322，活跃 6秒，starting index read 表示事务状态为根据索引读取数据。常见的其他状态有:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/B47D2A4DD05B11FC7A6853F9F108138E.jpg" alt="img"></p> <p><code>mysql tables in use 1</code> 说明当前的事务使用一个表。</p> <p><code>locked 1</code> 表示表上有一个表锁，对于 DML 语句为 LOCK_IX</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>LOCK WAIT 2 lock struct(s), heap size 1136, 1 row lock(s)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>LOCK WAIT</code> 表示正在等待锁，<code>2 lock struct(s)</code> 表示 trx-&gt;trx_locks 锁链表的长度为2，每个链表节点代表该事务持有的一个锁结构，包括表锁，记录锁以及自增锁等。本用例中 2locks 表示 IX 锁和lock_mode X (Next-key lock)</p> <p><code>1 row lock(s)</code> 表示当前事务持有的行记录锁/ gap 锁的个数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>MySQL thread id 37, OS thread handle 140445500716800, query id 1234 127.0.0.1 root updating
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>MySQL thread id 37</code> 表示执行该事务的线程 ID 为 37 (即 show processlist; 展示的 ID )</p> <p><code>delete from student where stuno=5</code> 表示事务1正在执行的 sql，比较难受的事情是 <code>show engine innodb status</code> 是查看不到完整的 sql 的，通常显示当前正在等待锁的 sql。</p> <p>***** (1) WAITING FOR THIS LOCK TO BE GRANTED:</p> <p>RECORD LOCKS space id 11 page no 5 n bits 72 index idx_stuno of table cw****.****student trx id 2322 lock_mode X waiting</p> <p>RECORD LOCKS 表示记录锁， 此条内容表示事务 1 正在等待表 student 上的 idx_stuno 的 X 锁，本案例中其实是 Next-Key Lock 。</p> <p>事务2的 log 和上面分析类似:</p> <ol><li>***** (2) HOLDS THE LOCK(S):</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>RECORD LOCKS space id 11 page no 5 n bits 72 index idx_stuno of table cw****.****student trx id 2321 lock_mode X
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示事务 2 的 insert into student(stuno,score) values(2,10) 持有了 a=5 的 Lock mode X</p> <p>| LOCK_gap，不过我们从日志里面看不到事务2执行的 delete from student where stuno=5;</p> <p>这点也是造成 DBA 仅仅根据日志难以分析死锁的问题的根本原因。</p> <ol><li>***** (2) WAITING FOR THIS LOCK TO BE GRANTED:</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>RECORD LOCKS space id 11 page no 5 n bits 72 index idx_stuno of table cw****.****student trx id 2321 lock_mode X locks gap before rec insert intention waiting
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示事务 2 的 insert 语句正在等待插入意向锁 lock_mode X locks gap before rec insert intention waiting ( LOCK_X + LOCK_REC_gap )</p> <h3 id="经典案例分析"><a href="#经典案例分析" class="header-anchor">#</a> 经典案例分析</h3> <h4 id="案例一-事务并发-insert-键冲突"><a href="#案例一-事务并发-insert-键冲突" class="header-anchor">#</a> 案例一:事务并发 insert 键冲突</h4> <p>表结构和数据如下所示:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/52F8890FEB8A10FA59FBBD38E1FF8A35.jpg" alt="img"><img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/B3D2DB6A733E828871F179B1F48C49A7.jpg" alt="img">测试用例如下:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/052B5AE80EAB6D20AFB19B650AF402A7.jpg" alt="img">日志分析如下:</p> <ol><li>事务 T2 insert into t7(id,a) values (26,10) 语句 insert 成功，持有 a=10 的 <code>排他行锁( Xlocks rec but no gap )</code></li> <li>事务 T1 insert into t7(id,a) values (30,10), 因为T2的条 insert 已经插入 a=10 的记录,事务 T1 insert a=10 则发生键冲突,需要申请对冲突的索引加上S Next-key Lock( 即 lock mode S waiting ) 这是一个<code>间隙锁</code>会申请锁住(,10],(10,20]之间的 gap 区域。</li> <li>事务 T2 insert into t7(id,a) values (40，9)该语句插入的 a=9 的值在事务 T1 申请的 <code>gap 锁4-10之间</code>， 故需事务 T2 的第二条 insert 语句要等待事务 T1 的 <code>S-Next-key Lock 锁</code>释放,在日志中显示 lock_mode X locks gap before rec insert intention waiting 。</li></ol> <h4 id="案例一-先-update-再-insert-的并发死锁问题"><a href="#案例一-先-update-再-insert-的并发死锁问题" class="header-anchor">#</a> 案例一:先 update 再 insert 的并发死锁问题</h4> <p>表结构如下，无数据:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/C9A5ADE7CCE677BA654091750817D99C.jpg" alt="img">测试用例如下:<img src="https://image.z.itpub.net/zitpub.net/JPG/2021-08-23/E7F4DE5B1F448CAB599A4C9D56D26223.jpg" alt="img">死锁分析:
可以看到两个事务 update 不存在的记录，先后获得<code>间隙锁( gap 锁)</code>，gap 锁之间是兼容的所以在update环节不会阻塞。两者都持有 gap 锁，然后去竞争插入<code>意向锁</code>。当存在其他会话持有 gap 锁的时候，当前会话申请不了插入意向锁，导致死锁。</p> <h3 id="如何尽可能避免死锁"><a href="#如何尽可能避免死锁" class="header-anchor">#</a> 如何尽可能避免死锁</h3> <ol><li>合理的设计索引，区分度高的列放到组合索引前面，使业务 SQL 尽可能通过索引<code>定位更少的行，减少锁竞争</code>。</li> <li>调整业务逻辑 SQL 执行顺序， 避免 update/delete 长时间持有锁的 SQL 在事务前面。</li> <li>避免<code>大事务</code>，尽量将大事务拆成多个小事务来处理，小事务发生锁冲突的几率也更小。</li> <li>以<code>固定的顺序</code>访问表和行。比如两个更新数据的事务，事务 A 更新数据的顺序为 1，2;事务 B 更新数据的顺序为 2，1。这样更可能会造成死锁。</li> <li>在并发比较高的系统中，不要显式加锁，特别是是在事务里显式加锁。如 select … for update 语句，如果是在事务里<code>（运行了 start transaction 或设置了autocommit 等于0）</code>,那么就会锁定所查找到的记录。</li> <li>尽量按<code>主键/索引</code>去查找记录，范围查找增加了锁冲突的可能性，也不要利用数据库做一些额外额度计算工作。比如有的程序会用到 “select … where … order by rand();”这样的语句，由于类似这样的语句用不到索引，因此将导致整个表的数据都被锁住。</li> <li>优化 SQL 和表设计，减少同时占用太多资源的情况。比如说，<code>减少连接的表</code>，将复杂 SQL <code>分解</code>为多个简单的 SQL。</li></ol> <h1 id="_2023-07-05-18-56-02-0x6ea8-innodb-monitor-output"><a href="#_2023-07-05-18-56-02-0x6ea8-innodb-monitor-output" class="header-anchor">#</a> =====================================
2023-07-05 18:56:02 0x6ea8 INNODB MONITOR OUTPUT</h1> <h2 id="per-second-averages-calculated-from-the-last-18-seconds"><a href="#per-second-averages-calculated-from-the-last-18-seconds" class="header-anchor">#</a> Per second averages calculated from the last 18 seconds</h2> <h2 id="background-thread"><a href="#background-thread" class="header-anchor">#</a> BACKGROUND THREAD</h2> <h2 id="srv-master-thread-loops-5-srv-active-0-srv-shutdown-35264-srv-idlesrv-master-thread-log-flush-and-writes-0"><a href="#srv-master-thread-loops-5-srv-active-0-srv-shutdown-35264-srv-idlesrv-master-thread-log-flush-and-writes-0" class="header-anchor">#</a> srv_master_thread loops: 5 srv_active, 0 srv_shutdown, 35264 srv_idle
srv_master_thread log flush and writes: 0</h2> <h2 id="semaphores"><a href="#semaphores" class="header-anchor">#</a> SEMAPHORES</h2> <h2 id="os-wait-array-info-reservation-count-3os-wait-array-info-signal-count-3rw-shared-spins-0-rounds-0-os-waits-0rw-excl-spins-0-rounds-0-os-waits-0rw-sx-spins-0-rounds-0-os-waits-0spin-rounds-per-wait-0-00-rw-shared-0-00-rw-excl-0-00-rw-sx"><a href="#os-wait-array-info-reservation-count-3os-wait-array-info-signal-count-3rw-shared-spins-0-rounds-0-os-waits-0rw-excl-spins-0-rounds-0-os-waits-0rw-sx-spins-0-rounds-0-os-waits-0spin-rounds-per-wait-0-00-rw-shared-0-00-rw-excl-0-00-rw-sx" class="header-anchor">#</a> OS WAIT ARRAY INFO: reservation count 3
OS WAIT ARRAY INFO: signal count 3
RW-shared spins 0, rounds 0, OS waits 0
RW-excl spins 0, rounds 0, OS waits 0
RW-sx spins 0, rounds 0, OS waits 0
Spin rounds per wait: 0.00 RW-shared, 0.00 RW-excl, 0.00 RW-sx</h2> <h2 id="latest-detected-deadlock"><a href="#latest-detected-deadlock" class="header-anchor">#</a> LATEST DETECTED DEADLOCK</h2> <p>2023-07-05 18:55:28 0x2144
*** (1) TRANSACTION:
TRANSACTION 297276, ACTIVE 37 sec starting index read
mysql tables in use 1, locked 1
LOCK WAIT 2 lock struct(s), heap size 1128, 1 row lock(s)
MySQL thread id 10, OS thread handle 23232, query id 69 localhost 127.0.0.1 root updating
delete from student where stuno=5</p> <p>*** (1) HOLDS THE LOCK(S):
RECORD LOCKS space id 174 page no 5 n bits 72 index idx_stuno of table <code>test</code>.<code>student</code> trx id 297276 lock_mode X waiting
Record lock, heap no 3 PHYSICAL RECORD: n_fields 2; compact format; info bits 32
0: len 4; hex 80000005; asc     ;;
1: len 4; hex 80000002; asc     ;;</p> <p>*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 174 page no 5 n bits 72 index idx_stuno of table <code>test</code>.<code>student</code> trx id 297276 lock_mode X waiting
Record lock, heap no 3 PHYSICAL RECORD: n_fields 2; compact format; info bits 32
0: len 4; hex 80000005; asc     ;;
1: len 4; hex 80000002; asc     ;;</p> <p>*** (2) TRANSACTION:
TRANSACTION 297275, ACTIVE 59 sec inserting
mysql tables in use 1, locked 1
LOCK WAIT 5 lock struct(s), heap size 1128, 4 row lock(s), undo log entries 2
MySQL thread id 9, OS thread handle 29160, query id 73 localhost 127.0.0.1 root update
insert into student(stuno,score) VALUES (2,10)</p> <p>*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 174 page no 5 n bits 72 index idx_stuno of table <code>test</code>.<code>student</code> trx id 297275 lock_mode X
Record lock, heap no 3 PHYSICAL RECORD: n_fields 2; compact format; info bits 32
0: len 4; hex 80000005; asc     ;;
1: len 4; hex 80000002; asc     ;;</p> <p>*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 174 page no 5 n bits 72 index idx_stuno of table <code>test</code>.<code>student</code> trx id 297275 lock_mode X locks gap before rec insert intention waiting
Record lock, heap no 3 PHYSICAL RECORD: n_fields 2; compact format; info bits 32
0: len 4; hex 80000005; asc     ;;
1: len 4; hex 80000002; asc     ;;</p> <h2 id="we-roll-back-transaction-1"><a href="#we-roll-back-transaction-1" class="header-anchor">#</a> *** WE ROLL BACK TRANSACTION (1)</h2> <h2 id="transactions"><a href="#transactions" class="header-anchor">#</a> TRANSACTIONS</h2> <p>Trx id counter 297282
Purge done for trx's n:o &lt; 297281 undo n:o &lt; 0 state: running but idle
History list length 2
LIST OF TRANSACTIONS FOR EACH SESSION:
---TRANSACTION 283479652005272, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 283479652002944, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 283479652002168, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 283479652001392, not started
0 lock struct(s), heap size 1128, 0 row lock(s)
---TRANSACTION 297281, ACTIVE 28 sec starting index read
mysql tables in use 1, locked 1
LOCK WAIT 2 lock struct(s), heap size 1128, 1 row lock(s)
MySQL thread id 10, OS thread handle 23232, query id 80 localhost 127.0.0.1 root updating
delete from student where stuno=5
------- TRX HAS BEEN WAITING 28 SEC FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 174 page no 5 n bits 72 index idx_stuno of table <code>test</code>.<code>student</code> trx id 297281 lock_mode X waiting
Record lock, heap no 3 PHYSICAL RECORD: n_fields 2; compact format; info bits 32
0: len 4; hex 80000005; asc     ;;
1: len 4; hex 80000002; asc     ;;</p> <hr> <h2 id="transaction-297275-active-93-sec5-lock-struct-s-heap-size-1128-5-row-lock-s-undo-log-entries-2mysql-thread-id-9-os-thread-handle-29160-query-id-76-localhost-127-0-0-1-root"><a href="#transaction-297275-active-93-sec5-lock-struct-s-heap-size-1128-5-row-lock-s-undo-log-entries-2mysql-thread-id-9-os-thread-handle-29160-query-id-76-localhost-127-0-0-1-root" class="header-anchor">#</a> ---TRANSACTION 297275, ACTIVE 93 sec
5 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 2
MySQL thread id 9, OS thread handle 29160, query id 76 localhost 127.0.0.1 root</h2> <h2 id="file-i-o"><a href="#file-i-o" class="header-anchor">#</a> FILE I/O</h2> <h2 id="i-o-thread-0-state-wait-windows-aio-insert-buffer-thread-i-o-thread-1-state-wait-windows-aio-log-thread-i-o-thread-2-state-wait-windows-aio-read-thread-i-o-thread-3-state-wait-windows-aio-read-thread-i-o-thread-4-state-wait-windows-aio-read-thread-i-o-thread-5-state-wait-windows-aio-read-thread-i-o-thread-6-state-wait-windows-aio-write-thread-i-o-thread-7-state-wait-windows-aio-write-thread-i-o-thread-8-state-wait-windows-aio-write-thread-i-o-thread-9-state-wait-windows-aio-write-thread-pending-normal-aio-reads-0-0-0-0-aio-writes-0-0-0-0-ibuf-aio-reads-log-i-o-s-sync-i-o-s-pending-flushes-fsync-log-0-buffer-pool-01111-os-file-reads-530-os-file-writes-191-os-fsyncs0-00-reads-s-0-avg-bytes-read-0-00-writes-s-0-00-fsyncs-s"><a href="#i-o-thread-0-state-wait-windows-aio-insert-buffer-thread-i-o-thread-1-state-wait-windows-aio-log-thread-i-o-thread-2-state-wait-windows-aio-read-thread-i-o-thread-3-state-wait-windows-aio-read-thread-i-o-thread-4-state-wait-windows-aio-read-thread-i-o-thread-5-state-wait-windows-aio-read-thread-i-o-thread-6-state-wait-windows-aio-write-thread-i-o-thread-7-state-wait-windows-aio-write-thread-i-o-thread-8-state-wait-windows-aio-write-thread-i-o-thread-9-state-wait-windows-aio-write-thread-pending-normal-aio-reads-0-0-0-0-aio-writes-0-0-0-0-ibuf-aio-reads-log-i-o-s-sync-i-o-s-pending-flushes-fsync-log-0-buffer-pool-01111-os-file-reads-530-os-file-writes-191-os-fsyncs0-00-reads-s-0-avg-bytes-read-0-00-writes-s-0-00-fsyncs-s" class="header-anchor">#</a> I/O thread 0 state: wait Windows aio (insert buffer thread)
I/O thread 1 state: wait Windows aio (log thread)
I/O thread 2 state: wait Windows aio (read thread)
I/O thread 3 state: wait Windows aio (read thread)
I/O thread 4 state: wait Windows aio (read thread)
I/O thread 5 state: wait Windows aio (read thread)
I/O thread 6 state: wait Windows aio (write thread)
I/O thread 7 state: wait Windows aio (write thread)
I/O thread 8 state: wait Windows aio (write thread)
I/O thread 9 state: wait Windows aio (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
ibuf aio reads:, log i/o's:, sync i/o's:
Pending flushes (fsync) log: 0; buffer pool: 0
1111 OS file reads, 530 OS file writes, 191 OS fsyncs
0.00 reads/s, 0 avg bytes/read, 0.00 writes/s, 0.00 fsyncs/s</h2> <h2 id="insert-buffer-and-adaptive-hash-index"><a href="#insert-buffer-and-adaptive-hash-index" class="header-anchor">#</a> INSERT BUFFER AND ADAPTIVE HASH INDEX</h2> <h2 id="ibuf-size-1-free-list-len-0-seg-size-2-0-mergesmerged-operations-insert-0-delete-mark-0-delete-0discarded-operations-insert-0-delete-mark-0-delete-0hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-2-buffer-s-hash-table-size-34679-node-heap-has-4-buffer-s-6-94-hash-searches-s-2-78-non-hash-searches-s"><a href="#ibuf-size-1-free-list-len-0-seg-size-2-0-mergesmerged-operations-insert-0-delete-mark-0-delete-0discarded-operations-insert-0-delete-mark-0-delete-0hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-0-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-1-buffer-s-hash-table-size-34679-node-heap-has-2-buffer-s-hash-table-size-34679-node-heap-has-4-buffer-s-6-94-hash-searches-s-2-78-non-hash-searches-s" class="header-anchor">#</a> Ibuf: size 1, free list len 0, seg size 2, 0 merges
merged operations:
insert 0, delete mark 0, delete 0
discarded operations:
insert 0, delete mark 0, delete 0
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 0 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 1 buffer(s)
Hash table size 34679, node heap has 2 buffer(s)
Hash table size 34679, node heap has 4 buffer(s)
6.94 hash searches/s, 2.78 non-hash searches/s</h2> <h2 id="log"><a href="#log" class="header-anchor">#</a> LOG</h2> <h2 id="log-sequence-number-730947248log-buffer-assigned-up-to-730947248log-buffer-completed-up-to-730947248log-written-up-to-730947248log-flushed-up-to-730947248added-dirty-pages-up-to-730947248pages-flushed-up-to-730947248last-checkpoint-at-73094724886-log-i-o-s-done-0-00-log-i-o-s-second"><a href="#log-sequence-number-730947248log-buffer-assigned-up-to-730947248log-buffer-completed-up-to-730947248log-written-up-to-730947248log-flushed-up-to-730947248added-dirty-pages-up-to-730947248pages-flushed-up-to-730947248last-checkpoint-at-73094724886-log-i-o-s-done-0-00-log-i-o-s-second" class="header-anchor">#</a> Log sequence number          730947248
Log buffer assigned up to    730947248
Log buffer completed up to   730947248
Log written up to            730947248
Log flushed up to            730947248
Added dirty pages up to      730947248
Pages flushed up to          730947248
Last checkpoint at           730947248
86 log i/o's done, 0.00 log i/o's/second</h2> <h2 id="buffer-pool-and-memory"><a href="#buffer-pool-and-memory" class="header-anchor">#</a> BUFFER POOL AND MEMORY</h2> <h2 id="total-large-memory-allocated-136974336dictionary-memory-allocated-408115buffer-pool-size-8191free-buffers-6945database-pages-1238old-database-pages-475modified-db-pages-0pending-reads-0pending-writes-lru-0-flush-list-0-single-page-0pages-made-young-0-not-young-00-00-youngs-s-0-00-non-youngs-spages-read-1088-created-150-written-3300-00-reads-s-0-00-creates-s-0-00-writes-sbuffer-pool-hit-rate-1000-1000-young-making-rate-0-1000-not-0-1000pages-read-ahead-0-00-s-evicted-without-access-0-00-s-random-read-ahead-0-00-slru-len-1238-unzip-lru-len-0i-o-sum-0-cur-0-unzip-sum-0-cur-0"><a href="#total-large-memory-allocated-136974336dictionary-memory-allocated-408115buffer-pool-size-8191free-buffers-6945database-pages-1238old-database-pages-475modified-db-pages-0pending-reads-0pending-writes-lru-0-flush-list-0-single-page-0pages-made-young-0-not-young-00-00-youngs-s-0-00-non-youngs-spages-read-1088-created-150-written-3300-00-reads-s-0-00-creates-s-0-00-writes-sbuffer-pool-hit-rate-1000-1000-young-making-rate-0-1000-not-0-1000pages-read-ahead-0-00-s-evicted-without-access-0-00-s-random-read-ahead-0-00-slru-len-1238-unzip-lru-len-0i-o-sum-0-cur-0-unzip-sum-0-cur-0" class="header-anchor">#</a> Total large memory allocated 136974336
Dictionary memory allocated 408115
Buffer pool size   8191
Free buffers       6945
Database pages     1238
Old database pages 475
Modified db pages  0
Pending reads      0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 0, not young 0
0.00 youngs/s, 0.00 non-youngs/s
Pages read 1088, created 150, written 330
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 1238, unzip_LRU len: 0
I/O sum[0]:cur[0], unzip sum[0]:cur[0]</h2> <h2 id="row-operations"><a href="#row-operations" class="header-anchor">#</a> ROW OPERATIONS</h2> <h2 id="_0-queries-inside-innodb-0-queries-in-queue0-read-views-open-inside-innodbprocess-id-7760-main-thread-id-2356-state-sleepingnumber-of-rows-inserted-4-updated-0-deleted-1-read-10-00-inserts-s-0-00-updates-s-0-00-deletes-s-0-00-reads-snumber-of-system-rows-inserted-19-updated-348-deleted-0-read-72060-00-inserts-s-0-00-updates-s-0-00-deletes-s-10-78-reads-s"><a href="#_0-queries-inside-innodb-0-queries-in-queue0-read-views-open-inside-innodbprocess-id-7760-main-thread-id-2356-state-sleepingnumber-of-rows-inserted-4-updated-0-deleted-1-read-10-00-inserts-s-0-00-updates-s-0-00-deletes-s-0-00-reads-snumber-of-system-rows-inserted-19-updated-348-deleted-0-read-72060-00-inserts-s-0-00-updates-s-0-00-deletes-s-10-78-reads-s" class="header-anchor">#</a> 0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=7760, Main thread ID=2356 , state=sleeping
Number of rows inserted 4, updated 0, deleted 1, read 1
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
Number of system rows inserted 19, updated 348, deleted 0, read 7206
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 10.78 reads/s</h2> <h1 id="end-of-innodb-monitor-output"><a href="#end-of-innodb-monitor-output" class="header-anchor">#</a> END OF INNODB MONITOR OUTPUT</h1></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/2290653824/myVuePressBlog/edit/master/docs/30.数据库/10.mysql/30.其他/60.如何解决死锁.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/02/22, 14:03:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4d13c0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">bufferPool详解</div></a> <a href="/pages/0dbf13/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">关于缓存一致性与innodb bufferpool的一点思考</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4d13c0/" class="prev">bufferPool详解</a></span> <span class="next"><a href="/pages/0dbf13/">关于缓存一致性与innodb bufferpool的一点思考</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e837ca/"><div>
            spark基础
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/41416f/"><div>
            mysql读写分离和分库分表
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c19608/"><div>
            数据库迁移
            <!----></div></a> <span class="date">02-22</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="2290653824@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/2290653824" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=430175831" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7d33bb02.js" defer></script><script src="/assets/js/2.15f2967d.js" defer></script><script src="/assets/js/102.9d17991d.js" defer></script>
  </body>
</html>
