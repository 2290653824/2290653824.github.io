<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见知识点 | baby sword‘s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="java后端技术总结，生活记录。个人笔记">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.53c04193.css" as="style"><link rel="preload" href="/assets/js/app.7d33bb02.js" as="script"><link rel="preload" href="/assets/js/2.15f2967d.js" as="script"><link rel="preload" href="/assets/js/140.1a2eba1e.js" as="script"><link rel="prefetch" href="/assets/js/10.dabe1a63.js"><link rel="prefetch" href="/assets/js/100.a2015101.js"><link rel="prefetch" href="/assets/js/101.86d0ebe4.js"><link rel="prefetch" href="/assets/js/102.9d17991d.js"><link rel="prefetch" href="/assets/js/103.d013e413.js"><link rel="prefetch" href="/assets/js/104.4580e90e.js"><link rel="prefetch" href="/assets/js/105.c98e8247.js"><link rel="prefetch" href="/assets/js/106.9512d8d6.js"><link rel="prefetch" href="/assets/js/107.dc6dd50f.js"><link rel="prefetch" href="/assets/js/108.36e17e32.js"><link rel="prefetch" href="/assets/js/109.952d543d.js"><link rel="prefetch" href="/assets/js/11.7ad42e2d.js"><link rel="prefetch" href="/assets/js/110.aae101ed.js"><link rel="prefetch" href="/assets/js/111.9ad19a52.js"><link rel="prefetch" href="/assets/js/112.0c3843ec.js"><link rel="prefetch" href="/assets/js/113.c5d4208b.js"><link rel="prefetch" href="/assets/js/114.09b4516e.js"><link rel="prefetch" href="/assets/js/115.8c6bacae.js"><link rel="prefetch" href="/assets/js/116.f6cb99af.js"><link rel="prefetch" href="/assets/js/117.d888ae3d.js"><link rel="prefetch" href="/assets/js/118.e1612eca.js"><link rel="prefetch" href="/assets/js/119.3b12ca64.js"><link rel="prefetch" href="/assets/js/12.d0f226ac.js"><link rel="prefetch" href="/assets/js/120.7bff079e.js"><link rel="prefetch" href="/assets/js/121.4e029ab8.js"><link rel="prefetch" href="/assets/js/122.f2575eb6.js"><link rel="prefetch" href="/assets/js/123.af6bedbe.js"><link rel="prefetch" href="/assets/js/124.1d9ff52d.js"><link rel="prefetch" href="/assets/js/125.8ce6c45b.js"><link rel="prefetch" href="/assets/js/126.74738876.js"><link rel="prefetch" href="/assets/js/127.469dca9c.js"><link rel="prefetch" href="/assets/js/128.733a2f9b.js"><link rel="prefetch" href="/assets/js/129.e3046663.js"><link rel="prefetch" href="/assets/js/13.ca9cb7b7.js"><link rel="prefetch" href="/assets/js/130.5f8a399c.js"><link rel="prefetch" href="/assets/js/131.f66f486f.js"><link rel="prefetch" href="/assets/js/132.3fcb4a90.js"><link rel="prefetch" href="/assets/js/133.e6a7cbf8.js"><link rel="prefetch" href="/assets/js/134.bc8d2a8b.js"><link rel="prefetch" href="/assets/js/135.240c78e9.js"><link rel="prefetch" href="/assets/js/136.008aca90.js"><link rel="prefetch" href="/assets/js/137.8bbcd666.js"><link rel="prefetch" href="/assets/js/138.bf695fc2.js"><link rel="prefetch" href="/assets/js/139.c00c9dc2.js"><link rel="prefetch" href="/assets/js/14.3885beda.js"><link rel="prefetch" href="/assets/js/141.c8600326.js"><link rel="prefetch" href="/assets/js/142.129fdc97.js"><link rel="prefetch" href="/assets/js/143.1bcbaa9c.js"><link rel="prefetch" href="/assets/js/144.77983828.js"><link rel="prefetch" href="/assets/js/145.18c96830.js"><link rel="prefetch" href="/assets/js/146.062c1576.js"><link rel="prefetch" href="/assets/js/147.4dffe67b.js"><link rel="prefetch" href="/assets/js/148.0a12fdd2.js"><link rel="prefetch" href="/assets/js/149.644d9858.js"><link rel="prefetch" href="/assets/js/15.981df7e3.js"><link rel="prefetch" href="/assets/js/150.3a56182c.js"><link rel="prefetch" href="/assets/js/151.abbd46e4.js"><link rel="prefetch" href="/assets/js/152.c54e620b.js"><link rel="prefetch" href="/assets/js/153.d9a8477a.js"><link rel="prefetch" href="/assets/js/154.c0737606.js"><link rel="prefetch" href="/assets/js/155.273b61be.js"><link rel="prefetch" href="/assets/js/156.ac322b48.js"><link rel="prefetch" href="/assets/js/157.29da92a5.js"><link rel="prefetch" href="/assets/js/158.20aa63c2.js"><link rel="prefetch" href="/assets/js/159.cb2bfda8.js"><link rel="prefetch" href="/assets/js/16.851e8b6c.js"><link rel="prefetch" href="/assets/js/160.c31eb98d.js"><link rel="prefetch" href="/assets/js/161.ba3b58c4.js"><link rel="prefetch" href="/assets/js/162.822b912d.js"><link rel="prefetch" href="/assets/js/163.fb89cac8.js"><link rel="prefetch" href="/assets/js/164.2ec85d97.js"><link rel="prefetch" href="/assets/js/165.80d69bc7.js"><link rel="prefetch" href="/assets/js/166.0734abd2.js"><link rel="prefetch" href="/assets/js/167.12b046ed.js"><link rel="prefetch" href="/assets/js/168.b0d4db24.js"><link rel="prefetch" href="/assets/js/169.238c1564.js"><link rel="prefetch" href="/assets/js/17.71993e7e.js"><link rel="prefetch" href="/assets/js/170.a20084f6.js"><link rel="prefetch" href="/assets/js/171.f7beebbd.js"><link rel="prefetch" href="/assets/js/172.edc29fbe.js"><link rel="prefetch" href="/assets/js/173.3fc5869c.js"><link rel="prefetch" href="/assets/js/174.82f26aa5.js"><link rel="prefetch" href="/assets/js/175.595120d6.js"><link rel="prefetch" href="/assets/js/176.05d37828.js"><link rel="prefetch" href="/assets/js/177.cd7feb20.js"><link rel="prefetch" href="/assets/js/178.a5982934.js"><link rel="prefetch" href="/assets/js/179.8c485f51.js"><link rel="prefetch" href="/assets/js/18.cba9194a.js"><link rel="prefetch" href="/assets/js/180.c219aac7.js"><link rel="prefetch" href="/assets/js/181.dfb84650.js"><link rel="prefetch" href="/assets/js/182.27cb275e.js"><link rel="prefetch" href="/assets/js/183.f163af9d.js"><link rel="prefetch" href="/assets/js/184.b18298e6.js"><link rel="prefetch" href="/assets/js/185.80fccb48.js"><link rel="prefetch" href="/assets/js/186.77df58b4.js"><link rel="prefetch" href="/assets/js/187.2ef89f60.js"><link rel="prefetch" href="/assets/js/188.fa837c00.js"><link rel="prefetch" href="/assets/js/189.28bd30b9.js"><link rel="prefetch" href="/assets/js/19.81dac5f4.js"><link rel="prefetch" href="/assets/js/190.29e7f541.js"><link rel="prefetch" href="/assets/js/191.0ba2207c.js"><link rel="prefetch" href="/assets/js/192.36dea193.js"><link rel="prefetch" href="/assets/js/193.cb147e1d.js"><link rel="prefetch" href="/assets/js/194.569ebd0a.js"><link rel="prefetch" href="/assets/js/195.fe0c4ebf.js"><link rel="prefetch" href="/assets/js/196.7943b4f0.js"><link rel="prefetch" href="/assets/js/197.15498b32.js"><link rel="prefetch" href="/assets/js/198.bf082825.js"><link rel="prefetch" href="/assets/js/199.f76dadbf.js"><link rel="prefetch" href="/assets/js/20.45d8ffc5.js"><link rel="prefetch" href="/assets/js/200.80915aee.js"><link rel="prefetch" href="/assets/js/201.0fcd5a5e.js"><link rel="prefetch" href="/assets/js/202.ac356c7f.js"><link rel="prefetch" href="/assets/js/203.8b9abdf7.js"><link rel="prefetch" href="/assets/js/204.ceb5d675.js"><link rel="prefetch" href="/assets/js/205.292242cf.js"><link rel="prefetch" href="/assets/js/206.2e9cbdce.js"><link rel="prefetch" href="/assets/js/207.7a9094b4.js"><link rel="prefetch" href="/assets/js/208.c7ad7eab.js"><link rel="prefetch" href="/assets/js/209.681223ee.js"><link rel="prefetch" href="/assets/js/21.7a9f257f.js"><link rel="prefetch" href="/assets/js/210.3bbf8260.js"><link rel="prefetch" href="/assets/js/211.5bd34e61.js"><link rel="prefetch" href="/assets/js/212.dc330741.js"><link rel="prefetch" href="/assets/js/213.3cc734f7.js"><link rel="prefetch" href="/assets/js/214.91079873.js"><link rel="prefetch" href="/assets/js/215.25a0181b.js"><link rel="prefetch" href="/assets/js/216.3cb6f681.js"><link rel="prefetch" href="/assets/js/217.0187eee5.js"><link rel="prefetch" href="/assets/js/218.bb486cfa.js"><link rel="prefetch" href="/assets/js/219.5ca601a6.js"><link rel="prefetch" href="/assets/js/22.6aa340ac.js"><link rel="prefetch" href="/assets/js/220.f2fbfd29.js"><link rel="prefetch" href="/assets/js/221.c343eb87.js"><link rel="prefetch" href="/assets/js/222.eccb8faf.js"><link rel="prefetch" href="/assets/js/223.b6ee70d7.js"><link rel="prefetch" href="/assets/js/224.049967fd.js"><link rel="prefetch" href="/assets/js/225.e5573f45.js"><link rel="prefetch" href="/assets/js/226.f6133f9b.js"><link rel="prefetch" href="/assets/js/227.1d2bb9be.js"><link rel="prefetch" href="/assets/js/228.92c248b8.js"><link rel="prefetch" href="/assets/js/229.2da9b7fb.js"><link rel="prefetch" href="/assets/js/23.a2a5f82e.js"><link rel="prefetch" href="/assets/js/230.1ed17ebe.js"><link rel="prefetch" href="/assets/js/231.f9a8d324.js"><link rel="prefetch" href="/assets/js/232.d073b6b8.js"><link rel="prefetch" href="/assets/js/233.bec9cdbd.js"><link rel="prefetch" href="/assets/js/234.cb6a1e28.js"><link rel="prefetch" href="/assets/js/235.ebb74d27.js"><link rel="prefetch" href="/assets/js/236.24044479.js"><link rel="prefetch" href="/assets/js/237.f7c04397.js"><link rel="prefetch" href="/assets/js/238.affa4a25.js"><link rel="prefetch" href="/assets/js/239.2b15684a.js"><link rel="prefetch" href="/assets/js/24.4f94869e.js"><link rel="prefetch" href="/assets/js/240.524a5283.js"><link rel="prefetch" href="/assets/js/241.a6f85fbc.js"><link rel="prefetch" href="/assets/js/242.a5012b0f.js"><link rel="prefetch" href="/assets/js/243.f2872f9d.js"><link rel="prefetch" href="/assets/js/244.af8dce4a.js"><link rel="prefetch" href="/assets/js/245.913dd95f.js"><link rel="prefetch" href="/assets/js/246.46085f09.js"><link rel="prefetch" href="/assets/js/247.cab3066d.js"><link rel="prefetch" href="/assets/js/248.6ffe9bd2.js"><link rel="prefetch" href="/assets/js/249.940ac997.js"><link rel="prefetch" href="/assets/js/25.8beba237.js"><link rel="prefetch" href="/assets/js/250.24f5729f.js"><link rel="prefetch" href="/assets/js/251.040b7687.js"><link rel="prefetch" href="/assets/js/252.fce23e02.js"><link rel="prefetch" href="/assets/js/253.6aa072a9.js"><link rel="prefetch" href="/assets/js/254.fced3292.js"><link rel="prefetch" href="/assets/js/255.81bdb3ab.js"><link rel="prefetch" href="/assets/js/256.eee8f018.js"><link rel="prefetch" href="/assets/js/257.258e3d5f.js"><link rel="prefetch" href="/assets/js/258.53764d35.js"><link rel="prefetch" href="/assets/js/259.44220dff.js"><link rel="prefetch" href="/assets/js/26.38f820a6.js"><link rel="prefetch" href="/assets/js/260.a78371e6.js"><link rel="prefetch" href="/assets/js/261.e47bec83.js"><link rel="prefetch" href="/assets/js/262.cdc1b042.js"><link rel="prefetch" href="/assets/js/263.83db8a83.js"><link rel="prefetch" href="/assets/js/264.2f01d4cb.js"><link rel="prefetch" href="/assets/js/265.e174d060.js"><link rel="prefetch" href="/assets/js/266.96c46fc6.js"><link rel="prefetch" href="/assets/js/267.b73d8242.js"><link rel="prefetch" href="/assets/js/268.a71f8ffc.js"><link rel="prefetch" href="/assets/js/269.d962ab34.js"><link rel="prefetch" href="/assets/js/27.7eb3747a.js"><link rel="prefetch" href="/assets/js/270.09b33473.js"><link rel="prefetch" href="/assets/js/271.68955791.js"><link rel="prefetch" href="/assets/js/272.c673e920.js"><link rel="prefetch" href="/assets/js/273.a5e8096c.js"><link rel="prefetch" href="/assets/js/274.9df9cd64.js"><link rel="prefetch" href="/assets/js/275.8ad49720.js"><link rel="prefetch" href="/assets/js/276.31c0a4dc.js"><link rel="prefetch" href="/assets/js/277.fb617ede.js"><link rel="prefetch" href="/assets/js/278.f0919232.js"><link rel="prefetch" href="/assets/js/279.ac800bcf.js"><link rel="prefetch" href="/assets/js/28.632f9819.js"><link rel="prefetch" href="/assets/js/280.f4c522e5.js"><link rel="prefetch" href="/assets/js/281.819aa80e.js"><link rel="prefetch" href="/assets/js/282.235df8a4.js"><link rel="prefetch" href="/assets/js/283.246395f4.js"><link rel="prefetch" href="/assets/js/284.5b296a3d.js"><link rel="prefetch" href="/assets/js/285.67018b71.js"><link rel="prefetch" href="/assets/js/286.a6ef00c7.js"><link rel="prefetch" href="/assets/js/287.99e52f33.js"><link rel="prefetch" href="/assets/js/288.18c31c85.js"><link rel="prefetch" href="/assets/js/289.2b552251.js"><link rel="prefetch" href="/assets/js/29.bfe31680.js"><link rel="prefetch" href="/assets/js/290.4b447987.js"><link rel="prefetch" href="/assets/js/291.3baa6247.js"><link rel="prefetch" href="/assets/js/292.8f5062ef.js"><link rel="prefetch" href="/assets/js/293.27c0a1dc.js"><link rel="prefetch" href="/assets/js/294.b0e5601c.js"><link rel="prefetch" href="/assets/js/295.f9b5b950.js"><link rel="prefetch" href="/assets/js/296.8a4a804f.js"><link rel="prefetch" href="/assets/js/297.01257458.js"><link rel="prefetch" href="/assets/js/298.4f017ceb.js"><link rel="prefetch" href="/assets/js/299.2da46571.js"><link rel="prefetch" href="/assets/js/3.65858833.js"><link rel="prefetch" href="/assets/js/30.1002dcb7.js"><link rel="prefetch" href="/assets/js/300.04bb66c3.js"><link rel="prefetch" href="/assets/js/301.9d789323.js"><link rel="prefetch" href="/assets/js/302.0905baf4.js"><link rel="prefetch" href="/assets/js/303.c6c45c69.js"><link rel="prefetch" href="/assets/js/304.00ef9abe.js"><link rel="prefetch" href="/assets/js/305.677e68b7.js"><link rel="prefetch" href="/assets/js/306.d0835ab7.js"><link rel="prefetch" href="/assets/js/307.bae3749e.js"><link rel="prefetch" href="/assets/js/308.ee85cd01.js"><link rel="prefetch" href="/assets/js/309.9d1f2a4b.js"><link rel="prefetch" href="/assets/js/31.558ae079.js"><link rel="prefetch" href="/assets/js/310.265d04c7.js"><link rel="prefetch" href="/assets/js/311.17cbe447.js"><link rel="prefetch" href="/assets/js/312.346fc5ee.js"><link rel="prefetch" href="/assets/js/313.76199886.js"><link rel="prefetch" href="/assets/js/314.d1057d8a.js"><link rel="prefetch" href="/assets/js/315.23751dda.js"><link rel="prefetch" href="/assets/js/316.d1e575c4.js"><link rel="prefetch" href="/assets/js/317.c2a8bc29.js"><link rel="prefetch" href="/assets/js/318.c547f900.js"><link rel="prefetch" href="/assets/js/319.3b387670.js"><link rel="prefetch" href="/assets/js/32.6f1977bb.js"><link rel="prefetch" href="/assets/js/320.0e4c3b38.js"><link rel="prefetch" href="/assets/js/321.6521e785.js"><link rel="prefetch" href="/assets/js/322.1f13f126.js"><link rel="prefetch" href="/assets/js/323.be785ecc.js"><link rel="prefetch" href="/assets/js/324.2d6515ef.js"><link rel="prefetch" href="/assets/js/325.0ab7f9ac.js"><link rel="prefetch" href="/assets/js/326.9b8a19a0.js"><link rel="prefetch" href="/assets/js/327.a6f2ffa3.js"><link rel="prefetch" href="/assets/js/328.ffb78689.js"><link rel="prefetch" href="/assets/js/329.caf6b6ea.js"><link rel="prefetch" href="/assets/js/33.373c3b91.js"><link rel="prefetch" href="/assets/js/330.f23dce5f.js"><link rel="prefetch" href="/assets/js/331.72924748.js"><link rel="prefetch" href="/assets/js/332.3836e7f7.js"><link rel="prefetch" href="/assets/js/333.67e7409c.js"><link rel="prefetch" href="/assets/js/334.b724e2e8.js"><link rel="prefetch" href="/assets/js/335.a3b2da56.js"><link rel="prefetch" href="/assets/js/336.2b428412.js"><link rel="prefetch" href="/assets/js/337.359508c5.js"><link rel="prefetch" href="/assets/js/338.b2326734.js"><link rel="prefetch" href="/assets/js/339.3bf7fea4.js"><link rel="prefetch" href="/assets/js/34.490080fd.js"><link rel="prefetch" href="/assets/js/340.d318bc78.js"><link rel="prefetch" href="/assets/js/341.2e4d7494.js"><link rel="prefetch" href="/assets/js/342.3dd76710.js"><link rel="prefetch" href="/assets/js/343.e06d2cd3.js"><link rel="prefetch" href="/assets/js/344.89f98670.js"><link rel="prefetch" href="/assets/js/345.ae8d10b7.js"><link rel="prefetch" href="/assets/js/346.2ca232aa.js"><link rel="prefetch" href="/assets/js/347.7093141c.js"><link rel="prefetch" href="/assets/js/348.4ded54aa.js"><link rel="prefetch" href="/assets/js/349.f2f3de7a.js"><link rel="prefetch" href="/assets/js/35.303e0d83.js"><link rel="prefetch" href="/assets/js/350.88f21b2b.js"><link rel="prefetch" href="/assets/js/351.df3bf6ec.js"><link rel="prefetch" href="/assets/js/352.5487b192.js"><link rel="prefetch" href="/assets/js/353.46746b90.js"><link rel="prefetch" href="/assets/js/354.44942fe7.js"><link rel="prefetch" href="/assets/js/355.c1941c58.js"><link rel="prefetch" href="/assets/js/356.08b96daf.js"><link rel="prefetch" href="/assets/js/357.61de5029.js"><link rel="prefetch" href="/assets/js/358.dd8ffb5f.js"><link rel="prefetch" href="/assets/js/359.13558983.js"><link rel="prefetch" href="/assets/js/36.a0d30943.js"><link rel="prefetch" href="/assets/js/360.2ad56070.js"><link rel="prefetch" href="/assets/js/361.3793119e.js"><link rel="prefetch" href="/assets/js/362.8f627cfe.js"><link rel="prefetch" href="/assets/js/363.47c7e111.js"><link rel="prefetch" href="/assets/js/364.1550afcc.js"><link rel="prefetch" href="/assets/js/365.8b746335.js"><link rel="prefetch" href="/assets/js/366.0b1fa772.js"><link rel="prefetch" href="/assets/js/367.ee23b98a.js"><link rel="prefetch" href="/assets/js/368.e438a39c.js"><link rel="prefetch" href="/assets/js/369.4a61dd03.js"><link rel="prefetch" href="/assets/js/37.4284cc0c.js"><link rel="prefetch" href="/assets/js/370.69adb26c.js"><link rel="prefetch" href="/assets/js/371.0192e779.js"><link rel="prefetch" href="/assets/js/372.6d850781.js"><link rel="prefetch" href="/assets/js/373.eb913a40.js"><link rel="prefetch" href="/assets/js/374.a1770de3.js"><link rel="prefetch" href="/assets/js/375.5493fcc6.js"><link rel="prefetch" href="/assets/js/376.9e13ab67.js"><link rel="prefetch" href="/assets/js/377.f9dee5a7.js"><link rel="prefetch" href="/assets/js/378.dade2491.js"><link rel="prefetch" href="/assets/js/379.707a72b7.js"><link rel="prefetch" href="/assets/js/38.a5f4c0b4.js"><link rel="prefetch" href="/assets/js/380.a754e171.js"><link rel="prefetch" href="/assets/js/381.0e200507.js"><link rel="prefetch" href="/assets/js/382.bff69b7e.js"><link rel="prefetch" href="/assets/js/383.0e26f22d.js"><link rel="prefetch" href="/assets/js/384.70cfdd5d.js"><link rel="prefetch" href="/assets/js/385.7cd56e59.js"><link rel="prefetch" href="/assets/js/386.8d8ae20c.js"><link rel="prefetch" href="/assets/js/387.017c1a90.js"><link rel="prefetch" href="/assets/js/388.003eda57.js"><link rel="prefetch" href="/assets/js/389.e9c2ebd4.js"><link rel="prefetch" href="/assets/js/39.d70df4df.js"><link rel="prefetch" href="/assets/js/390.ee4577b4.js"><link rel="prefetch" href="/assets/js/391.295ea24c.js"><link rel="prefetch" href="/assets/js/392.cd9b2c07.js"><link rel="prefetch" href="/assets/js/393.83e0324c.js"><link rel="prefetch" href="/assets/js/394.c5c6ee2a.js"><link rel="prefetch" href="/assets/js/395.5e92d62c.js"><link rel="prefetch" href="/assets/js/396.45440149.js"><link rel="prefetch" href="/assets/js/397.2e9c4d79.js"><link rel="prefetch" href="/assets/js/398.2faad846.js"><link rel="prefetch" href="/assets/js/399.d28827bb.js"><link rel="prefetch" href="/assets/js/4.be154c6d.js"><link rel="prefetch" href="/assets/js/40.0e7741b1.js"><link rel="prefetch" href="/assets/js/400.f47d0892.js"><link rel="prefetch" href="/assets/js/401.81b1faad.js"><link rel="prefetch" href="/assets/js/402.5dcee620.js"><link rel="prefetch" href="/assets/js/403.ca06d49f.js"><link rel="prefetch" href="/assets/js/404.0108fa08.js"><link rel="prefetch" href="/assets/js/405.c209c80d.js"><link rel="prefetch" href="/assets/js/406.22242ecd.js"><link rel="prefetch" href="/assets/js/407.636d72f6.js"><link rel="prefetch" href="/assets/js/408.2114030b.js"><link rel="prefetch" href="/assets/js/409.0376024e.js"><link rel="prefetch" href="/assets/js/41.12ed2989.js"><link rel="prefetch" href="/assets/js/410.1777965c.js"><link rel="prefetch" href="/assets/js/411.ef129704.js"><link rel="prefetch" href="/assets/js/412.94623570.js"><link rel="prefetch" href="/assets/js/413.ab7078ca.js"><link rel="prefetch" href="/assets/js/414.9af06b0d.js"><link rel="prefetch" href="/assets/js/415.e7de3e45.js"><link rel="prefetch" href="/assets/js/416.1a6c50b3.js"><link rel="prefetch" href="/assets/js/417.76759517.js"><link rel="prefetch" href="/assets/js/418.2dff2af0.js"><link rel="prefetch" href="/assets/js/419.4ecbfc19.js"><link rel="prefetch" href="/assets/js/42.9ce2dafa.js"><link rel="prefetch" href="/assets/js/420.7c34868f.js"><link rel="prefetch" href="/assets/js/421.538335ca.js"><link rel="prefetch" href="/assets/js/422.da47dc21.js"><link rel="prefetch" href="/assets/js/423.e3b38e9c.js"><link rel="prefetch" href="/assets/js/424.04a76082.js"><link rel="prefetch" href="/assets/js/425.419f9989.js"><link rel="prefetch" href="/assets/js/426.fffcc7ef.js"><link rel="prefetch" href="/assets/js/427.9e079a21.js"><link rel="prefetch" href="/assets/js/428.ce33c968.js"><link rel="prefetch" href="/assets/js/429.a4e784c3.js"><link rel="prefetch" href="/assets/js/43.444176d4.js"><link rel="prefetch" href="/assets/js/430.acdd537f.js"><link rel="prefetch" href="/assets/js/431.3d619af2.js"><link rel="prefetch" href="/assets/js/432.f73efd71.js"><link rel="prefetch" href="/assets/js/433.a4cfcb90.js"><link rel="prefetch" href="/assets/js/44.6b486ceb.js"><link rel="prefetch" href="/assets/js/45.2b0cc8b1.js"><link rel="prefetch" href="/assets/js/46.fd2da8aa.js"><link rel="prefetch" href="/assets/js/47.f7b70d96.js"><link rel="prefetch" href="/assets/js/48.5cc6e7e9.js"><link rel="prefetch" href="/assets/js/49.3ba51b5e.js"><link rel="prefetch" href="/assets/js/5.5aa9e0f7.js"><link rel="prefetch" href="/assets/js/50.cfb28ca0.js"><link rel="prefetch" href="/assets/js/51.1241594b.js"><link rel="prefetch" href="/assets/js/52.3fae4eef.js"><link rel="prefetch" href="/assets/js/53.553bfcb3.js"><link rel="prefetch" href="/assets/js/54.2662d576.js"><link rel="prefetch" href="/assets/js/55.94f132f1.js"><link rel="prefetch" href="/assets/js/56.c48de3a0.js"><link rel="prefetch" href="/assets/js/57.9205b377.js"><link rel="prefetch" href="/assets/js/58.618d72ce.js"><link rel="prefetch" href="/assets/js/59.bf2a8650.js"><link rel="prefetch" href="/assets/js/6.1063792f.js"><link rel="prefetch" href="/assets/js/60.2a047c47.js"><link rel="prefetch" href="/assets/js/61.d47fd11d.js"><link rel="prefetch" href="/assets/js/62.8c29dffd.js"><link rel="prefetch" href="/assets/js/63.16bb986d.js"><link rel="prefetch" href="/assets/js/64.bc64102f.js"><link rel="prefetch" href="/assets/js/65.1169c72f.js"><link rel="prefetch" href="/assets/js/66.824d09da.js"><link rel="prefetch" href="/assets/js/67.ce84321c.js"><link rel="prefetch" href="/assets/js/68.8595c270.js"><link rel="prefetch" href="/assets/js/69.89e05461.js"><link rel="prefetch" href="/assets/js/7.bccc53b9.js"><link rel="prefetch" href="/assets/js/70.8fbede4d.js"><link rel="prefetch" href="/assets/js/71.01a73ce4.js"><link rel="prefetch" href="/assets/js/72.1e0dd7f1.js"><link rel="prefetch" href="/assets/js/73.24f77f07.js"><link rel="prefetch" href="/assets/js/74.0c83a59d.js"><link rel="prefetch" href="/assets/js/75.bd6435e0.js"><link rel="prefetch" href="/assets/js/76.94a80511.js"><link rel="prefetch" href="/assets/js/77.a27d1809.js"><link rel="prefetch" href="/assets/js/78.83ab434c.js"><link rel="prefetch" href="/assets/js/79.cf8518ea.js"><link rel="prefetch" href="/assets/js/8.45f7d402.js"><link rel="prefetch" href="/assets/js/80.596962e9.js"><link rel="prefetch" href="/assets/js/81.63120495.js"><link rel="prefetch" href="/assets/js/82.21ad56f5.js"><link rel="prefetch" href="/assets/js/83.baab9377.js"><link rel="prefetch" href="/assets/js/84.f53f30b8.js"><link rel="prefetch" href="/assets/js/85.8523fba7.js"><link rel="prefetch" href="/assets/js/86.db32bca6.js"><link rel="prefetch" href="/assets/js/87.1154c1cd.js"><link rel="prefetch" href="/assets/js/88.3fe0517a.js"><link rel="prefetch" href="/assets/js/89.ba98eb57.js"><link rel="prefetch" href="/assets/js/9.84f6f752.js"><link rel="prefetch" href="/assets/js/90.7abbd7d9.js"><link rel="prefetch" href="/assets/js/91.62d46791.js"><link rel="prefetch" href="/assets/js/92.3738d8e0.js"><link rel="prefetch" href="/assets/js/93.558070f9.js"><link rel="prefetch" href="/assets/js/94.3c8015f9.js"><link rel="prefetch" href="/assets/js/95.4071db60.js"><link rel="prefetch" href="/assets/js/96.26f85934.js"><link rel="prefetch" href="/assets/js/97.5b1f6f77.js"><link rel="prefetch" href="/assets/js/98.0bd39397.js"><link rel="prefetch" href="/assets/js/99.51095dbe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53c04193.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="baby sword‘s blog" class="logo"> <span class="site-name can-hide">baby sword‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d29055/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d29055/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/myAvator.png"> <div class="blogger-info"><h3>zhengjian</h3> <span>不敢承担失去的风险，是不可能抓住梦想的</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d29055/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d29055/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>RPC</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/33d950/" class="sidebar-link">什么是RPC</a></li><li><a href="/pages/eb6da4/" class="sidebar-link">有了RPC为什么还要HTTP</a></li><li><a href="/pages/d29055/" aria-current="page" class="active sidebar-link">常见知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/d29055/#在spring中怎么定义一个customscannerregister" class="sidebar-link">在spring中怎么定义一个CustomScannerRegister？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/d29055/#mybatis举例" class="sidebar-link">mybatis举例</a></li><li class="sidebar-sub-header level4"><a href="/pages/d29055/#classpathbeandefinitionscanner有什么用" class="sidebar-link">ClassPathBeanDefinitionScanner有什么用</a></li><li class="sidebar-sub-header level4"><a href="/pages/d29055/#classpathbeandefinitionscanner案例" class="sidebar-link">ClassPathBeanDefinitionScanner案例</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/d29055/#什么是annotationattributes和annotationmetadata" class="sidebar-link">什么是AnnotationAttributes和AnnotationMetadata</a></li><li class="sidebar-sub-header level2"><a href="/pages/d29055/#maven中scope标签的含义" class="sidebar-link">maven中scope标签的含义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/d29055/#一些常用的工具类" class="sidebar-link">一些常用的工具类</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#bean的生命周期" class="sidebar-link">bean的生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#那么importbeandefinitionregistrar是处于哪一个阶段呢" class="sidebar-link">那么ImportBeanDefinitionRegistrar是处于哪一个阶段呢</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#实现beanpostprocessor有什么用" class="sidebar-link">实现BeanPostProcessor有什么用？</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#那么aop是怎么和beanpostprocessor结合起来的呢" class="sidebar-link">那么aop是怎么和beanPostProcessor结合起来的呢？</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#java中的随机数" class="sidebar-link">java中的随机数</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#为什么是伪随机数" class="sidebar-link">为什么是伪随机数</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#计网" class="sidebar-link">计网</a></li><li class="sidebar-sub-header level4"><a href="/pages/d29055/#ip" class="sidebar-link">IP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ip的分片与重组" class="sidebar-link">ip的分片与重组</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/d29055/#ip分片和重组" class="sidebar-link">IP分片和重组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ip分片" class="sidebar-link">IP分片</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ip重组" class="sidebar-link">IP重组</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ip分片和重组的影响和应用" class="sidebar-link">IP分片和重组的影响和应用</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ipv6" class="sidebar-link">IPV6</a></li><li class="sidebar-sub-header level4"><a href="/pages/d29055/#dns" class="sidebar-link">DNS</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#_1-dns基础概念" class="sidebar-link">1. DNS基础概念</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#_2-dns工作原理" class="sidebar-link">2. DNS工作原理</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#_3-常见dns问题" class="sidebar-link">3. 常见DNS问题</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#_4-总结" class="sidebar-link">4. 总结</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#arp" class="sidebar-link">ARP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#rarp" class="sidebar-link">RARP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#dhcp" class="sidebar-link">DHCP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#ping" class="sidebar-link">ping</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#tranceroute" class="sidebar-link">tranceroute</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#nat" class="sidebar-link">NAT</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#natp" class="sidebar-link">NATP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#igmp" class="sidebar-link">IGMP</a></li><li class="sidebar-sub-header level3"><a href="/pages/d29055/#icmp" class="sidebar-link">ICMP</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>netty</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/structure/#常见框架" data-v-06225672>常见框架</a></li><li data-v-06225672><a href="/structure/#RPC" data-v-06225672>RPC</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xugaoyi" target="_blank" title="作者" class="beLink" data-v-06225672>xugaoyi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">常见知识点<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="在spring中怎么定义一个customscannerregister"><a href="#在spring中怎么定义一个customscannerregister" class="header-anchor">#</a> 在spring中怎么定义一个CustomScannerRegister？</h2> <p>在 Spring 中，您可以通过实现 <code>org.springframework.context.annotation.ImportBeanDefinitionRegistrar</code> 接口来定义一个自定义的扫描器注册器，从而向容器注册 bean。以下是一个简单的例子，展示如何实现这个接口来创建一个自定义的扫描器注册器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>javaCopy code
import org.springframework.beans.factory.support.BeanDefinitionRegistry;
import org.springframework.context.annotation.ImportBeanDefinitionRegistrar;
import org.springframework.core.type.AnnotationMetadata;

public class CustomScannerRegistrar implements ImportBeanDefinitionRegistrar {
    @Override
    public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {
        // 在此处可以编写扫描逻辑，并使用 registry 注册 bean。
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在这个示例中，我们实现了 <code>ImportBeanDefinitionRegistrar</code> 接口，并重写了 <code>registerBeanDefinitions()</code> 方法，该方法接收两个参数：<code>AnnotationMetadata</code> 和 <code>BeanDefinitionRegistry</code>。在这个方法中，我们可以编写扫描逻辑，并使用 <code>BeanDefinitionRegistry</code> 实例注册 bean。例如，您可以使用 <code>ClassPathBeanDefinitionScanner</code> 扫描特定的包，并将扫描到的 bean 注册到容器中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>javaCopy code
import org.springframework.beans.factory.support.BeanDefinitionRegistry;
import org.springframework.context.annotation.ClassPathBeanDefinitionScanner;
import org.springframework.context.annotation.ImportBeanDefinitionRegistrar;
import org.springframework.core.type.AnnotationMetadata;

public class CustomScannerRegistrar implements ImportBeanDefinitionRegistrar {
    @Override
    public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {
        ClassPathBeanDefinitionScanner scanner = new ClassPathBeanDefinitionScanner(registry);
        scanner.scan(&quot;com.example.custompackage&quot;);
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这个示例中，我们使用了 <code>ClassPathBeanDefinitionScanner</code> 扫描了包路径为 <code>com.example.custompackage</code> 的所有类，并将扫描到的 bean 注册到容器中。请注意，在您的项目中使用时，您需要修改包路径和扫描逻辑来适应您的项目。</p> <h3 id="mybatis举例"><a href="#mybatis举例" class="header-anchor">#</a> mybatis举例</h3> <p>这个接口的使用和@import注解一起使用。我们可以看看mybatis整合springboot中是如何实现这个ImportBeanDefinitionRegistrar</p> <p>在使用@MapperScann() 意思是扫描指定的dao接口路径，我们来看看这个注解是如何使用的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">MapperScannerRegistrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">MapperScans</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MapperScan</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>我们可以看到这里使用@Import注解，里面有一个类叫做MapperScannerRegistrar.class</p> <ul><li>首先看看@Import注解，这个注解的作用如下·所示</li></ul> <p>@Import注解的作用是给容器中导入组件，回顾下我们给容器中注入组件的方式，可以通过Spring的xml配置方式，也可以通过注解，如<code>@Component</code>等，也可以通过java配置类的方式给容器中导入注解，今天来介绍另一个注解，其作用也是给容器中导入组件。</p> <p>也即是这个注解将我们MapperScannerRegistrar注入到我们的容器中。</p> <ul><li>我们再来看看这个MapperScannerRegistrar对象</li></ul> <div class="language-JAVA line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapperScannerRegistrar</span> <span class="token keyword">implements</span> <span class="token class-name">ImportBeanDefinitionRegistrar</span><span class="token punctuation">,</span> <span class="token class-name">ResourceLoaderAware</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">ResourceLoader</span> resourceLoader<span class="token punctuation">;</span>

  <span class="token comment">/**
   * {@inheritDoc}
   */</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setResourceLoader</span><span class="token punctuation">(</span><span class="token class-name">ResourceLoader</span> resourceLoader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resourceLoader <span class="token operator">=</span> resourceLoader<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * {@inheritDoc}
   */</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取了MapperScan注解上的属性</span>
    <span class="token class-name">AnnotationAttributes</span> mapperScanAttrs <span class="token operator">=</span> <span class="token class-name">AnnotationAttributes</span>
        <span class="token punctuation">.</span><span class="token function">fromMap</span><span class="token punctuation">(</span>importingClassMetadata<span class="token punctuation">.</span><span class="token function">getAnnotationAttributes</span><span class="token punctuation">(</span><span class="token class-name">MapperScan</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mapperScanAttrs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span>mapperScanAttrs<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationAttributes</span> annoAttrs<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ClassPathMapperScanner继承了spring的扫描器ClassPathBeanDefinitionScanner</span>
    <span class="token class-name">ClassPathMapperScanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathMapperScanner</span><span class="token punctuation">(</span>registry<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// this check is needed in Spring 3.1</span>
    <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>resourceLoader<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>scanner<span class="token operator">::</span><span class="token function">setResourceLoader</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Annotation</span><span class="token punctuation">&gt;</span></span> annotationClass <span class="token operator">=</span> annoAttrs<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token string">&quot;annotationClass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Annotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>annotationClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      scanner<span class="token punctuation">.</span><span class="token function">setAnnotationClass</span><span class="token punctuation">(</span>annotationClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> markerInterface <span class="token operator">=</span> annoAttrs<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token string">&quot;markerInterface&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>markerInterface<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      scanner<span class="token punctuation">.</span><span class="token function">setMarkerInterface</span><span class="token punctuation">(</span>markerInterface<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">BeanNameGenerator</span><span class="token punctuation">&gt;</span></span> generatorClass <span class="token operator">=</span> annoAttrs<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token string">&quot;nameGenerator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">BeanNameGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>generatorClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      scanner<span class="token punctuation">.</span><span class="token function">setBeanNameGenerator</span><span class="token punctuation">(</span><span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">instantiateClass</span><span class="token punctuation">(</span>generatorClass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">MapperFactoryBean</span><span class="token punctuation">&gt;</span></span> mapperFactoryBeanClass <span class="token operator">=</span> annoAttrs<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token string">&quot;factoryBean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">MapperFactoryBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>mapperFactoryBeanClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      scanner<span class="token punctuation">.</span><span class="token function">setMapperFactoryBeanClass</span><span class="token punctuation">(</span>mapperFactoryBeanClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    scanner<span class="token punctuation">.</span><span class="token function">setSqlSessionTemplateBeanName</span><span class="token punctuation">(</span>annoAttrs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionTemplateRef&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scanner<span class="token punctuation">.</span><span class="token function">setSqlSessionFactoryBeanName</span><span class="token punctuation">(</span>annoAttrs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionFactoryRef&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> basePackages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    basePackages<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>annoAttrs<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token operator">::</span><span class="token function">hasText</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 给扫描器增加扫描路径</span>
    basePackages<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>annoAttrs<span class="token punctuation">.</span><span class="token function">getStringArray</span><span class="token punctuation">(</span><span class="token string">&quot;basePackages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token operator">::</span><span class="token function">hasText</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    basePackages<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>annoAttrs<span class="token punctuation">.</span><span class="token function">getClassArray</span><span class="token punctuation">(</span><span class="token string">&quot;basePackageClasses&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token operator">::</span><span class="token function">getPackageName</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scanner<span class="token punctuation">.</span><span class="token function">registerFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 开始扫描</span>
    scanner<span class="token punctuation">.</span><span class="token function">doScan</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">toStringArray</span><span class="token punctuation">(</span>basePackages<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * A {@link MapperScannerRegistrar} for {@link MapperScans}.
   * @since 2.0.0
   */</span>
  <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">RepeatingRegistrar</span> <span class="token keyword">extends</span> <span class="token class-name">MapperScannerRegistrar</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * {@inheritDoc}
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> importingClassMetadata<span class="token punctuation">,</span>
        <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">AnnotationAttributes</span> mapperScansAttrs <span class="token operator">=</span> <span class="token class-name">AnnotationAttributes</span>
          <span class="token punctuation">.</span><span class="token function">fromMap</span><span class="token punctuation">(</span>importingClassMetadata<span class="token punctuation">.</span><span class="token function">getAnnotationAttributes</span><span class="token punctuation">(</span><span class="token class-name">MapperScans</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mapperScansAttrs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>mapperScansAttrs<span class="token punctuation">.</span><span class="token function">getAnnotationArray</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>mapperScanAttrs <span class="token operator">-&gt;</span> <span class="token function">registerBeanDefinitions</span><span class="token punctuation">(</span>mapperScanAttrs<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><p>同时我们会发现上面的类经常会和以下的类结合在一起<code>ClassPathBeanDefinitionScanner</code>:</p> <h4 id="classpathbeandefinitionscanner有什么用"><a href="#classpathbeandefinitionscanner有什么用" class="header-anchor">#</a> ClassPathBeanDefinitionScanner有什么用</h4> <p>ClassPathBeanDefinitionScanner是Spring框架中的一个组件，主要用于扫描指定路径下的类文件，自动将符合条件的类注册为Spring容器中的BeanDefinition。</p> <p>具体来说，ClassPathBeanDefinitionScanner通常用于以下情况：</p> <ol><li>扫描指定包路径下的类文件，将其转换为BeanDefinition注册到Spring容器中，以便在需要时使用。</li> <li>扫描类文件中的注解，将带有特定注解的类自动注册为BeanDefinition，简化了手动配置的过程。</li> <li>扫描指定路径下的XML文件，将其中定义的Bean自动注册到Spring容器中，简化了手动配置的过程。</li></ol> <p>使用ClassPathBeanDefinitionScanner可以大大减少手动配置Bean的工作量，提高代码的开发效率和可维护性。同时，它也使得开发人员可以更加专注于业务逻辑的实现，而不是过多关注框架相关的细节。</p> <h4 id="classpathbeandefinitionscanner案例"><a href="#classpathbeandefinitionscanner案例" class="header-anchor">#</a> ClassPathBeanDefinitionScanner案例</h4> <p>在spring中我自定义了一个注解，让我想让spring能够自动扫描对应的包，然后将包下面使用了自定义注解的类加载到spring ioc中。</p> <p>要使用ClassPathBeanDefinitionScanner将使用自定义注解的类注册到Spring容器中，可以按照以下步骤进行：</p> <ol><li>定义自定义注解</li></ol> <p>可以使用Java的元注解（@Target和@Retention）来定义一个注解，并添加相应的属性，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>创建扫描器并设置过滤器（重点）</li></ol> <p>创建一个ClassPathBeanDefinitionScanner实例，并设置TypeFilter，以便仅扫描带有自定义注解的类，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ClassPathBeanDefinitionScanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathBeanDefinitionScanner</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TypeFilter</span> myAnnotationFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationTypeFilter</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scanner<span class="token punctuation">.</span><span class="token function">addIncludeFilter</span><span class="token punctuation">(</span>myAnnotationFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>扫描指定的包路径</li></ol> <p>调用scanner的scan()方法，指定要扫描的包路径，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>scanner<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token string">&quot;com.example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在这个例子中，将扫描com.example包下的所有类文件，自动将带有@MyAnnotation注解的类注册为Spring的BeanDefinition。</p> <ol start="4"><li>在Spring容器中使用Bean</li></ol> <p>完成上述步骤后，使用带有@MyAnnotation注解的类的实例就可以在Spring容器中被自动注入或获取。</p> <p>总的来说，通过定义自定义注解、创建扫描器并设置过滤器、扫描指定的包路径等步骤，可以使用ClassPathBeanDefinitionScanner将使用自定义注解的类注册到Spring容器中。这样可以大大提高开发效率和可维护性。</p> <p>如果在spring中配置了</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.demo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么在ioc容器的初始化阶段就会调用beanFactoryPostProcessor阶段，就会采用classPathBeanDefinitionScanner进行包扫描，并将符合过滤条件的类注册到IOC容器内。就类似于mybatis的mapper注册器同样是继承ClassPastBeanDefinitionScanner，来进行对应路径下的包的扫描和definition的注册。</p> <p>那么我们会什么还会使用ImportBeanDefinitionRegistrar呢？</p> <p>原因如下：</p> <p>如果你只需要自动将使用自定义注解的类加载到Spring容器中，而不需要对这些类进行其他的处理，那么就不需要使用ImportBeanDefinitionRegistrar。</p> <p>ImportBeanDefinitionRegistrar接口是用于动态注册BeanDefinition的高级扩展点，它允许在BeanDefinition注册之前对BeanDefinition进行一些特殊处理，例如：修改BeanDefinition的属性、增加额外的元数据等等。它的主要作用是在@Configuration类中，通过实现ImportBeanDefinitionRegistrar接口，动态地向容器中注册BeanDefinition。</p> <p>在使用自定义注解注册Bean时，如果只需要简单地将使用自定义注解的类加载到Spring容器中，而不需要对这些类进行特殊处理，那么就不需要使用ImportBeanDefinitionRegistrar接口。使用ClassPathBeanDefinitionScanner就足够了。</p> <p>当然，如果你需要对自定义注解的类进行特殊处理，例如：根据注解的属性修改BeanDefinition的属性，那么可以考虑使用ImportBeanDefinitionRegistrar接口来完成这些操作。需要注意的是，这种方式比较复杂，需要实现一些接口，编写一些代码，因此只有在必要的情况下才需要使用。</p> <p>那么实现这个接口有什么用呢？</p> <p>通过@Import({ImportBeanDefinitionRegistrar.class})，可以让spring启动过程创建beanDefinition时调用registerBeanDefinitions方法，传入BeanDefinitionRegistry注册器，那么我们就可以自己设置规则，来往spring里面注册beanDefinition，从而做到往ioc容器中注册bean的过程</p> <p>简单的说ImportBeanDefinitionRegistrar，可以让我们自己注册bean到spring ioc容器中</p> <h2 id="什么是annotationattributes和annotationmetadata"><a href="#什么是annotationattributes和annotationmetadata" class="header-anchor">#</a> 什么是AnnotationAttributes和AnnotationMetadata</h2> <p>AnnotationAttributes是Spring框架提供的一个工具类，用于方便地获取和操作注解中的属性。它提供了一些常用的方法，如获取字符串、布尔、整数等类型的属性值，也可以通过getAttribute方法获取Object类型的属性值，还可以判断注解中是否存在某个属性等。</p> <p>AnnotationAttributes通常用于通过反射获取注解的属性及其值。在Spring中，通过AnnotationMetadata接口获取注解的属性及其值，它的实现类StandardAnnotationMetadata中提供了一个getAnnotationAttributes方法，用于获取指定注解的AnnotationAttributes对象。</p> <p>AnnotationAttributes使得使用注解时更加方便，可以通过AnnotationAttributes对象获取注解中的属性值，并可以直接用于构建BeanDefinition等操作。同时，AnnotationAttributes提供了类型安全的访问方法，能够防止类型转换错误导致的异常。</p> <p>两者有什么区别呢？</p> <p>AnnotationMetadata和AnnotationAttributes是Spring框架中用于处理注解的两个重要接口，它们的区别如下：</p> <ol><li>AnnotationMetadata是一个接口，它提供了访问类或方法上的注解及其属性的方法，可以获取注解的名称、属性及其值，还可以判断是否存在某个注解。AnnotationAttributes是AnnotationMetadata中的一个子接口，它提供了获取和操作注解属性的方法，可以获取注解属性的值、判断是否存在某个属性等。</li> <li>AnnotationMetadata通常用于获取注解的信息，例如：获取注解的名称、类型、属性值等。AnnotationAttributes则用于获取和操作注解的属性，例如：获取属性的值、判断属性是否存在、修改属性的值等。</li> <li>AnnotationMetadata提供了获取注解类型的方法，可以获取指定名称的注解类型，以及类或方法上所有注解的类型。AnnotationAttributes则没有获取注解类型的方法，它只能获取指定注解中的属性。</li></ol> <p>综上所述，AnnotationMetadata和AnnotationAttributes在处理注解时具有不同的功能和用途，AnnotationMetadata用于获取注解信息，而AnnotationAttributes用于获取和操作注解的属性。在Spring框架中，通常先使用AnnotationMetadata获取指定类或方法上的注解，再使用AnnotationAttributes获取注解的属性。</p> <h2 id="maven中scope标签的含义"><a href="#maven中scope标签的含义" class="header-anchor">#</a> maven中scope标签的含义</h2> <p>在 Maven 的依赖管理中，<code>scope</code> 标签用于指定依赖项在特定阶段的可见性和可用性。<code>scope</code> 可以设置为以下几个值：</p> <ul><li><code>compile</code>：默认值。依赖项在编译、测试和运行时均可用。</li> <li><code>provided</code>：依赖项在编译和测试时可用，但在运行时由运行环境提供。例如，Servlet API 就是一个 <code>provided</code> 依赖项，因为它由 Web 容器提供。</li> <li><code>runtime</code>：依赖项在测试和运行时可用，但在编译时不可用。例如，JDBC 驱动程序就是一个 <code>runtime</code> 依赖项，因为它只需要在运行时才需要。</li> <li><code>test</code>：依赖项仅在测试时可用，不会在编译或运行时包含在项目中。</li> <li><code>system</code>：依赖项类似于 <code>provided</code>，但需要手动提供 <code>jar</code> 文件的路径。</li> <li><code>import</code>：仅用于 <code>&lt;dependencyManagement&gt;</code> 部分，用于导入其他 Maven 项目的依赖管理信息。</li></ul> <p>通过使用 <code>scope</code> 标签，可以使 Maven 知道哪些依赖项是必需的，哪些是可选的，以及在不同的构建阶段哪些依赖项是需要的。这有助于管理项目的依赖项，确保只有必需的依赖项被包含在构建中，从而减少项目的大小和复杂性。</p> <h3 id="一些常用的工具类"><a href="#一些常用的工具类" class="header-anchor">#</a> 一些常用的工具类</h3> <p>RuntimeUtil</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RuntimeUtil</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 获取当前cpu的数量
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">cpus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">availableProcessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="bean的生命周期"><a href="#bean的生命周期" class="header-anchor">#</a> bean的生命周期</h3> <p>在 Spring 中，Bean 的生命周期可以分为以下阶段：</p> <ol><li>实例化（Instantiation）：Spring 根据配置文件中的信息，使用 Bean 工厂创建一个 Bean 的实例。</li> <li>属性赋值（Populating Properties）：Spring 将配置文件中的属性值和 Bean 的属性值进行绑定，也就是依赖注入。</li> <li>初始化（Initialization）：在 Bean 实例化完成并完成属性赋值之后，Spring 会调用 Bean 的初始化方法。Bean 可以通过实现 InitializingBean 接口或者在配置文件中指定 init-method 来定义初始化方法。</li> <li>使用（In Use）：Bean 可以被使用了。</li> <li>销毁（Destruction）：当 Bean 不再需要时，Spring 会调用 Bean 的销毁方法。Bean 可以通过实现 DisposableBean 接口或者在配置文件中指定 destroy-method 来定义销毁方法。</li></ol> <p>需要注意的是，只有在通过 Spring 容器获取 Bean 时，Bean 才会经过完整的生命周期，如果通过 new 关键字或其他方式创建 Bean，Spring 就无法控制 Bean 的生命周期。</p> <p>此外，Spring 还提供了许多扩展 Bean 生命周期的方式，例如 BeanPostProcessor 接口和 BeanFactoryPostProcessor 接口等，它们可以在 Bean 的实例化和初始化过程中进行一些自定义的操作。</p> <h3 id="那么importbeandefinitionregistrar是处于哪一个阶段呢"><a href="#那么importbeandefinitionregistrar是处于哪一个阶段呢" class="header-anchor">#</a> 那么ImportBeanDefinitionRegistrar是处于哪一个阶段呢</h3> <p>ImportBeanDefinitionRegistrar 属于 Spring Bean 的注册阶段，而不是 Bean 的生命周期阶段。</p> <p>在 Spring 中，Bean 的注册阶段是在 Bean 的实例化、属性赋值和初始化之前的一个阶段，通过 BeanDefinitionRegistry 接口向 Spring 容器中注册 Bean 定义，包括 Bean 的名称、类型、作用域、依赖关系等信息。这个阶段可以通过实现 BeanDefinitionRegistryPostProcessor 接口来进行自定义操作，例如修改或添加 Bean 的定义。</p> <p>ImportBeanDefinitionRegistrar 接口是 BeanDefinitionRegistryPostProcessor 接口的子接口，它可以在注册 Bean 的同时，动态地注册其他的 Bean 定义。通常情况下，ImportBeanDefinitionRegistrar 接口是用来实现条件化注册 Bean 的场景，例如根据配置文件中的条件动态地注册一些 Bean。</p> <p>需要注意的是，ImportBeanDefinitionRegistrar 接口的实现类会在 Bean 的注册阶段被调用，而不是 Bean 的生命周期阶段。在实现 ImportBeanDefinitionRegistrar 接口时，不能对已经存在的 Bean 进行修改或添加，否则会抛出异常。</p> <p>在spring的启动过程中ImportBeanDefinitionRegistrar的registerBeanDefinitions方法只会调用一次，annotationMetadata可以获取注解的元信息</p> <h3 id="实现beanpostprocessor有什么用"><a href="#实现beanpostprocessor有什么用" class="header-anchor">#</a> 实现BeanPostProcessor有什么用？</h3> <p>BeanPostProcessor 接口是 Spring 框架中用于对 Bean 进行后置处理的一个扩展点，它可以在 Bean 的初始化前后对 Bean 进行一些自定义操作。BeanPostProcessor 接口属于 Bean 的初始化阶段，也就是 Bean 生命周期中的第三个阶段。</p> <p>在 Bean 的初始化阶段，Spring 容器会调用实现了 BeanPostProcessor 接口的类的 postProcessBeforeInitialization() 方法，在 Bean 初始化之前对 Bean 进行自定义的操作。然后，Spring 容器会调用 Bean 的初始化方法（例如通过 @PostConstruct 注解指定的方法），完成 Bean 的初始化。最后，Spring 容器会调用实现了 BeanPostProcessor 接口的类的 postProcessAfterInitialization() 方法，在 Bean 初始化之后对 Bean 进行自定义的操作。</p> <p>需要注意的是，BeanPostProcessor 接口中定义的方法会被所有的 Bean 实例共享，也就是说，如果一个 Bean 实现了 BeanPostProcessor 接口，那么它的 postProcessBeforeInitialization() 和 postProcessAfterInitialization() 方法会被所有的 Bean 实例调用，包括它自己。因此，在实现 BeanPostProcessor 接口时，需要判断当前处理的 Bean 是否是需要进行处理的目标 Bean。例如，可以通过 Bean 的名称、类型、注解等来判断当前 Bean 是否需要进行后置处理。</p> <p>在 BeanPostProcessor 接口中的 postProcessAfterInitialization() 方法中，参数含义如下：</p> <ul><li>Object bean：当前正在进行后置处理的 Bean 实例。</li> <li>String beanName：当前正在进行后置处理的 Bean 的名称。</li></ul> <p>这两个参数的作用分别是获取正在进行后置处理的 Bean 实例和 Bean 的名称，开发者可以在这个方法中对 Bean 进行自定义的后置处理，例如对 Bean 进行动态代理、AOP 切面等操作。</p> <p>实现 BeanPostProcessor 接口的方式如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在 Bean 初始化之前进行自定义操作</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在 Bean 初始化之后进行自定义操作</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在这个实现中，我们可以在 postProcessAfterInitialization() 方法中对 Bean 进行一些自定义的操作。例如，我们可以对某个 Bean 进行动态代理，以实现 AOP 切面的功能：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>bean <span class="token keyword">instanceof</span> <span class="token class-name">UserService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 对 UserService 进行动态代理，以实现 AOP 切面的功能</span>
            <span class="token class-name">ProxyFactory</span> proxyFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxyFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            proxyFactory<span class="token punctuation">.</span><span class="token function">setTarget</span><span class="token punctuation">(</span>bean<span class="token punctuation">)</span><span class="token punctuation">;</span>
            proxyFactory<span class="token punctuation">.</span><span class="token function">addAdvice</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAdvice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> proxyFactory<span class="token punctuation">.</span><span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在这个实现中，我们判断当前的 Bean 是否是 UserService 类型，如果是，则对该 Bean 进行动态代理，并将代理后的 Bean 实例返回，以实现 AOP 切面的功能。其他类型的 Bean 则不进行处理，直接返回原始的 Bean 实例。</p> <h3 id="那么aop是怎么和beanpostprocessor结合起来的呢"><a href="#那么aop是怎么和beanpostprocessor结合起来的呢" class="header-anchor">#</a> 那么aop是怎么和beanPostProcessor结合起来的呢？</h3> <p>Spring 中的面向切面（AOP）功能是通过 BeanPostProcessor 接口实现的，但它并不仅仅是通过 BeanPostProcessor 接口实现的。</p> <p>在 Spring 中，实现 AOP 功能有多种方式，其中最常见的方式是使用 AspectJ 注解和 Spring AOP 配置，这两种方式都可以实现 AOP 功能，但它们的实现原理是不同的。</p> <p>使用 AspectJ 注解时，需要使用 AspectJ 提供的注解，例如 @Aspect、@Before、@After 等，Spring 容器会扫描带有这些注解的类，并自动生成代理类，将代理类应用到目标 Bean 上，从而实现 AOP 功能。</p> <p>使用 Spring AOP 配置时，需要在 Spring 配置文件中定义切面、切入点、通知等元素，Spring 容器会根据这些元素生成代理类，并将代理类应用到目标 Bean 上，从而实现 AOP 功能。</p> <p>在实现 AOP 功能时，BeanPostProcessor 接口主要用于对目标 Bean 进行增强操作，例如对目标 Bean 进行动态代理，以实现 AOP 切面的功能。但 BeanPostProcessor 接口并不是实现 AOP 的必需品，开发者可以使用其他方式来实现 AOP 功能，例如使用 AspectJ 注解或 Spring AOP 配置等。</p> <h3 id="java中的随机数"><a href="#java中的随机数" class="header-anchor">#</a> java中的随机数</h3> <p>在 Java 中，Random 类是用于生成随机数的类，可以使用它来生成伪随机数。</p> <p>要使用 Random 类生成随机数，可以按照以下步骤进行操作：</p> <ol><li>创建 Random 对象。可以使用无参数构造函数来创建 Random 对象，也可以使用带有种子参数的构造函数来创建 Random 对象。如果不指定种子参数，则默认使用当前时间作为种子。</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建 Random 对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>调用 Random 对象的方法来生成随机数。Random 类提供了多种方法来生成不同类型的随机数，例如生成整数、浮点数、布尔值等。</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> randomInt <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成 [0, 100) 之间的随机整数</span>
<span class="token keyword">double</span> randomDouble <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成 [0.0, 1.0) 之间的随机浮点数</span>
<span class="token keyword">boolean</span> randomBoolean <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成随机布尔值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>根据需要重复步骤 2 来生成多个随机数。</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> randomInts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    randomInts<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>需要注意的是，Random 类生成的随机数是伪随机数，它们是根据某个算法计算出来的，而不是真正的随机数。如果需要更高质量的随机数，可以使用 java.security.SecureRandom 类来生成随机数。此外，还可以使用第三方库，例如 Apache Commons Math 库或 Google Guava 库，来生成更高质量的随机数。</p> <h3 id="为什么是伪随机数"><a href="#为什么是伪随机数" class="header-anchor">#</a> 为什么是伪随机数</h3> <p>伪随机数（Pseudo-Random Number）是由计算机程序生成的数值序列，看起来像是随机产生的数值序列，但实际上它们是由一个固定的算法计算出来的，因此不是真正的随机数。</p> <p>在计算机科学中，真正的随机数是很难实现的，因为计算机是一台确定性的机器，它必须按照给定的算法执行指令。因此，计算机程序生成的数值序列通常是伪随机数，即看起来像是随机产生的数值序列，但实际上是由一个固定的算法计算出来的。这个算法称为随机数生成器（Random Number Generator，简称 RNG）。</p> <p>由于伪随机数是由一个固定的算法计算出来的，因此它们具有以下特点：</p> <ol><li>可重复性：由于伪随机数是由一个固定的算法计算出来的，因此如果使用相同的算法和种子，就会生成相同的数值序列。</li> <li>周期性：伪随机数的数值序列是有限的，当计算机执行的次数达到一定数量级时，数值序列就会重复。</li> <li>随机性：虽然伪随机数不是真正的随机数，但是它们具有很高的随机性，能够满足绝大多数应用场景的要求。</li></ol> <p>在实际应用中，伪随机数广泛用于模拟和加密等领域。如果需要更高质量的随机数，可以使用真正的随机数源，例如物理随机数源，但是这通常需要特殊的硬件设备和算法支持。</p> <h3 id="计网"><a href="#计网" class="header-anchor">#</a> 计网</h3> <h4 id="ip"><a href="#ip" class="header-anchor">#</a> IP</h4> <ul><li><p>ip的分类，每个类别ip的范围，主机数量的范围，两种特殊的ip</p></li> <li><p>广播的分类</p></li> <li><p>单播、广播与多播的区别</p></li> <li><p>什么是网段</p></li></ul> <p>关于多播（组播）</p> <p>从 224.0.0.0 ~ 239.255.255.255 都是多播的可用范围，其划分为以下三类：</p> <p>224.0.0.0 ~ 224.0.0.255 为预留的组播地址，只能在局域网中，路由器是不会进行转发的。</p> <p>224.0.1.0 ~ 238.255.255.255 为用户可用的组播地址，可以用于 Internet 上。</p> <p>239.0.0.0 ~ 239.255.255.255 为本地管理组播地址，可供内部网在内部使用，仅在特定的本地范围内有效。</p> <ul><li>ip地址的分类有什么优点？</li></ul> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230228113019073.png" alt="image-20230228113019073"></p> <ul><li><p>有什么缺点。由CIDR解决</p></li> <li><p>CIDR的两种表现形式</p></li></ul> <p>（1）10.100.122.2/24</p> <p>（2） 地址+子网掩码</p> <ul><li><p>为什么要区分网络号和主机号</p></li> <li><p>子网掩码用于划分网络号和主机号，还可以用来划分<strong>子网</strong></p></li></ul> <p>划分子网其实就是 ip分类+CIDR</p> <p>划分后就成为：网络地址+子网网络地址+子网主机地址</p> <p>举例：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230228115257130.png" alt="image-20230228115257130"></p> <p>假设对 C 类地址进行子网划分，网络地址 192.168.1.0，使用子网掩码 255.255.255.192 对其进行子网划分。</p> <ul><li><p>ip分类中的公有地址和私有地址</p></li> <li><p>ip地址当中网络地址与路由控制关系</p></li></ul> <p>路由控制原理-》最长匹配原则</p> <ul><li>网络地址在路由器中的转发流程</li></ul> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230228122850573.png" alt="image-20230228122850573"></p> <ol><li>主机 A 要发送一个 IP 包，其源地址是 <code>10.1.1.30</code> 和目标地址是 <code>10.1.2.10</code>，由于没有在主机 A 的路由表找到与目标地址 <code>10.1.2.10</code> 相同的网络地址，于是包被转发到默认路由（路由器 <code>1</code> ）</li> <li>路由器 <code>1</code> 收到 IP 包后，也在路由器 <code>1</code> 的路由表匹配与目标地址相同的网络地址记录，发现匹配到了，于是就把 IP 数据包转发到了 <code>10.1.0.2</code> 这台路由器 <code>2</code></li> <li>路由器 <code>2</code> 收到后，同样对比自身的路由表，发现匹配到了，于是把 IP 包从路由器 <code>2</code> 的 <code>10.1.2.1</code> 这个接口出去，最终经过交换机把 IP 数据包转发到了目标主机</li></ol> <ul><li>什么是环回地址</li></ul> <p>环回地址是不会流向网络的</p> <p>环回地址是在同一台计算机上的程序之间进行网络通信时所使用的一个默认地址。</p> <p>计算机使用一个特殊的 IP 地址 <strong>127.0.0.1 作为环回地址</strong>。与该地址具有相同意义的是一个叫做 <code>localhost</code> 的主机名。使用这个 IP 或主机名时，数据包不会流向网络。</p> <h3 id="ip的分片与重组"><a href="#ip的分片与重组" class="header-anchor">#</a> ip的分片与重组</h3> <h2 id="ip分片和重组"><a href="#ip分片和重组" class="header-anchor">#</a> IP分片和重组</h2> <p>在计算机网络中，IP分片和重组是两个重要的概念。IP分片是指将一个IP数据报分成多个较小的IP分片进行传输，而IP重组则是指在接收端重新组合这些分散在不同IP分片中的原始IP数据报的过程。本文将详细介绍IP分片和重组的过程，以及它们的影响和应用。</p> <h3 id="ip分片"><a href="#ip分片" class="header-anchor">#</a> IP分片</h3> <p>当一个IP数据报在发送端超过了MTU（Maximum Transmission Unit，最大传输单元）的限制，会被分成多个IP分片进行传输。MTU是指链路层所能传输的最大数据帧的大小。在传输过程中，这些分片可能会经过不同的网络路径，并可能以不同的顺序到达接收端。因此，接收端需要将这些分片重新组合成原始的IP数据报。</p> <p>IP分片是在网络层进行的，具体步骤如下：</p> <ol><li>发送端将要传输的IP数据报分成多个IP分片，每个分片的大小不超过MTU。</li> <li>发送端在每个IP分片的IP头中添加标识符和片偏移字段，以便接收端能够将它们组合成原始的IP数据报。</li> <li>发送端将每个IP分片单独传输，这些分片可能会经过不同的网络路径，并可能以不同的顺序到达接收端。</li> <li>接收端接收到一个IP分片时，会先检查IP头中的标识符和片偏移字段，以确定这个分片属于哪个IP数据报，以及这个分片在原始IP数据报中的位置。</li> <li>接收端将每个分片的有效负载（即不包括IP头）存储在缓冲区中，同时记录它们的偏移量和长度。</li> <li>接收端检查缓冲区中是否已经接收到了原始IP数据报的所有分片。如果没有，接收端会等待其余的分片到达，并继续存储它们的有效负载。</li> <li>一旦所有分片都到达，接收端会按照原始IP数据报中的片偏移字段，将它们组合成原始IP数据报。在组合过程中，接收端需要检查片偏移字段，以确保分片的顺序正确，并且没有丢失或重复的分片。</li></ol> <h3 id="ip重组"><a href="#ip重组" class="header-anchor">#</a> IP重组</h3> <p>IP重组是在接收端重新组合分散在不同IP分片中的原始IP数据报的过程。当一个IP数据报在发送端超过了MTU的限制，会被分成多个IP分片进行传输。在传输过程中，这些分散的IP分片可能会以不同的顺序到达接收端，因此接收端需要将这些分片重新组合成原始的IP数据报。IP重组是在网络层进行的，具体步骤如下：</p> <ol><li>接收端接收到一个IP分片时，会先检查IP头中的标识符和片偏移字段，以确定这个分片属于哪个IP数据报，以及这个分片在原始IP数据报中的位置。</li> <li>接收端将每个分片的有效负载（即不包括IP头）存储在缓冲区中，同时记录它们的偏移量和长度。</li> <li>接收端检查缓冲区中是否已经接收到了原始IP数据报的所有分片。如果没有，接收端会等待其余的分片到达，并继续存储它们的有效负载。</li> <li>一旦所有分片都到达，接收端会按照原始IP数据报中的片偏移字段，将它们组合成原始IP数据报。在组合过程中，接收端需要检查片偏移字段，以确保分片的顺序正确，并且没有丢失或重复的分片。</li> <li>组合完成后，接收端将重组后的IP数据报交给上层协议进行处理，例如TCP或UDP协议。</li></ol> <h3 id="ip分片和重组的影响和应用"><a href="#ip分片和重组的影响和应用" class="header-anchor">#</a> IP分片和重组的影响和应用</h3> <p>IP分片和重组会对网络性能和应用程序产生影响。IP分片可以在一定程度上提高网络的灵活性和可靠性，因为它可以处理各种MTU大小的网络，使得数据包可以经过不同的网络路径进行传输。但是，IP分片也会增加网络负担和延迟，因为它需要处理和组合分散的分片，并且如果分片丢失或重复，会导致原始IP数据报的丢失或损坏。</p> <p>为了解决这个问题，TCP引入了MSS（Maximum Segment Size，最大报文段长度）来控制每个TCP报文段的大小，以确保它们不会被IP分片。这样，TCP可以确保传输的可靠性，并且在分片时不会丢失或重复分片。对于UDP协议，我们需要注意发送的数据包大小，尽量不要发送一个大于MTU的数据报文。</p> <p>IP重组通常由操作系统内核处理，但是它也可能会由网络设备，如路由器和防火墙进行处理。在某些情况下，这些网络设备可能会丢弃IP分片，因为它们增加了网络负载并且可能导致性能下降。因此，应用程序和网络管理员应该尽可能避免使用IP分片和重组，以提高网络性能和可靠性。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>IP分片和重组是在网络层进行的，它们可以使得数据包可以经过不同的网络路径进行传输。IP分片可以在一定程度上提高网络的灵活性和可靠性，但是它也会增加网络负担和延迟，因为它需要处理和组合分散的分片，并且如果分片丢失或重复，会导致原始IP数据报的丢失或损坏。TCP引入了MSS来控制每个TCP报文段的大小，以确保它们不会被IP分片，以提高传输的可靠性，并且在分片时不会丢失或重复分片。UDP协议应该尽量避免发送一个大于MTU的数据报文，以避免IP分片和重组的影响。</p> <p>总之，了解IP分片和重组的工作原理和影响，对于设计网络应用程序和网络架构是非常重要的。在实际应用中，应该尽量避免使用IP分片和重组，以提高网络性能和可靠性。</p> <h3 id="ipv6"><a href="#ipv6" class="header-anchor">#</a> IPV6</h3> <p>结构</p> <p>优点</p> <p>如何进行分类的。</p> <h4 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h4> <p>DNS（Domain Name System，域名系统）是互联网中用于将域名解析为IP地址的分布式数据库系统，也是互联网中最重要的基础设施之一。在本文中，我们将介绍DNS的基本概念、工作原理和常见问题，以及在面试中可能会被问到的相关问题。</p> <h3 id="_1-dns基础概念"><a href="#_1-dns基础概念" class="header-anchor">#</a> 1. DNS基础概念</h3> <p>DNS是一种分布式数据库系统，它将域名解析为IP地址，从而允许用户通过易于记忆的名称来访问互联网上的资源。每个域名都可以看作是一个树形结构，根域名在顶部，其下有多个子域名，最终到达域名的末尾，也称为主机名。</p> <p>在DNS中，每个域名都映射到一个或多个IP地址，这些IP地址可以是IPv4地址或IPv6地址。域名的映射关系存储在分布式数据库中，由多个DNS服务器共同维护。为了提高性能和可靠性，DNS服务器通常会采用多级缓存机制，以避免频繁地查询其他DNS服务器。</p> <h3 id="_2-dns工作原理"><a href="#_2-dns工作原理" class="header-anchor">#</a> 2. DNS工作原理</h3> <p>DNS的工作原理可以分为以下几个步骤：</p> <ol><li>应用程序向本地DNS服务器发送域名查询请求。</li> <li>如果本地DNS服务器缓存了该域名的映射关系，则直接返回该映射关系，否则将查询请求转发到根DNS服务器。</li> <li><strong>根DNS服务器</strong>根据查询请求的顶级域名（如.com、.cn等）返回对应的<strong>顶级域名服务器</strong>地址。</li> <li>本地DNS服务器向顶级域名服务器发送查询请求。</li> <li>顶级域名服务器返回下一级域名服务器地址，本地DNS服务器再向下一级域名服务器发送查询请求，如此往复，直到查询到域名的映射关系。</li> <li>本地DNS服务器将查询结果返回给应用程序，<strong>并将查询结果缓存起来</strong>，以便下次查询时直接返回。</li></ol> <h3 id="_3-常见dns问题"><a href="#_3-常见dns问题" class="header-anchor">#</a> 3. 常见DNS问题</h3> <p>在面试中，可能会被问到一些与DNS相关的问题，以下是一些常见的问题及其答案：</p> <ul><li>DNS服务器是如何实现负载均衡的？</li></ul> <p>DNS服务器可以采用多种负载均衡算法，如轮询、随机、最少连接数等。其中，轮询算法是最常用的一种算法，它将查询请求平均分配到每个DNS服务器上。</p> <ul><li>为什么会有负载均衡</li></ul> <p>使用负载均衡是为了提高服务的可用性和可靠性，减轻单个服务器的负载压力，同时提高服务的性能和吞吐量。</p> <p>对于DNS服务器，由于其工作方式和负载均衡的目标相似，因此通常都是以集群的方式部署，即将多台服务器组成一个集群来共同处理查询请求。负载均衡器可以将查询请求分发到不同的DNS服务器上，从而使得整个DNS服务的负载得到均衡，并提高DNS服务的可用性和可靠性。</p> <p>在集群中，各个DNS服务器之间的数据同步也是非常重要的，确保各个服务器之间的数据保持一致。常见的同步方式包括：主从同步、多主同步、任意节点同步等。</p> <p>因此，对于DNS服务器而言，使用负载均衡是非常常见的做法，通过集群的方式来提高服务的可用性和可靠性，同时提高服务的性能和吞吐量。</p> <ul><li>DNS缓存是如何工作的？</li></ul> <p>DNS缓存可以分为两种类型：本地DNS服务器缓存和客户端缓存。本地DNS服务器缓存用于缓存查询结果，以避免频繁地查询其他DNS服务器，客户端缓存则用于缓存应用程序查询结果，以便快速访问相同的域名。当DNS服务器查询一个域名时，它会首先在本地DNS服务器缓存中查找，如果没有找到，则会向其他DNS服务器查询。查询结果会被缓存一段时间，以避免重复查询。</p> <ul><li>DNS有哪些记录类型？</li></ul> <p>DNS记录类型包括：A记录、AAAA记录、CNAME记录、MX记录、TXT记录等。其中，A记录用于将域名解析为IPv4地址，AAAA记录用于将域名解析为IPv6地址，CNAME记录用于将一个域名映射到另一个域名，MX记录用于指定域名的邮件服务器，TXT记录用于存储任意文本信息。</p> <ul><li>DNS解析过程中可能出现哪些问题？</li></ul> <p>DNS解析过程中可能出现的问题包括：DNS服务器故障、DNS缓存过期、域名不存在等。当DNS服务器故障时，查询请求无法得到响应，需要等待DNS服务器恢复正常；当DNS缓存过期时，查询结果可能已经失效，需要重新查询；当域名不存在时，查询请求会返回错误信息，应用程序需要做相应处理。</p> <h3 id="_4-总结"><a href="#_4-总结" class="header-anchor">#</a> 4. 总结</h3> <p>DNS是互联网中最重要的基础设施之一，它通过将域名解析为IP地址，允许用户通过易于记忆的名称来访问互联网上的资源。DNS的工作原理包括：应用程序向本地DNS服务器发送查询请求，本地DNS服务器根据查询请求向其他DNS服务器查询域名的映射关系，并将查询结果缓存起来。在面试中，可能会被问到与DNS相关的问题，需要掌握DNS的基本概念、工作原理和常见问题，以便应对面试考验。</p> <h3 id="arp"><a href="#arp" class="header-anchor">#</a> ARP</h3> <h3 id="rarp"><a href="#rarp" class="header-anchor">#</a> RARP</h3> <h3 id="dhcp"><a href="#dhcp" class="header-anchor">#</a> DHCP</h3> <ul><li>DHCP discover</li></ul> <p>client 68           server  67</p> <ul><li>DHCP offer</li></ul> <p>配置信息、IP地址、子网掩码、地址租期、默认网关、DNS服务器</p> <h3 id="ping"><a href="#ping" class="header-anchor">#</a> ping</h3> <p>涉及协议：ICMP</p> <p>主要功能：<strong>确认 IP 包是否成功送达目标地址、报告发送过程中 IP 包被废弃的原因和改善网络设置等。</strong></p> <h3 id="tranceroute"><a href="#tranceroute" class="header-anchor">#</a> tranceroute</h3> <p>traceroute 的第一个作用就是<strong>故意设置特殊的 TTL，来追踪去往目的地时沿途经过的路由器。</strong></p> <p>traceroute 的参数指向某个<strong>目的 IP 地址</strong>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">traceroute</span> <span class="token number">192.168</span>.1.100
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以知道沿途的所有机器的ip地址</p> <p>源主机会发送ICMP请求报文，要求TTL从1逐渐增大，目标端口设置为一个不可能存在的值。</p> <p>如果源主机收到了ICMP超时消息，那么就表示是ttl过期，我们可以将ttl增大1，继续发送icmp请求报文</p> <p>如果返回的是端口不可达，那就表示我们成功找到了目标主机，程序停止。</p> <p>第二个作用：</p> <p>traceroute 还有一个作用是<strong>故意设置不分片，从而确定路径的 MTU</strong>。</p> <h3 id="nat"><a href="#nat" class="header-anchor">#</a> NAT</h3> <h3 id="natp"><a href="#natp" class="header-anchor">#</a> NATP</h3> <h3 id="igmp"><a href="#igmp" class="header-anchor">#</a> IGMP</h3> <h3 id="icmp"><a href="#icmp" class="header-anchor">#</a> ICMP</h3> <p>在ip包发送的过程中，如果ip没有成功到达目的地值，那么ICMP就负责将ip包没有送达的原因进行通过</p> <p>数据包的格式大概如图所示</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230228152429510.png" alt="image-20230228152429510"></p> <p>ICMP包实际上是IP包，工作在网络层。</p> <p>ICMP通常有两种类型：</p> <ul><li>查询报文类型</li></ul> <p>8 回送请求 0回送应答</p> <p>一般通信作用在主机和路由器，判断所发送的数据包是否已经成功到达对端的一种消息，ping命令就是利用了这个查询报文类型。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230228153000178.png" alt="image-20230228153000178"></p> <p>相比于传统的格式，这里还多了两个字段，标识符（用于表示是主机哪个）、序号（每发送一次，就会给序列号加一，这样就可以约人网络包是否有丢失）</p> <p>在数据选项中，ping还会存放发送请求的时间值，来计算往返时间。</p> <ul><li>差错报文类型</li></ul> <p>3 目标不可达</p> <p>当一个路由器发现其所发送的数据包无法找到对应的目标时，就会向源主机发送一条目标不可到达的信息，其中会在代码字段包含具体不可达的原因：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token operator">-</span> 网络不可达代码为 <span class="token number">0</span>
IP 地址是分为网络号和主机号的，所以当路由器中的路由器表匹配不到接收方 IP 的网络号，就通过 ICMP 协议以网络不可达（Network Unreachable）的原因告知主机。

自从不再有网络分类以后，网络不可达也渐渐不再使用了。

<span class="token operator">-</span> 主机不可达代码为 <span class="token number">1</span>
	当路由表中没有该主机的信息，或者该主机没有连接到网络，那么会通过 ICMP 协议以主机不可达（Host Unreachable）的原因告知主机。
	
<span class="token operator">-</span> 协议不可达代码为 <span class="token number">2</span>
	当主机使用 TCP 协议访问对端主机时，能找到对端的主机了，可是对端主机的防火墙已经禁止 TCP 协议访问，那么会通过 ICMP 协议以协议不可达的原因告知主机。

<span class="token comment">#</span>

<span class="token operator">-</span> 端口不可达代码为 <span class="token number">3</span>
		当主机访问对端主机 <span class="token number">8080</span> 端口时，这次能找到对端主机了，防火墙也没有限制，可是发现对端主机没有进程监听 <span class="token number">8080</span> 端口，那么会通过 ICMP 协议以端口不可达的原因告知主机。

<span class="token operator">-</span> 需要进行分片但设置了不分片位代码为 <span class="token number">4</span>

		发送端主机发送 IP 数据报时，将 IP 首部的分片禁止标志位设置为<span class="token number">1</span>。根据这个标志位，途中的路由器遇到超过 MTU 大小的数据包时，不会进行分片，而是直接抛弃。
随后，通过一个 ICMP 的不可达消息类型，代码为 <span class="token number">4</span> 的报文，告知发送端主机。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>4 原点抑制</p> <p>在使用低速广域线路的情况下，连接 WAN 的路由器可能会遇到网络拥堵的问题。</p> <p><code>ICMP</code> 原点抑制消息的目的就是<strong>为了缓和这种拥堵情况</strong>。</p> <p>当路由器向低速线路发送数据时，其发送队列的缓存变为零而无法发送出去时，可以向 IP 包的源地址发送一个 ICMP <strong>原点抑制消息</strong>。</p> <p>收到这个消息的主机借此了解在整个线路的某一处发生了拥堵的情况，从而增大 IP 包的传输间隔，减少网络拥堵的情况。</p> <p>然而，由于这种 ICMP 可能会引起不公平的网络通信，一般不被使用。</p> <p>5 重定向</p> <p>如果路由器发现发送端主机使用了「不是最优」的路径发送数据，那么它会返回一个 ICMP <strong>重定向消息</strong>给这个主机。</p> <p>在这个消息中包含了<strong>最合适的路由信息和源数据</strong>。这主要发生在路由器持有更好的路由信息的情况下。路由器会通过这样的 ICMP 消息告知发送端，让它下次发给另外一个路由器。</p> <p>好比，小林本可以过条马路就能到的地方，但小林不知道，所以绕了一圈才到，后面小林知道后，下次小林就不会那么<strong>傻</strong>再绕一圈了。</p> <p>11 超时消息</p> <p>​	IP 包中有一个字段叫做 <code>TTL</code> （<code>Time To Live</code>，生存周期），它的<strong>值随着每经过一次路由器就会减 1，直到减到 0 时该 IP 包会被丢弃。</strong></p> <p>此时，路由器将会发送一个 ICMP <strong>超时消息</strong>给发送端主机，并通知该包已被丢弃。</p> <p>设置 IP 包生存周期的主要目的，是为了在路由控制遇到问题发生循环状况时，避免 IP 包无休止地在网络上被转发。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/2290653824/myVuePressBlog/edit/master/docs/40.常见框架/46.RPC/30.常见知识点.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/02/22, 14:03:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/eb6da4/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">有了RPC为什么还要HTTP</div></a> <a href="/pages/933c32/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">nio基础</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/eb6da4/" class="prev">有了RPC为什么还要HTTP</a></span> <span class="next"><a href="/pages/933c32/">nio基础</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e837ca/"><div>
            spark基础
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/41416f/"><div>
            mysql读写分离和分库分表
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c19608/"><div>
            数据库迁移
            <!----></div></a> <span class="date">02-22</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="2290653824@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/2290653824" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=430175831" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7d33bb02.js" defer></script><script src="/assets/js/2.15f2967d.js" defer></script><script src="/assets/js/140.1a2eba1e.js" defer></script>
  </body>
</html>
