<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>尚硅谷k8s | baby sword‘s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="java后端技术总结，生活记录。个人笔记">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.53c04193.css" as="style"><link rel="preload" href="/assets/js/app.7d33bb02.js" as="script"><link rel="preload" href="/assets/js/2.15f2967d.js" as="script"><link rel="preload" href="/assets/js/200.80915aee.js" as="script"><link rel="prefetch" href="/assets/js/10.dabe1a63.js"><link rel="prefetch" href="/assets/js/100.a2015101.js"><link rel="prefetch" href="/assets/js/101.86d0ebe4.js"><link rel="prefetch" href="/assets/js/102.9d17991d.js"><link rel="prefetch" href="/assets/js/103.d013e413.js"><link rel="prefetch" href="/assets/js/104.4580e90e.js"><link rel="prefetch" href="/assets/js/105.c98e8247.js"><link rel="prefetch" href="/assets/js/106.9512d8d6.js"><link rel="prefetch" href="/assets/js/107.dc6dd50f.js"><link rel="prefetch" href="/assets/js/108.36e17e32.js"><link rel="prefetch" href="/assets/js/109.952d543d.js"><link rel="prefetch" href="/assets/js/11.7ad42e2d.js"><link rel="prefetch" href="/assets/js/110.aae101ed.js"><link rel="prefetch" href="/assets/js/111.9ad19a52.js"><link rel="prefetch" href="/assets/js/112.0c3843ec.js"><link rel="prefetch" href="/assets/js/113.c5d4208b.js"><link rel="prefetch" href="/assets/js/114.09b4516e.js"><link rel="prefetch" href="/assets/js/115.8c6bacae.js"><link rel="prefetch" href="/assets/js/116.f6cb99af.js"><link rel="prefetch" href="/assets/js/117.d888ae3d.js"><link rel="prefetch" href="/assets/js/118.e1612eca.js"><link rel="prefetch" href="/assets/js/119.3b12ca64.js"><link rel="prefetch" href="/assets/js/12.d0f226ac.js"><link rel="prefetch" href="/assets/js/120.7bff079e.js"><link rel="prefetch" href="/assets/js/121.4e029ab8.js"><link rel="prefetch" href="/assets/js/122.f2575eb6.js"><link rel="prefetch" href="/assets/js/123.af6bedbe.js"><link rel="prefetch" href="/assets/js/124.1d9ff52d.js"><link rel="prefetch" href="/assets/js/125.8ce6c45b.js"><link rel="prefetch" href="/assets/js/126.74738876.js"><link rel="prefetch" href="/assets/js/127.469dca9c.js"><link rel="prefetch" href="/assets/js/128.733a2f9b.js"><link rel="prefetch" href="/assets/js/129.e3046663.js"><link rel="prefetch" href="/assets/js/13.ca9cb7b7.js"><link rel="prefetch" href="/assets/js/130.5f8a399c.js"><link rel="prefetch" href="/assets/js/131.f66f486f.js"><link rel="prefetch" href="/assets/js/132.3fcb4a90.js"><link rel="prefetch" href="/assets/js/133.e6a7cbf8.js"><link rel="prefetch" href="/assets/js/134.bc8d2a8b.js"><link rel="prefetch" href="/assets/js/135.240c78e9.js"><link rel="prefetch" href="/assets/js/136.008aca90.js"><link rel="prefetch" href="/assets/js/137.8bbcd666.js"><link rel="prefetch" href="/assets/js/138.bf695fc2.js"><link rel="prefetch" href="/assets/js/139.c00c9dc2.js"><link rel="prefetch" href="/assets/js/14.3885beda.js"><link rel="prefetch" href="/assets/js/140.1a2eba1e.js"><link rel="prefetch" href="/assets/js/141.c8600326.js"><link rel="prefetch" href="/assets/js/142.129fdc97.js"><link rel="prefetch" href="/assets/js/143.1bcbaa9c.js"><link rel="prefetch" href="/assets/js/144.77983828.js"><link rel="prefetch" href="/assets/js/145.18c96830.js"><link rel="prefetch" href="/assets/js/146.062c1576.js"><link rel="prefetch" href="/assets/js/147.4dffe67b.js"><link rel="prefetch" href="/assets/js/148.0a12fdd2.js"><link rel="prefetch" href="/assets/js/149.644d9858.js"><link rel="prefetch" href="/assets/js/15.981df7e3.js"><link rel="prefetch" href="/assets/js/150.3a56182c.js"><link rel="prefetch" href="/assets/js/151.abbd46e4.js"><link rel="prefetch" href="/assets/js/152.c54e620b.js"><link rel="prefetch" href="/assets/js/153.d9a8477a.js"><link rel="prefetch" href="/assets/js/154.c0737606.js"><link rel="prefetch" href="/assets/js/155.273b61be.js"><link rel="prefetch" href="/assets/js/156.ac322b48.js"><link rel="prefetch" href="/assets/js/157.29da92a5.js"><link rel="prefetch" href="/assets/js/158.20aa63c2.js"><link rel="prefetch" href="/assets/js/159.cb2bfda8.js"><link rel="prefetch" href="/assets/js/16.851e8b6c.js"><link rel="prefetch" href="/assets/js/160.c31eb98d.js"><link rel="prefetch" href="/assets/js/161.ba3b58c4.js"><link rel="prefetch" href="/assets/js/162.822b912d.js"><link rel="prefetch" href="/assets/js/163.fb89cac8.js"><link rel="prefetch" href="/assets/js/164.2ec85d97.js"><link rel="prefetch" href="/assets/js/165.80d69bc7.js"><link rel="prefetch" href="/assets/js/166.0734abd2.js"><link rel="prefetch" href="/assets/js/167.12b046ed.js"><link rel="prefetch" href="/assets/js/168.b0d4db24.js"><link rel="prefetch" href="/assets/js/169.238c1564.js"><link rel="prefetch" href="/assets/js/17.71993e7e.js"><link rel="prefetch" href="/assets/js/170.a20084f6.js"><link rel="prefetch" href="/assets/js/171.f7beebbd.js"><link rel="prefetch" href="/assets/js/172.edc29fbe.js"><link rel="prefetch" href="/assets/js/173.3fc5869c.js"><link rel="prefetch" href="/assets/js/174.82f26aa5.js"><link rel="prefetch" href="/assets/js/175.595120d6.js"><link rel="prefetch" href="/assets/js/176.05d37828.js"><link rel="prefetch" href="/assets/js/177.cd7feb20.js"><link rel="prefetch" href="/assets/js/178.a5982934.js"><link rel="prefetch" href="/assets/js/179.8c485f51.js"><link rel="prefetch" href="/assets/js/18.cba9194a.js"><link rel="prefetch" href="/assets/js/180.c219aac7.js"><link rel="prefetch" href="/assets/js/181.dfb84650.js"><link rel="prefetch" href="/assets/js/182.27cb275e.js"><link rel="prefetch" href="/assets/js/183.f163af9d.js"><link rel="prefetch" href="/assets/js/184.b18298e6.js"><link rel="prefetch" href="/assets/js/185.80fccb48.js"><link rel="prefetch" href="/assets/js/186.77df58b4.js"><link rel="prefetch" href="/assets/js/187.2ef89f60.js"><link rel="prefetch" href="/assets/js/188.fa837c00.js"><link rel="prefetch" href="/assets/js/189.28bd30b9.js"><link rel="prefetch" href="/assets/js/19.81dac5f4.js"><link rel="prefetch" href="/assets/js/190.29e7f541.js"><link rel="prefetch" href="/assets/js/191.0ba2207c.js"><link rel="prefetch" href="/assets/js/192.36dea193.js"><link rel="prefetch" href="/assets/js/193.cb147e1d.js"><link rel="prefetch" href="/assets/js/194.569ebd0a.js"><link rel="prefetch" href="/assets/js/195.fe0c4ebf.js"><link rel="prefetch" href="/assets/js/196.7943b4f0.js"><link rel="prefetch" href="/assets/js/197.15498b32.js"><link rel="prefetch" href="/assets/js/198.bf082825.js"><link rel="prefetch" href="/assets/js/199.f76dadbf.js"><link rel="prefetch" href="/assets/js/20.45d8ffc5.js"><link rel="prefetch" href="/assets/js/201.0fcd5a5e.js"><link rel="prefetch" href="/assets/js/202.ac356c7f.js"><link rel="prefetch" href="/assets/js/203.8b9abdf7.js"><link rel="prefetch" href="/assets/js/204.ceb5d675.js"><link rel="prefetch" href="/assets/js/205.292242cf.js"><link rel="prefetch" href="/assets/js/206.2e9cbdce.js"><link rel="prefetch" href="/assets/js/207.7a9094b4.js"><link rel="prefetch" href="/assets/js/208.c7ad7eab.js"><link rel="prefetch" href="/assets/js/209.681223ee.js"><link rel="prefetch" href="/assets/js/21.7a9f257f.js"><link rel="prefetch" href="/assets/js/210.3bbf8260.js"><link rel="prefetch" href="/assets/js/211.5bd34e61.js"><link rel="prefetch" href="/assets/js/212.dc330741.js"><link rel="prefetch" href="/assets/js/213.3cc734f7.js"><link rel="prefetch" href="/assets/js/214.91079873.js"><link rel="prefetch" href="/assets/js/215.25a0181b.js"><link rel="prefetch" href="/assets/js/216.3cb6f681.js"><link rel="prefetch" href="/assets/js/217.0187eee5.js"><link rel="prefetch" href="/assets/js/218.bb486cfa.js"><link rel="prefetch" href="/assets/js/219.5ca601a6.js"><link rel="prefetch" href="/assets/js/22.6aa340ac.js"><link rel="prefetch" href="/assets/js/220.f2fbfd29.js"><link rel="prefetch" href="/assets/js/221.c343eb87.js"><link rel="prefetch" href="/assets/js/222.eccb8faf.js"><link rel="prefetch" href="/assets/js/223.b6ee70d7.js"><link rel="prefetch" href="/assets/js/224.049967fd.js"><link rel="prefetch" href="/assets/js/225.e5573f45.js"><link rel="prefetch" href="/assets/js/226.f6133f9b.js"><link rel="prefetch" href="/assets/js/227.1d2bb9be.js"><link rel="prefetch" href="/assets/js/228.92c248b8.js"><link rel="prefetch" href="/assets/js/229.2da9b7fb.js"><link rel="prefetch" href="/assets/js/23.a2a5f82e.js"><link rel="prefetch" href="/assets/js/230.1ed17ebe.js"><link rel="prefetch" href="/assets/js/231.f9a8d324.js"><link rel="prefetch" href="/assets/js/232.d073b6b8.js"><link rel="prefetch" href="/assets/js/233.bec9cdbd.js"><link rel="prefetch" href="/assets/js/234.cb6a1e28.js"><link rel="prefetch" href="/assets/js/235.ebb74d27.js"><link rel="prefetch" href="/assets/js/236.24044479.js"><link rel="prefetch" href="/assets/js/237.f7c04397.js"><link rel="prefetch" href="/assets/js/238.affa4a25.js"><link rel="prefetch" href="/assets/js/239.2b15684a.js"><link rel="prefetch" href="/assets/js/24.4f94869e.js"><link rel="prefetch" href="/assets/js/240.524a5283.js"><link rel="prefetch" href="/assets/js/241.a6f85fbc.js"><link rel="prefetch" href="/assets/js/242.a5012b0f.js"><link rel="prefetch" href="/assets/js/243.f2872f9d.js"><link rel="prefetch" href="/assets/js/244.af8dce4a.js"><link rel="prefetch" href="/assets/js/245.913dd95f.js"><link rel="prefetch" href="/assets/js/246.46085f09.js"><link rel="prefetch" href="/assets/js/247.cab3066d.js"><link rel="prefetch" href="/assets/js/248.6ffe9bd2.js"><link rel="prefetch" href="/assets/js/249.940ac997.js"><link rel="prefetch" href="/assets/js/25.8beba237.js"><link rel="prefetch" href="/assets/js/250.24f5729f.js"><link rel="prefetch" href="/assets/js/251.040b7687.js"><link rel="prefetch" href="/assets/js/252.fce23e02.js"><link rel="prefetch" href="/assets/js/253.6aa072a9.js"><link rel="prefetch" href="/assets/js/254.fced3292.js"><link rel="prefetch" href="/assets/js/255.81bdb3ab.js"><link rel="prefetch" href="/assets/js/256.eee8f018.js"><link rel="prefetch" href="/assets/js/257.258e3d5f.js"><link rel="prefetch" href="/assets/js/258.53764d35.js"><link rel="prefetch" href="/assets/js/259.44220dff.js"><link rel="prefetch" href="/assets/js/26.38f820a6.js"><link rel="prefetch" href="/assets/js/260.a78371e6.js"><link rel="prefetch" href="/assets/js/261.e47bec83.js"><link rel="prefetch" href="/assets/js/262.cdc1b042.js"><link rel="prefetch" href="/assets/js/263.83db8a83.js"><link rel="prefetch" href="/assets/js/264.2f01d4cb.js"><link rel="prefetch" href="/assets/js/265.e174d060.js"><link rel="prefetch" href="/assets/js/266.96c46fc6.js"><link rel="prefetch" href="/assets/js/267.b73d8242.js"><link rel="prefetch" href="/assets/js/268.a71f8ffc.js"><link rel="prefetch" href="/assets/js/269.d962ab34.js"><link rel="prefetch" href="/assets/js/27.7eb3747a.js"><link rel="prefetch" href="/assets/js/270.09b33473.js"><link rel="prefetch" href="/assets/js/271.68955791.js"><link rel="prefetch" href="/assets/js/272.c673e920.js"><link rel="prefetch" href="/assets/js/273.a5e8096c.js"><link rel="prefetch" href="/assets/js/274.9df9cd64.js"><link rel="prefetch" href="/assets/js/275.8ad49720.js"><link rel="prefetch" href="/assets/js/276.31c0a4dc.js"><link rel="prefetch" href="/assets/js/277.fb617ede.js"><link rel="prefetch" href="/assets/js/278.f0919232.js"><link rel="prefetch" href="/assets/js/279.ac800bcf.js"><link rel="prefetch" href="/assets/js/28.632f9819.js"><link rel="prefetch" href="/assets/js/280.f4c522e5.js"><link rel="prefetch" href="/assets/js/281.819aa80e.js"><link rel="prefetch" href="/assets/js/282.235df8a4.js"><link rel="prefetch" href="/assets/js/283.246395f4.js"><link rel="prefetch" href="/assets/js/284.5b296a3d.js"><link rel="prefetch" href="/assets/js/285.67018b71.js"><link rel="prefetch" href="/assets/js/286.a6ef00c7.js"><link rel="prefetch" href="/assets/js/287.99e52f33.js"><link rel="prefetch" href="/assets/js/288.18c31c85.js"><link rel="prefetch" href="/assets/js/289.2b552251.js"><link rel="prefetch" href="/assets/js/29.bfe31680.js"><link rel="prefetch" href="/assets/js/290.4b447987.js"><link rel="prefetch" href="/assets/js/291.3baa6247.js"><link rel="prefetch" href="/assets/js/292.8f5062ef.js"><link rel="prefetch" href="/assets/js/293.27c0a1dc.js"><link rel="prefetch" href="/assets/js/294.b0e5601c.js"><link rel="prefetch" href="/assets/js/295.f9b5b950.js"><link rel="prefetch" href="/assets/js/296.8a4a804f.js"><link rel="prefetch" href="/assets/js/297.01257458.js"><link rel="prefetch" href="/assets/js/298.4f017ceb.js"><link rel="prefetch" href="/assets/js/299.2da46571.js"><link rel="prefetch" href="/assets/js/3.65858833.js"><link rel="prefetch" href="/assets/js/30.1002dcb7.js"><link rel="prefetch" href="/assets/js/300.04bb66c3.js"><link rel="prefetch" href="/assets/js/301.9d789323.js"><link rel="prefetch" href="/assets/js/302.0905baf4.js"><link rel="prefetch" href="/assets/js/303.c6c45c69.js"><link rel="prefetch" href="/assets/js/304.00ef9abe.js"><link rel="prefetch" href="/assets/js/305.677e68b7.js"><link rel="prefetch" href="/assets/js/306.d0835ab7.js"><link rel="prefetch" href="/assets/js/307.bae3749e.js"><link rel="prefetch" href="/assets/js/308.ee85cd01.js"><link rel="prefetch" href="/assets/js/309.9d1f2a4b.js"><link rel="prefetch" href="/assets/js/31.558ae079.js"><link rel="prefetch" href="/assets/js/310.265d04c7.js"><link rel="prefetch" href="/assets/js/311.17cbe447.js"><link rel="prefetch" href="/assets/js/312.346fc5ee.js"><link rel="prefetch" href="/assets/js/313.76199886.js"><link rel="prefetch" href="/assets/js/314.d1057d8a.js"><link rel="prefetch" href="/assets/js/315.23751dda.js"><link rel="prefetch" href="/assets/js/316.d1e575c4.js"><link rel="prefetch" href="/assets/js/317.c2a8bc29.js"><link rel="prefetch" href="/assets/js/318.c547f900.js"><link rel="prefetch" href="/assets/js/319.3b387670.js"><link rel="prefetch" href="/assets/js/32.6f1977bb.js"><link rel="prefetch" href="/assets/js/320.0e4c3b38.js"><link rel="prefetch" href="/assets/js/321.6521e785.js"><link rel="prefetch" href="/assets/js/322.1f13f126.js"><link rel="prefetch" href="/assets/js/323.be785ecc.js"><link rel="prefetch" href="/assets/js/324.2d6515ef.js"><link rel="prefetch" href="/assets/js/325.0ab7f9ac.js"><link rel="prefetch" href="/assets/js/326.9b8a19a0.js"><link rel="prefetch" href="/assets/js/327.a6f2ffa3.js"><link rel="prefetch" href="/assets/js/328.ffb78689.js"><link rel="prefetch" href="/assets/js/329.caf6b6ea.js"><link rel="prefetch" href="/assets/js/33.373c3b91.js"><link rel="prefetch" href="/assets/js/330.f23dce5f.js"><link rel="prefetch" href="/assets/js/331.72924748.js"><link rel="prefetch" href="/assets/js/332.3836e7f7.js"><link rel="prefetch" href="/assets/js/333.67e7409c.js"><link rel="prefetch" href="/assets/js/334.b724e2e8.js"><link rel="prefetch" href="/assets/js/335.a3b2da56.js"><link rel="prefetch" href="/assets/js/336.2b428412.js"><link rel="prefetch" href="/assets/js/337.359508c5.js"><link rel="prefetch" href="/assets/js/338.b2326734.js"><link rel="prefetch" href="/assets/js/339.3bf7fea4.js"><link rel="prefetch" href="/assets/js/34.490080fd.js"><link rel="prefetch" href="/assets/js/340.d318bc78.js"><link rel="prefetch" href="/assets/js/341.2e4d7494.js"><link rel="prefetch" href="/assets/js/342.3dd76710.js"><link rel="prefetch" href="/assets/js/343.e06d2cd3.js"><link rel="prefetch" href="/assets/js/344.89f98670.js"><link rel="prefetch" href="/assets/js/345.ae8d10b7.js"><link rel="prefetch" href="/assets/js/346.2ca232aa.js"><link rel="prefetch" href="/assets/js/347.7093141c.js"><link rel="prefetch" href="/assets/js/348.4ded54aa.js"><link rel="prefetch" href="/assets/js/349.f2f3de7a.js"><link rel="prefetch" href="/assets/js/35.303e0d83.js"><link rel="prefetch" href="/assets/js/350.88f21b2b.js"><link rel="prefetch" href="/assets/js/351.df3bf6ec.js"><link rel="prefetch" href="/assets/js/352.5487b192.js"><link rel="prefetch" href="/assets/js/353.46746b90.js"><link rel="prefetch" href="/assets/js/354.44942fe7.js"><link rel="prefetch" href="/assets/js/355.c1941c58.js"><link rel="prefetch" href="/assets/js/356.08b96daf.js"><link rel="prefetch" href="/assets/js/357.61de5029.js"><link rel="prefetch" href="/assets/js/358.dd8ffb5f.js"><link rel="prefetch" href="/assets/js/359.13558983.js"><link rel="prefetch" href="/assets/js/36.a0d30943.js"><link rel="prefetch" href="/assets/js/360.2ad56070.js"><link rel="prefetch" href="/assets/js/361.3793119e.js"><link rel="prefetch" href="/assets/js/362.8f627cfe.js"><link rel="prefetch" href="/assets/js/363.47c7e111.js"><link rel="prefetch" href="/assets/js/364.1550afcc.js"><link rel="prefetch" href="/assets/js/365.8b746335.js"><link rel="prefetch" href="/assets/js/366.0b1fa772.js"><link rel="prefetch" href="/assets/js/367.ee23b98a.js"><link rel="prefetch" href="/assets/js/368.e438a39c.js"><link rel="prefetch" href="/assets/js/369.4a61dd03.js"><link rel="prefetch" href="/assets/js/37.4284cc0c.js"><link rel="prefetch" href="/assets/js/370.69adb26c.js"><link rel="prefetch" href="/assets/js/371.0192e779.js"><link rel="prefetch" href="/assets/js/372.6d850781.js"><link rel="prefetch" href="/assets/js/373.eb913a40.js"><link rel="prefetch" href="/assets/js/374.a1770de3.js"><link rel="prefetch" href="/assets/js/375.5493fcc6.js"><link rel="prefetch" href="/assets/js/376.9e13ab67.js"><link rel="prefetch" href="/assets/js/377.f9dee5a7.js"><link rel="prefetch" href="/assets/js/378.dade2491.js"><link rel="prefetch" href="/assets/js/379.707a72b7.js"><link rel="prefetch" href="/assets/js/38.a5f4c0b4.js"><link rel="prefetch" href="/assets/js/380.a754e171.js"><link rel="prefetch" href="/assets/js/381.0e200507.js"><link rel="prefetch" href="/assets/js/382.bff69b7e.js"><link rel="prefetch" href="/assets/js/383.0e26f22d.js"><link rel="prefetch" href="/assets/js/384.70cfdd5d.js"><link rel="prefetch" href="/assets/js/385.7cd56e59.js"><link rel="prefetch" href="/assets/js/386.8d8ae20c.js"><link rel="prefetch" href="/assets/js/387.017c1a90.js"><link rel="prefetch" href="/assets/js/388.003eda57.js"><link rel="prefetch" href="/assets/js/389.e9c2ebd4.js"><link rel="prefetch" href="/assets/js/39.d70df4df.js"><link rel="prefetch" href="/assets/js/390.ee4577b4.js"><link rel="prefetch" href="/assets/js/391.295ea24c.js"><link rel="prefetch" href="/assets/js/392.cd9b2c07.js"><link rel="prefetch" href="/assets/js/393.83e0324c.js"><link rel="prefetch" href="/assets/js/394.c5c6ee2a.js"><link rel="prefetch" href="/assets/js/395.5e92d62c.js"><link rel="prefetch" href="/assets/js/396.45440149.js"><link rel="prefetch" href="/assets/js/397.2e9c4d79.js"><link rel="prefetch" href="/assets/js/398.2faad846.js"><link rel="prefetch" href="/assets/js/399.d28827bb.js"><link rel="prefetch" href="/assets/js/4.be154c6d.js"><link rel="prefetch" href="/assets/js/40.0e7741b1.js"><link rel="prefetch" href="/assets/js/400.f47d0892.js"><link rel="prefetch" href="/assets/js/401.81b1faad.js"><link rel="prefetch" href="/assets/js/402.5dcee620.js"><link rel="prefetch" href="/assets/js/403.ca06d49f.js"><link rel="prefetch" href="/assets/js/404.0108fa08.js"><link rel="prefetch" href="/assets/js/405.c209c80d.js"><link rel="prefetch" href="/assets/js/406.22242ecd.js"><link rel="prefetch" href="/assets/js/407.636d72f6.js"><link rel="prefetch" href="/assets/js/408.2114030b.js"><link rel="prefetch" href="/assets/js/409.0376024e.js"><link rel="prefetch" href="/assets/js/41.12ed2989.js"><link rel="prefetch" href="/assets/js/410.1777965c.js"><link rel="prefetch" href="/assets/js/411.ef129704.js"><link rel="prefetch" href="/assets/js/412.94623570.js"><link rel="prefetch" href="/assets/js/413.ab7078ca.js"><link rel="prefetch" href="/assets/js/414.9af06b0d.js"><link rel="prefetch" href="/assets/js/415.e7de3e45.js"><link rel="prefetch" href="/assets/js/416.1a6c50b3.js"><link rel="prefetch" href="/assets/js/417.76759517.js"><link rel="prefetch" href="/assets/js/418.2dff2af0.js"><link rel="prefetch" href="/assets/js/419.4ecbfc19.js"><link rel="prefetch" href="/assets/js/42.9ce2dafa.js"><link rel="prefetch" href="/assets/js/420.7c34868f.js"><link rel="prefetch" href="/assets/js/421.538335ca.js"><link rel="prefetch" href="/assets/js/422.da47dc21.js"><link rel="prefetch" href="/assets/js/423.e3b38e9c.js"><link rel="prefetch" href="/assets/js/424.04a76082.js"><link rel="prefetch" href="/assets/js/425.419f9989.js"><link rel="prefetch" href="/assets/js/426.fffcc7ef.js"><link rel="prefetch" href="/assets/js/427.9e079a21.js"><link rel="prefetch" href="/assets/js/428.ce33c968.js"><link rel="prefetch" href="/assets/js/429.a4e784c3.js"><link rel="prefetch" href="/assets/js/43.444176d4.js"><link rel="prefetch" href="/assets/js/430.acdd537f.js"><link rel="prefetch" href="/assets/js/431.3d619af2.js"><link rel="prefetch" href="/assets/js/432.f73efd71.js"><link rel="prefetch" href="/assets/js/433.a4cfcb90.js"><link rel="prefetch" href="/assets/js/44.6b486ceb.js"><link rel="prefetch" href="/assets/js/45.2b0cc8b1.js"><link rel="prefetch" href="/assets/js/46.fd2da8aa.js"><link rel="prefetch" href="/assets/js/47.f7b70d96.js"><link rel="prefetch" href="/assets/js/48.5cc6e7e9.js"><link rel="prefetch" href="/assets/js/49.3ba51b5e.js"><link rel="prefetch" href="/assets/js/5.5aa9e0f7.js"><link rel="prefetch" href="/assets/js/50.cfb28ca0.js"><link rel="prefetch" href="/assets/js/51.1241594b.js"><link rel="prefetch" href="/assets/js/52.3fae4eef.js"><link rel="prefetch" href="/assets/js/53.553bfcb3.js"><link rel="prefetch" href="/assets/js/54.2662d576.js"><link rel="prefetch" href="/assets/js/55.94f132f1.js"><link rel="prefetch" href="/assets/js/56.c48de3a0.js"><link rel="prefetch" href="/assets/js/57.9205b377.js"><link rel="prefetch" href="/assets/js/58.618d72ce.js"><link rel="prefetch" href="/assets/js/59.bf2a8650.js"><link rel="prefetch" href="/assets/js/6.1063792f.js"><link rel="prefetch" href="/assets/js/60.2a047c47.js"><link rel="prefetch" href="/assets/js/61.d47fd11d.js"><link rel="prefetch" href="/assets/js/62.8c29dffd.js"><link rel="prefetch" href="/assets/js/63.16bb986d.js"><link rel="prefetch" href="/assets/js/64.bc64102f.js"><link rel="prefetch" href="/assets/js/65.1169c72f.js"><link rel="prefetch" href="/assets/js/66.824d09da.js"><link rel="prefetch" href="/assets/js/67.ce84321c.js"><link rel="prefetch" href="/assets/js/68.8595c270.js"><link rel="prefetch" href="/assets/js/69.89e05461.js"><link rel="prefetch" href="/assets/js/7.bccc53b9.js"><link rel="prefetch" href="/assets/js/70.8fbede4d.js"><link rel="prefetch" href="/assets/js/71.01a73ce4.js"><link rel="prefetch" href="/assets/js/72.1e0dd7f1.js"><link rel="prefetch" href="/assets/js/73.24f77f07.js"><link rel="prefetch" href="/assets/js/74.0c83a59d.js"><link rel="prefetch" href="/assets/js/75.bd6435e0.js"><link rel="prefetch" href="/assets/js/76.94a80511.js"><link rel="prefetch" href="/assets/js/77.a27d1809.js"><link rel="prefetch" href="/assets/js/78.83ab434c.js"><link rel="prefetch" href="/assets/js/79.cf8518ea.js"><link rel="prefetch" href="/assets/js/8.45f7d402.js"><link rel="prefetch" href="/assets/js/80.596962e9.js"><link rel="prefetch" href="/assets/js/81.63120495.js"><link rel="prefetch" href="/assets/js/82.21ad56f5.js"><link rel="prefetch" href="/assets/js/83.baab9377.js"><link rel="prefetch" href="/assets/js/84.f53f30b8.js"><link rel="prefetch" href="/assets/js/85.8523fba7.js"><link rel="prefetch" href="/assets/js/86.db32bca6.js"><link rel="prefetch" href="/assets/js/87.1154c1cd.js"><link rel="prefetch" href="/assets/js/88.3fe0517a.js"><link rel="prefetch" href="/assets/js/89.ba98eb57.js"><link rel="prefetch" href="/assets/js/9.84f6f752.js"><link rel="prefetch" href="/assets/js/90.7abbd7d9.js"><link rel="prefetch" href="/assets/js/91.62d46791.js"><link rel="prefetch" href="/assets/js/92.3738d8e0.js"><link rel="prefetch" href="/assets/js/93.558070f9.js"><link rel="prefetch" href="/assets/js/94.3c8015f9.js"><link rel="prefetch" href="/assets/js/95.4071db60.js"><link rel="prefetch" href="/assets/js/96.26f85934.js"><link rel="prefetch" href="/assets/js/97.5b1f6f77.js"><link rel="prefetch" href="/assets/js/98.0bd39397.js"><link rel="prefetch" href="/assets/js/99.51095dbe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53c04193.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="baby sword‘s blog" class="logo"> <span class="site-name can-hide">baby sword‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/589ca9/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/589ca9/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/myAvator.png"> <div class="blogger-info"><h3>zhengjian</h3> <span>不敢承担失去的风险，是不可能抓住梦想的</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><a href="/javakownledge/" class="link-title">java</a> <span class="title" style="display:none;">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javabasic/" class="nav-link">java基础</a></li><li class="dropdown-item"><!----> <a href="/javaadvance/" class="nav-link">java进阶</a></li></ul></div></div><div class="nav-item"><a href="/bigdata/" class="nav-link">大数据</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlIndex/" class="nav-link">mysql索引</a></li><li class="dropdown-subitem"><a href="/mysqllog/" class="nav-link">mysql日志</a></li></ul></li><li class="dropdown-item"><h4>redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/singleredis/" class="nav-link">单机下的redis</a></li><li class="dropdown-subitem"><a href="/mostredis/" class="nav-link">集群下的redis</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常见框架" class="dropdown-title"><a href="/structure/" class="link-title">常见框架</a> <span class="title" style="display:none;">常见框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/structure/Spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/structure/springboot/" class="nav-link">springboot</a></li><li class="dropdown-item"><!----> <a href="/structure/RPC/" class="nav-link">RPC</a></li><li class="dropdown-item"><!----> <a href="/structure/netty/" class="nav-link">netty</a></li><li class="dropdown-item"><!----> <a href="/structure/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/structure/maven/" class="nav-link">maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middleware/messageQueue/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/middleware/kafka/" class="nav-link">kafka</a></li><li class="dropdown-item"><!----> <a href="/middleware/zookeeper/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/middleware/rocketmq/" class="nav-link">rocketmq</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><a href="/designmode/" class="link-title">设计模式</a> <span class="title" style="display:none;">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9685d5/" class="nav-link">七大设计原则</a></li><li class="dropdown-item"><!----> <a href="/create/" class="nav-link">创建型模式</a></li><li class="dropdown-item"><!----> <a href="/structural/" class="nav-link">结构型模式</a></li><li class="dropdown-item"><!----> <a href="/action/" class="nav-link">行为型模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microservice/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SpringCloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/eureka/" class="nav-link">eureka</a></li></ul></li><li class="dropdown-item"><h4>SpringCloud Alibaba</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nacos/" class="nav-link">nacos</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/computer/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/operationsystem/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工作" class="dropdown-title"><a href="/work/" class="link-title">工作</a> <span class="title" style="display:none;">工作</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/privateProject/" class="nav-link">个人项目</a></li><li class="dropdown-item"><!----> <a href="/privateInterviewExperience/" class="nav-link">个人面试面经</a></li><li class="dropdown-item"><!----> <a href="/stereotypedMemory/" class="nav-link">八股记忆</a></li><li class="dropdown-item"><!----> <a href="/workAccumulation/" class="nav-link">工作积累</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/589ca9/404" class="nav-link">逻辑题</a></li><li class="dropdown-item"><h4>面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/589ca9/404" class="nav-link">百度后端实习二面</a></li></ul></li></ul></div></div> <a href="https://github.com/2290653824/myVuePressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Cloud</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Cloud Alibaba</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>k8s</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Arthas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>k8s</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/589ca9/" aria-current="page" class="active sidebar-link">尚硅谷k8s</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#介绍说明" class="sidebar-link">介绍说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#前生今世" class="sidebar-link">前生今世</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#组件框架" class="sidebar-link">组件框架</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#borg" class="sidebar-link">borg</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#kebernates" class="sidebar-link">kebernates</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#其他重要的组件" class="sidebar-link">其他重要的组件</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#关键字" class="sidebar-link">关键字</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#基础概念" class="sidebar-link">基础概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#pod概念" class="sidebar-link">pod概念</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#管理器" class="sidebar-link">管理器</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#什么是管理器" class="sidebar-link">什么是管理器</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#rc、rs、dy" class="sidebar-link">rc、rs、dy</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#statefullset" class="sidebar-link">statefullSet</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#daemonset" class="sidebar-link">daemonSet</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#job、cronjob" class="sidebar-link">JOB、CronJob</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#扩展" class="sidebar-link">扩展</a></li><li class="sidebar-sub-header level5"><a href="/pages/589ca9/#cloneset" class="sidebar-link">CloneSet</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#通讯模式" class="sidebar-link">通讯模式</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#服务发现" class="sidebar-link">服务发现</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#网络模型" class="sidebar-link">网络模型</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#kubernates" class="sidebar-link">kubernates</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#自行构建集群" class="sidebar-link">自行构建集群</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#资源清单" class="sidebar-link">资源清单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#k8s中的资源" class="sidebar-link">k8s中的资源</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#语法-资源清单" class="sidebar-link">语法 资源清单</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#编写资源清单" class="sidebar-link">编写资源清单</a></li><li class="sidebar-sub-header level3"><a href="/pages/589ca9/#pod生命周期-重难点" class="sidebar-link">pod生命周期（重难点）</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#容器环境初始化" class="sidebar-link">容器环境初始化</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#init" class="sidebar-link">init</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#start" class="sidebar-link">start</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#stop" class="sidebar-link">stop</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#readiness" class="sidebar-link">readiness</a></li><li class="sidebar-sub-header level4"><a href="/pages/589ca9/#liveness" class="sidebar-link">liveness</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#pod-控制器-灵魂" class="sidebar-link">pod 控制器（灵魂）</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#服务发现-2" class="sidebar-link">服务发现</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#存储" class="sidebar-link">存储</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#调度器" class="sidebar-link">调度器</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#安全机制" class="sidebar-link">安全机制</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#helm" class="sidebar-link">HELM</a></li><li class="sidebar-sub-header level2"><a href="/pages/589ca9/#运维" class="sidebar-link">运维</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Prometheus</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分布式架构</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/microservice/#微服务" data-v-06225672>微服务</a></li><li data-v-06225672><a href="/microservice/#k8s" data-v-06225672>k8s</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xugaoyi" target="_blank" title="作者" class="beLink" data-v-06225672>xugaoyi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-01-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">尚硅谷k8s<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>基础设施即服务</p> <p>平台即服务</p> <p>软件设施即服务</p> <p>问题：</p> <p>在最老的未服务架构中，我们一台机器部署一个应用，每个机器之间通过地址端口就可以进行通信。</p> <p>但是当我们使用容器技术时，每个容器中的端口需要映射到机器的实际端口，这种端口映射在服务很多后就很难管理，这时候我们就需要一种很好的管理工具。</p> <p>解决方案：</p> <ol><li>资源管理器 MESOS</li></ol> <p>2019 推特由MESOS转向k8s</p> <ol start="2"><li>docker SWARM</li></ol> <p>缺点：不能进行回滚等功能</p> <p>2019 阿里云不再使用</p> <ol start="3"><li>kubernetes</li></ol> <p>google、go语言编写</p> <p>特点：</p> <p>轻量级：消耗的资源少</p> <h2 id="介绍说明"><a href="#介绍说明" class="header-anchor">#</a> 介绍说明</h2> <h3 id="前生今世"><a href="#前生今世" class="header-anchor">#</a> 前生今世</h3> <h3 id="组件框架"><a href="#组件框架" class="header-anchor">#</a> 组件框架</h3> <h4 id="borg"><a href="#borg" class="header-anchor">#</a> borg</h4> <p>了解组件的前提，先了解borg的架构</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230116235941881.png" alt="image-20230116235941881"></p> <ul><li>borgmaster</li></ul> <p>首先borgMaster主要用作流量的分发，可以处理当一个请求过来了，相应的流量可以打到哪个borglet地方。</p> <ul><li>borglet</li></ul> <p>每一个具体的服务对应的节点，可能对应着一个服务</p> <ul><li>访问方式</li></ul> <p>borgmaster有3种访问方式</p> <ol><li>命令行</li> <li>浏览器</li> <li>文件</li></ol> <ul><li><p>Schedule</p> <p>调度器。决定调度的顺序。会将相应的调度保存到数据库paxos，然后borglet定时去数据库拉取数据。</p></li></ul> <h4 id="kebernates"><a href="#kebernates" class="header-anchor">#</a> kebernates</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117001051135.png" alt="image-20230117001051135"></p> <ul><li>api server</li></ul> <p>所有服务访问的入口</p> <ul><li>scheduel</li></ul> <p>负责接收任务，选择合适的节点进行分配任务</p> <ul><li>控制器ControllerManager</li></ul> <p>维护副本期望的数目，一个node可以设置一个期望的副本数目。</p> <p>副本数量最好为&gt;=3的基数个</p> <ul><li>etcd</li></ul> <p>存储k8s所有重要信息（持久化）</p> <p>一个可信耐的分布式键值存储服务，它能为整个分布式集群存储一些关键数据，协助分布式集群的正常运转。</p> <p>分为两种版本：memery和database</p> <p>注意：kubuernates v1.11后etcd ，memery已经被弃用</p> <p>etcd架构图：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117001912609.png" alt="image-20230117001912609"></p> <p>类比mysql，预写日志。</p> <ul><li>kubelet</li></ul> <p>直接跟容器引擎交互实现容器的生命周期管理</p> <ul><li>kubeproxy</li></ul> <p>负责写入规则至IPTAVLES、IPVS实现服务的映射</p> <h4 id="其他重要的组件"><a href="#其他重要的组件" class="header-anchor">#</a> 其他重要的组件</h4> <ul><li>coreDNS（重要）</li></ul> <p>可以为集群中的SVC创建一个域名的对应关系解析</p> <ul><li>dashboard</li></ul> <p>给k8s提供b/s结构访问体系</p> <ul><li>ingress controller</li></ul> <p>官方只能实现4层代理，ingress可以实现7层代理</p> <ul><li>fedetation：提供一个可以夸集群中心多k8s统一管理的功能</li> <li>prometheus</li></ul> <p>提供一个k8s集群的监控能力</p> <ul><li>ELK</li></ul> <p>提供k8s日志统一接入平台</p> <h3 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h3> <h2 id="基础概念"><a href="#基础概念" class="header-anchor">#</a> 基础概念</h2> <h3 id="pod概念"><a href="#pod概念" class="header-anchor">#</a> pod概念</h3> <p>管理的最小单位</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117003951692.png" alt="image-20230117003951692"></p> <p>概念：一个pod中，可能存在多个容器。启动一个pod，必须先要启动一个pause容器，然后再启动其他的容器A、B。启动后AB网络共享、存储卷共享，即AB两者采用映射的方式都使用的是pause的网络和存储。</p> <ul><li>自主式 Pod</li></ul> <h3 id="管理器"><a href="#管理器" class="header-anchor">#</a> 管理器</h3> <h4 id="什么是管理器"><a href="#什么是管理器" class="header-anchor">#</a> 什么是管理器</h4> <p>K8S是<a href="https://cloud.tencent.com/product/tke?from=10680" target="_blank" rel="noopener noreferrer">容器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>资源管理和调度平台，容器跑在Pod里，Pod是K8S里最小的单元。所以，这些Pod作为一个个单元我们肯定需要去操作它的状态和生命周期。那么如何操作？这里就需要用到控制器了。</p> <p>这里一个比较通俗的公式：<strong>应用APP = 网络 + 载体 + 存储</strong></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117123355829.png" alt="image-20230117123355829"></p> <p>这里应用一般分为无状态应用、有状态应用、守护型应用、批处理应用这四种。</p> <ul><li><p><strong>无状态应用</strong></p> <p>应用实例不涉及事务交互，不产生持久化<a href="https://cloud.tencent.com/product/cdcs?from=10680" target="_blank" rel="noopener noreferrer">数据存储<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>在本地，并且多个应用实例对于同一个请求响应的结果是完全一致的。举例：nginx或者tomcat</p></li> <li><p><strong>有状态应用</strong></p> <p>有状态服务可以说是需要数据存储功能的服务或者指多线程类型的服务、队列等。举例：mysql<a href="https://cloud.tencent.com/solution/database?from=10680" target="_blank" rel="noopener noreferrer">数据库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、kafka、redis、zookeeper等。</p></li> <li><p><strong>守护型应用</strong></p> <p>类似守护进程一样，长期保持运行，监听持续的提供服务。举例：ceph、logstash、fluentd等。</p></li> <li><p><strong>批处理应用</strong></p> <p>工作任务型的服务，通常是一次性的。举例：运行一个批量改文件夹名字的脚本。</p></li></ul> <p>这些类型的应用服务如果是安装在传统的物理机或者虚拟机上，那么我们一般会通过人肉方式或者自动化工具的方式去管理编排。但是这些服务一旦容器化了跑在了Pod里，那么就应该按照K8S的控制方式来管理了。上一篇文章我们讲到了编排，那么K8S靠什么具体的操作来做编排？答案就是这些控制器。</p> <p>不会被管理器管理，死亡后不会复活</p> <ul><li>控制器管理的Pod</li></ul> <h4 id="rc、rs、dy"><a href="#rc、rs、dy" class="header-anchor">#</a> rc、rs、dy</h4> <p>pod管理器</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117004515662.png" alt="image-20230117004515662"></p> <p>rs在大型项目中可以过滤标签进行管理,新版本已经抛弃了RC</p> <p>deployment支持滚动更新：创建一个新的，删除一个旧的，进行滚动的更新。即当我们要更新一个pod时，会先删除一个新的，再删除一个旧的，这样可以让更新更加平滑。但是deployment并不支持pod的创建。</p> <ul><li>deployment创建流程</li></ul> <p>dy创建后，会由dy自己创建一个rs，rs会创建对应的pod。</p> <ul><li>更新流程</li></ul> <p>因为采用的是滚动更新，此时dy会创建一个新的rs-1，然后进行滚动更新流程，rs-1更新的一个，rs中的pod停用一个，以此类推。更新完成后rs不会被删除而是停用</p> <ul><li>回滚</li></ul> <p>因为之前的rs并没有被删除，所以可以支持回滚</p> <p>HPA （HorizontalPodAutoScale）</p> <p>仅适用于deployment和replicaSet，在V1版本中仅支持根据pod的cpu利用率扩容，在vlapha版本中，支持根据内容和自定义用户的metric扩容</p> <p>解释：HPA会根据dy或rs中的pod的cpu利用率来创建新的pod或者回收pod。即可以根据节点性能自动创建或删除pod</p> <h4 id="statefullset"><a href="#statefullset" class="header-anchor">#</a> statefullSet</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117102321866.png" alt="image-20230117102321866"></p> <p>docker是无状态的服务，而k8s是有状态的服务</p> <p>有序删除：比如一个服务中，需要按照流程顺序启动mysql、apache、nginx等，如果顺序乱了，可能会报错</p> <h4 id="daemonset"><a href="#daemonset" class="header-anchor">#</a> daemonSet</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedundefinedimage-20230117102321866.png" alt=""></p> <p>不懂 TODO</p> <h4 id="job、cronjob"><a href="#job、cronjob" class="header-anchor">#</a> JOB、CronJob</h4> <h4 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h4> <h5 id="cloneset"><a href="#cloneset" class="header-anchor">#</a> CloneSet</h5> <p>扩展了deployment</p> <p><a href="https://openkruise.io/zh/docs/user-manuals/cloneset/" target="_blank" rel="noopener noreferrer">CloneSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117104350199.png" alt="image-20230117104350199"></p> <h3 id="通讯模式"><a href="#通讯模式" class="header-anchor">#</a> 通讯模式</h3> <p>pod与pod之间的通讯</p> <h4 id="服务发现"><a href="#服务发现" class="header-anchor">#</a> 服务发现</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117104635130.png" alt="image-20230117104635130"></p> <p>service可以通过管理器去发现一组pod，service有一个地址和端口，这样client就可以访问service，service再通过负载均衡访问到pod</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117105612827.png" alt="image-20230117105612827"></p> <p>比如我们创建了3个php-fpm，他们处于平行的服务，squid要调用它，如果在squid中写死了php-fpm的</p> <h4 id="网络模型"><a href="#网络模型" class="header-anchor">#</a> 网络模型</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117133030935.png" alt="image-20230117133030935"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117133149435.png" alt="image-20230117133149435"></p> <p>overlay network 怎么去实现？</p> <p>Flannel ：功能是让集群中的不同的节点主机创建docker容器具有全集群唯一的虚拟ip地址。而且它还能在这些ip地址之间建立一个覆盖网络，通过这个覆盖网络，将数据包原封不动地传递到目标容器内</p> <p>案例：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117134043147.png" alt="image-20230117134043147"></p> <ul><li>解释</li></ul> <p>想象一下，backend后台需要调用app1、app2、app3，现在app2向backend发送数据包，app2节点表示的ip会发送至docker0，docker0再到网桥flannel0，再到flanneld，flanneld会在etcd中查看相关的地址映射信息，并组装成相应的数据包，通过udp的方式转发给其他的主机中对应的pod节点。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117134541862.png" alt="image-20230117134541862"></p> <p>iptables与lvs</p> <p>ETCD非常重要：</p> <ul><li><p>存储管理Flannel可分配的IP地址段资源</p></li> <li><p>监控ETCD中每个POD的实际地址，并在内存中建立维护POD节点路由表</p></li></ul> <p>如果要考虑高可用，第一个应该考虑的就应该是ETCD的高可用</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117134917055.png" alt="image-20230117134917055"></p> <p>节点网络即是我们物理机的网络，是真实的网络，其中service网络和pod网络都是虚拟的网络</p> <p><a href="https://www.51cto.com/article/702401.html" target="_blank" rel="noopener noreferrer">网络<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kubernates"><a href="#kubernates" class="header-anchor">#</a> kubernates</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <ul><li>minikube</li></ul> <p>首先进行Minikube的安装</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">curl</span> <span class="token parameter variable">-LO</span> https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64
<span class="token function">sudo</span> <span class="token function">install</span> minikube-darwin-amd64 /usr/local/bin/minikube
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Kubeadm</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117222047701.png" alt="image-20230117222047701"></p> <h3 id="自行构建集群"><a href="#自行构建集群" class="header-anchor">#</a> 自行构建集群</h3> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117221022819.png" alt="image-20230117221022819"></p> <h2 id="资源清单"><a href="#资源清单" class="header-anchor">#</a> 资源清单</h2> <h3 id="k8s中的资源"><a href="#k8s中的资源" class="header-anchor">#</a> k8s中的资源</h3> <p>k8s所有内容都被抽象为资源，资源实例化后都叫做对象</p> <ul><li>名称空间</li></ul> <p>仅在此名称空间下生效</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117233227232.png" alt="image-20230117233227232"></p> <ul><li>集群</li></ul> <p>全局都可见</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117233401217.png" alt="image-20230117233401217"></p> <ul><li>元数据</li></ul> <h3 id="语法-资源清单"><a href="#语法-资源清单" class="header-anchor">#</a> 语法 资源清单</h3> <p>必须存在的字段</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117233546406.png" alt="image-20230117233546406"></p> <p>非必需</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117233814411.png" alt="image-20230117233814411"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117233942891.png" alt="image-20230117233942891"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117234019918.png" alt="image-20230117234019918"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117234040181.png" alt="image-20230117234040181"></p> <p>如何看更详细的信息？</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kubectl explain pod
kubectl explain pod.spec
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="编写资源清单"><a href="#编写资源清单" class="header-anchor">#</a> 编写资源清单</h3> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230117234838563.png" alt="image-20230117234838563"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code></code></pre> <div class="line-numbers-wrapper"></div></div><p>启动对应的资源清单</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kubectl apply <span class="token parameter variable">-f</span> xx.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​	查看Pod状态</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kubectl get pod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看日志</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>//查看哪个容器有问题
kubectl describe pod xxxName

kubectl logs xxxName <span class="token parameter variable">-c</span> test//查看pod下的指定容器的日志
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="pod生命周期-重难点"><a href="#pod生命周期-重难点" class="header-anchor">#</a> pod生命周期（重难点）</h3> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118000231590.png" alt="image-20230118000231590"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118150328240.png" alt="image-20230118150328240"></p> <p>成功：返回0，就表示成功返回。返回其他数据，就表示失败了。</p> <h4 id="容器环境初始化"><a href="#容器环境初始化" class="header-anchor">#</a> 容器环境初始化</h4> <h4 id="init"><a href="#init" class="header-anchor">#</a> init</h4> <p>初始化容器（不能并行，必须串行，包括pause容器）</p> <p>介绍：pod能够具有多个容器，应用运行在容器里面，但是它也可能有一个或多个先应用容器启动的Init容器。</p> <p>Init容器与普通的容器非常像，除了：</p> <p>Init容器总是运行到成功为止</p> <p>每个init容器必须在下一个init容器启动之前完成</p> <p>如果pod的Init容器失败，kubernetes会不断地重启该pod，直到Init容器成功为止，然而，如果pod对应的restartPolicy为nerver，则它不会重新启动</p> <p>作用：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118110334771.png" alt="image-20230118110334771"></p> <p>举例：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118110756470.png" alt="image-20230118110756470"></p> <p>比如我们有两个pod：mysql（pod1）、Apache+php（pod2）。</p> <p>此时pod2需要调用pod1服务，如果pod1还没有成功启动，那么pod2就会调用失败。那我们要怎么做到pod2调用pod1之前，保证pod1已经启动成功呢？</p> <p>可以在pod2之前加一个init容器，让其去监控pod1是否成功启动，只有当成功启动过后，pod2才开始启动</p> <p>编写init模板：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118112010295.png" alt="image-20230118112010295"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>apiVersion: v1
kind: Pod
metadata:
 name: myapp-pod
 labels:
  app: myapp

spec:
 containers:
  - name: myapp-container
    image: busybox
    command: <span class="token punctuation">[</span><span class="token string">'sh'</span>,<span class="token string">'-c'</span>,<span class="token string">'echo the app is running! &amp;&amp; sleep 3600'</span><span class="token punctuation">]</span>
  initContainers:
  - name: init-myservice
    image: busybox
    command: <span class="token punctuation">[</span><span class="token string">'sh'</span>,<span class="token string">'-c'</span>,<span class="token string">'until nslookup myservice; do echo waiting for myservice; sleep2; done;'</span><span class="token punctuation">]</span>
  - name: init-mydb
    image: busybox
    command: <span class="token punctuation">[</span><span class="token string">'sh'</span>,<span class="token string">'-c'</span>,<span class="token string">'until nslookup mydb; do echo waiting for mydb; sleep 2;done;'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118124851122.png" alt="image-20230118124851122"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kind: Service
apiVersion: v1
metadata:
 name: mydb
spec:
 ports:
  - protocol: TCP
    port: <span class="token number">80</span>
    targetPort: <span class="token number">8377</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kind: Service
apiVersion: v1
metadata:
 name: myservice

spec:
 ports:
  - protocol: TCP
    port: <span class="token number">80</span>
    targetPort: <span class="token number">9376</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面可知，当主main启动后，需要等待出初始化容器myservice、mydb执行完成后，才能真正进行main容器的执行</p> <p>kind: service?</p> <p><a href="https://kubernetes.io/zh-cn/docs/concepts/services-networking/service/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/zh-cn/docs/concepts/services-networking/service/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>注意事项：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118134610984.png" alt="image-20230118134610984"></p> <p>网路和数据初始化是在pause容器中完成的。</p> <p>使用命令</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kubectl edit pod podName
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以修改对应的yaml文件，如果修改了image字段相关的数据，会触发init容器的重新启动，也就表示整个pod都会进行重启。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118135704216.png" alt="image-20230118135704216"></p> <p>init容器的资源清单中很多字段都是和主容器字段一样的，除了readiness就绪检测字段。因为readiness是就绪检测，init容器的功能也是为主容器的初始过程服务，如果init也要进行就绪检测，那么就本末倒置，一层套一套更加复杂，所以init中不应该提供就绪检测的生命周期。</p> <p>缺点：init容器不在main容器过程中，如果init容器放行通过了，那么如果在main容器启动过程中又出错了，那么init容器的存在不就没有意义了吗？</p> <p>k8s还提供了<strong>容器探针</strong>的功能：即readinessProbe和livenessProbe</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118140350014.png" alt="image-20230118140350014"></p> <p>主容器生命周期</p> <h4 id="start"><a href="#start" class="header-anchor">#</a> start</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118145859233.png" alt="image-20230118145859233"></p> <p>start stop很简单。</p> <h4 id="stop"><a href="#stop" class="header-anchor">#</a> stop</h4> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118140616646.png" alt="image-20230118140616646"></p> <p>具体实现</p> <h4 id="readiness"><a href="#readiness" class="header-anchor">#</a> readiness</h4> <p>就绪检测。pod处于running状态，但是容器中的进程可能还没有真正被创建，不应该对外暴露服务，此时使用readiness，可以通过某种策略判断该容器是否可以真正的对外暴露服务了</p> <p><strong>就绪检测</strong></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118140748306.png" alt="image-20230118140748306"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>apiVersion: v1
kind: Pod
metadata:
 name: readiness-httpget-pod
 namespace: default

spec:
 containers:
 - name: readiness-httpget-container
   image: httpServiceImage
   imagePolicy: IfNotPresent
   readinessProbe:
    httpGet:
     port: <span class="token number">8080</span>
     path: /index.html
    initialDelaySeconds: <span class="token number">1</span>
    periodSeconds: <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>因为这里使用了就绪检测，会去Main中的容器看8080端口路径<code>/indext.html</code>是否能够通过<code>index.html</code>调用成功，如果成功了，则可以通过，否则就表示调用失败了。</p> <p>使用<code>kubectl get pod</code>可以返现status虽然现在处于running状态，但是ready仍为0，因为我们的就绪检测失败了。</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118141514655.png" alt="image-20230118141514655"></p> <p>那么怎么办呢？首先我们需要使用<code>kubectl desribe pod 名字</code>查看是具体什么原因造成的，然后我们会去容器内部去进行命令交互操作</p> <p><code>kubectl exe podName.containName -it -- /bin/sh</code></p> <p>进入交互页面，建立index.html页面即可。</p> <h4 id="liveness"><a href="#liveness" class="header-anchor">#</a> liveness</h4> <p>生存检测</p> <p>检测僵尸进程</p> <p><strong>存活检测</strong></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118142755078.png" alt="image-20230118142755078"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>apiVersion: v1
kind: Pod
metadata<span class="token punctuation">;</span>
  name: liveness-exec-pod
  namespace: default

spec:
  containers:
   - name: liveness-exec-container
     image: myServerImage
     imagePullPolicy: IfNotPresent
     command: <span class="token punctuation">[</span><span class="token string">&quot;/bin/sh&quot;</span>,<span class="token string">&quot;-c&quot;</span>,<span class="token string">&quot;touch /tmp/live ; sleep 60 ; rm -rf /tmp/live; sleep 3600&quot;</span><span class="token punctuation">]</span>
     livenessProbe:
      exec:
       command: <span class="token punctuation">[</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;-e&quot;</span>,<span class="token string">&quot;/tmp/live&quot;</span><span class="token punctuation">]</span>
      initialDelaySeconds: <span class="token number">1</span>
      periodSeconds: <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>解释：</p> <p>imagePullPolicy: IfNotPresent。 如果镜像在本地不存在，则到远程去拉去，否则只拉取本地的镜像</p> <p><code>command: [&quot;/bin/sh&quot;,&quot;-c&quot;,&quot;touch /tmp/live ; sleep 60 ; rm -rf /tmp/live; sleep 3600&quot;]</code>:创建一个文件60s后，删除该文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>livenessProbe:
      exec:
       command: <span class="token punctuation">[</span><span class="token string">&quot;test&quot;</span>,<span class="token string">&quot;-e&quot;</span>,<span class="token string">&quot;/tmp/live&quot;</span><span class="token punctuation">]</span>  <span class="token comment"># 检测指定的文件是否存在</span>
      initialDelaySeconds: <span class="token number">1</span>       <span class="token comment"># 主容器启动后1s才检测</span>
      periodSeconds: <span class="token number">3</span>     <span class="token comment">#每隔3s检测一次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>检测成功返回0，否则返回1</p> <p>我们可以启动以上容器并等待一分钟：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>kubectl get pod <span class="token parameter variable">-w</span>
-w, <span class="token parameter variable">--watch</span><span class="token operator">=</span>false:
        After listing/getting the requested object, <span class="token function">watch</span> <span class="token keyword">for</span> changes.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>即可返回相关变化的容器,我们可以等待1min等待变化。</p> <p>可以看到restarts的数量发生了变化。</p> <p>当存活检测后，如果存活检测失败，会干掉整个主main，并重pod。</p> <p>存活检测的其他测试：</p> <p>http</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230118144828706.png" alt="image-20230118144828706"></p> <p>tcp</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedundefinedimage-20230118144828706.png" alt=""></p> <p>总结：init成功后，容器进如running状态，但是仍没有进入ready状态，此时进入<strong>就绪检测</strong>，如果就绪检测未通过，则持续进行就绪检测，如果通过pod状态变为ready，此时开始存活检测，存活检测通过，则每隔一段时间检测一次，如果存活检测不通过，则挂掉整个pod，重新启动，即从init开始启动。</p> <h2 id="pod-控制器-灵魂"><a href="#pod-控制器-灵魂" class="header-anchor">#</a> pod 控制器（灵魂）</h2> <p>掌握各种控制器特点和使用方式</p> <p>pod分类：自主式（pod退出了，cileixingpod不会被重新创建）、控制器（在控制器的生命周期里，始终要维持pod的副本数量）</p> <p>一般情况下，我们都会使用控制器下的pod</p> <p>k8s中有很多控制器，这些相当于一个状态机，用来控制pod的具体状态行为</p> <ol><li></li></ol> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119225227366.png" alt="image-20230119225227366"></p> <ol start="2"><li></li></ol> <p>声明式定义：</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119225318214.png" alt="image-20230119225318214"></p> <p>例如：sql语句，其不需要考虑底层怎么实现的</p> <p>当创建一个deployment时，会自动创建rs，rs会自动创建对应的pod</p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119225756910.png" alt="image-20230119225756910"></p> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119225746977.png" alt="image-20230119225746977"></p> <ol start="3"><li></li></ol> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119230059023.png" alt="image-20230119230059023"></p> <ol start="4"><li></li></ol> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119231203322.png" alt="image-20230119231203322"></p> <p>以上的控制器大多适合于无状态服务的pod</p> <p>以下可以做有状态得到服务</p> <ol start="5"><li></li></ol> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119231526065.png" alt="image-20230119231526065"></p> <ol start="6"><li>自动扩容缩容方案</li></ol> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119231914910.png" alt="image-20230119231914910"></p> <ul><li>RS于RC与Delpoyment的关联</li></ul> <p><img src="https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230119232502914.png" alt="image-20230119232502914"></p> <p>如果不知道yaml中某个标签的含义怎么办？</p> <p><code>kubectl explain rs</code></p> <h2 id="服务发现-2"><a href="#服务发现-2" class="header-anchor">#</a> 服务发现</h2> <p>将内部私有服务暴露给客户端</p> <p>掌握syc原理以及构建方式</p> <h2 id="存储"><a href="#存储" class="header-anchor">#</a> 存储</h2> <p>服务分类</p> <ul><li>有状态服务</li></ul> <p>DBMS</p> <ul><li>无状态服务</li></ul> <p>LVS APACHE</p> <p>多种存储类型的特点，并且在不同环境中选择不同的存储方案</p> <h2 id="调度器"><a href="#调度器" class="header-anchor">#</a> 调度器</h2> <p>可以将pod节点进行组装</p> <h2 id="安全机制"><a href="#安全机制" class="header-anchor">#</a> 安全机制</h2> <p>集群的认证、鉴权、访问控制、原理即流程</p> <h2 id="helm"><a href="#helm" class="header-anchor">#</a> HELM</h2> <p>类似yum管理器</p> <p>掌握HELM原理，自定义模板，可以实现部署插件</p> <h2 id="运维"><a href="#运维" class="header-anchor">#</a> 运维</h2> <p>kubernates源码修改</p> <p>kubernamtes高可用构建</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/2290653824/myVuePressBlog/edit/master/docs/70.微服务/60.k8s/10.尚硅谷k8s.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/02/22, 14:03:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/781e73/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Arthas入门</div></a> <a href="/pages/23eb11/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">入门</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/781e73/" class="prev">Arthas入门</a></span> <span class="next"><a href="/pages/23eb11/">入门</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e837ca/"><div>
            spark基础
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/41416f/"><div>
            mysql读写分离和分库分表
            <!----></div></a> <span class="date">02-22</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c19608/"><div>
            数据库迁移
            <!----></div></a> <span class="date">02-22</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="2290653824@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/2290653824" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=430175831" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7d33bb02.js" defer></script><script src="/assets/js/2.15f2967d.js" defer></script><script src="/assets/js/200.80915aee.js" defer></script>
  </body>
</html>
