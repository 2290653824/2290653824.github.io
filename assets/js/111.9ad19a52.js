(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{437:function(t,v,_){"use strict";_.r(v);var s=_(4),a=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"使用批量操作减少网络传输"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用批量操作减少网络传输"}},[t._v("#")]),t._v(" 使用批量操作减少网络传输")]),t._v(" "),v("h3",{attrs:{id:"一条redis命令的生命历程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一条redis命令的生命历程"}},[t._v("#")]),t._v(" 一条redis命令的生命历程")]),t._v(" "),v("p",[t._v("影响性能的因素")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("RTT")])]),t._v(" "),v("li",[v("p",[t._v("Socket IO")])])]),t._v(" "),v("h3",{attrs:{id:"具体手段"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#具体手段"}},[t._v("#")]),t._v(" 具体手段")]),t._v(" "),v("ul",[v("li",[t._v("原生批量操作")])]),t._v(" "),v("p",[t._v("mget")]),t._v(" "),v("p",[t._v("hmget")]),t._v(" "),v("p",[t._v("sadd")]),t._v(" "),v("p",[t._v("注意原生操作在集群模式下的弊端")]),t._v(" "),v("ul",[v("li",[t._v("pipeline")])]),t._v(" "),v("p",[t._v("相对于原生批量操作，pipeline可以将不同的命令封装在一起")]),t._v(" "),v("p",[t._v("原生操作和批量操作进行对比")]),t._v(" "),v("ul",[v("li",[t._v("lua脚本")])]),t._v(" "),v("p",[t._v("也保证一段的命令一起执行。可以使用前一段的命令的结果拿大下一条命令中")]),t._v(" "),v("p",[t._v("可以看出，以上所有的操作在集群模式下都无法实现真正的原子性，因为不同的key会存在于不同的hash曹中。")])])}),[],!1,null,null,null);v.default=a.exports}}]);