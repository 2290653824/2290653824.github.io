(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{701:function(a,t,s){"use strict";s.r(t);var v=s(4),e=Object(v.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"标签的本质"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签的本质"}},[a._v("#")]),a._v(" 标签的本质")]),a._v(" "),t("p",[a._v("标签的本质是一次commit，其指向了一个commit对象。它们的值都为各自指向提交的"),t("code",[a._v("SHA1")]),a._v("值；但是，不同于会随着提交的变化而变化的分支，一旦给某次提交添加了标签，该标签就永远不会发生变化。")]),a._v(" "),t("p",[a._v("标签是一次提交，本次提交可以指向任何分支上的一次提交，且标签定下后，不会再进行改变。")]),a._v(" "),t("h2",{attrs:{id:"标签的分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签的分类"}},[a._v("#")]),a._v(" 标签的分类")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("轻量级标签")]),a._v("（"),t("code",[a._v("lightweight")]),a._v("）：不可添加注释；")]),a._v(" "),t("li",[t("strong",[a._v("带有附注的标签")]),a._v("（"),t("code",[a._v("annotated")]),a._v("）：可以添加注释；")])]),a._v(" "),t("blockquote",[t("p",[a._v("Annotated tags are meant for release while lightweight tags are meant for private or temporary object labels.")])]),a._v(" "),t("p",[a._v("以上是"),t("code",[a._v("git")]),a._v("官方文档对两种标签的说明，大意是：带注释的标签用于发布，而轻量级标签则用于私人或临时对象。")]),a._v(" "),t("h2",{attrs:{id:"标签何时使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签何时使用"}},[a._v("#")]),a._v(" 标签何时使用")]),a._v(" "),t("ul",[t("li",[a._v("版本发布：一般"),t("code",[a._v("master")]),a._v("分支都会作为项目的发布分支，当项目开发到了一个成熟的阶段，准备在"),t("code",[a._v("master")]),a._v("分支进行发布时。一般都会在"),t("code",[a._v("master")]),a._v('分支的当前提交上打上一个类似"'),t("code",[a._v("v1.2")]),a._v('"的标签；')]),a._v(" "),t("li",[a._v("版本管理：可以通过标签的形式记录项目某一阶段的状态。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230412201509398.png",alt:"image-20230412201509398"}})]),a._v(" "),t("h2",{attrs:{id:"标签相关命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签相关命令"}},[a._v("#")]),a._v(" 标签相关命令")]),a._v(" "),t("h3",{attrs:{id:"创建一个标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个标签"}},[a._v("#")]),a._v(" 创建一个标签")]),a._v(" "),t("ul",[t("li",[a._v("轻量级标签")])]),a._v(" "),t("p",[a._v("git tag 标签名")]),a._v(" "),t("p",[a._v("我们看看一个轻量级的标签的内容：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230412204829331.png",alt:"image-20230412204829331"}})]),a._v(" "),t("p",[a._v("这里很容易看出来，轻量级的tag内容就是commit。这说明什么")]),a._v(" "),t("p",[a._v("说明：轻量级标签就是代指了一个commit的指针！！它本身就是一个commit")]),a._v(" "),t("ul",[t("li",[a._v("带附注的标签")])]),a._v(" "),t("p",[a._v('git tag -a 标签名 -m "注释"')]),a._v(" "),t("p",[a._v("创建好的标签文件存放在.git/refs/tags中")]),a._v(" "),t("p",[a._v("其实在git中tag也是一个对象，和commit、tree、blob一样")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230412204232458.png",alt:"image-20230412204232458"}})]),a._v(" "),t("p",[a._v("我们看看这个tag的具体信息：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefinedimage-20230412204331744.png",alt:"image-20230412204331744"}})]),a._v(" "),t("p",[a._v("**可以看到标签中有一个内容指向了具体的commit。**且带附注的tag的SAH1和其指向的SAH1不一致")]),a._v(" "),t("p",[a._v("说明带附注的标签更加重量级，他是一个tag对象，不是commit，只是其内部有指向commit的指针")]),a._v(" "),t("h3",{attrs:{id:"显示标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示标签"}},[a._v("#")]),a._v(" 显示标签")]),a._v(" "),t("p",[a._v("git tag 或者git tag --list")]),a._v(" "),t("p",[a._v("切换分支后，使用git tag依然可以展示标签，表示标签与tag是没有关系的")]),a._v(" "),t("h2",{attrs:{id:"显示标签内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示标签内容"}},[a._v("#")]),a._v(" 显示标签内容")]),a._v(" "),t("p",[a._v("git show 标签名")]),a._v(" "),t("h2",{attrs:{id:"查找标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找标签"}},[a._v("#")]),a._v(" 查找标签")]),a._v(" "),t("p",[a._v("支持正则表达式")]),a._v(" "),t("p",[t("code",[a._v("git tag -l <tag_name>")])]),a._v(" "),t("h2",{attrs:{id:"标签推送到远程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签推送到远程"}},[a._v("#")]),a._v(" 标签推送到远程")]),a._v(" "),t("p",[a._v("默认情况git push 是不会推送tag的。")]),a._v(" "),t("p",[a._v("推送特定的tag")]),a._v(" "),t("p",[t("code",[a._v("git push origin <tag_name>")])]),a._v(" "),t("p",[a._v("推送多个tag")]),a._v(" "),t("p",[t("code",[a._v("git push origin v2.0 v3.0")])]),a._v(" "),t("p",[a._v("推送完整指令")]),a._v(" "),t("p",[t("code",[a._v("git push origin refs/tags/v4.0:refs/tags/v4.0")])]),a._v(" "),t("p",[a._v("推送本地全部的tag")]),a._v(" "),t("p",[t("code",[a._v("git push origin --tag")])]),a._v(" "),t("h2",{attrs:{id:"删除标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除标签"}},[a._v("#")]),a._v(" 删除标签")]),a._v(" "),t("h4",{attrs:{id:"删除远程标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除远程标签"}},[a._v("#")]),a._v(" 删除远程标签")]),a._v(" "),t("p",[a._v("当然，我们可以直接在远程仓库上删除远程标签。但是，最好的方式还是采用命令行进行删除。删除远程标签的方法与删除远程分支的方法非常类似，同样有两种方法：")]),a._v(" "),t("p",[t("code",[a._v("git push origin :<tag_name>")])]),a._v(" "),t("p",[a._v("这种方法相当于推送一个空的标签到远程仓库，由此达到删除的效果。比如删除远程仓库中的标签"),t("code",[a._v("v3.0")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-perl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[a._v("git push origin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token v-string string"}},[a._v("v3.0")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c049ecef8~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418154504982"}})]),a._v(" "),t("p",[a._v("这样远程仓库中的标签"),t("code",[a._v("V3.0")]),a._v("就被删除了：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c05ba750d~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418154554319"}})]),a._v(" "),t("p",[a._v("但是本地仓库中对应的标签"),t("code",[a._v("V3.0")]),a._v("并没有被删除：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c3a9cc162~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418154631370"}})]),a._v(" "),t("p",[a._v("上述指令为简写，"),t("strong",[a._v("完整写法如下")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[a._v("git push origin "),t("span",{pre:!0,attrs:{class:"token symbol"}},[a._v(":refs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("tags"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("v3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c3e6571bb~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418154906969"}})]),a._v(" "),t("p",[t("code",[a._v("git push origin --delete <tag_name>")])]),a._v(" "),t("p",[a._v("该方法采用了更加语义化的参数"),t("code",[a._v("--delete")]),a._v("，实现远程标签的删除：")]),a._v(" "),t("div",{staticClass:"language-perl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[a._v("git push origin "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("delete")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token v-string string"}},[a._v("v2.0")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c3eef1019~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418155134748"}})]),a._v(" "),t("p",[a._v("同样成功地删除了远程仓库中的标签"),t("code",[a._v("v2.0")]),a._v("：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c400bbefd~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418155216230"}})]),a._v(" "),t("p",[a._v("但是，本地的标签"),t("code",[a._v("v2.0")]),a._v("也没有被删除：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c40587525~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418155311429"}})]),a._v(" "),t("p",[a._v("采用下列的完整写法，效果是一样的：")]),a._v(" "),t("div",{staticClass:"language-perl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-perl"}},[t("code",[a._v("git push origin "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("delete")]),a._v(" tag "),t("span",{pre:!0,attrs:{class:"token v-string string"}},[a._v("v2.0")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c416b78bc~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418155513090"}})]),a._v(" "),t("blockquote",[t("p",[a._v("不难发现，删除"),t("strong",[a._v("远程分支")]),a._v("和"),t("strong",[a._v("远程标签")]),a._v("的方法是"),t("strong",[a._v("一样")]),a._v("的。")])]),a._v(" "),t("h4",{attrs:{id:"删除本地标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除本地标签"}},[a._v("#")]),a._v(" 删除本地标签")]),a._v(" "),t("p",[t("code",[a._v("git tag -d <tag_name>")])]),a._v(" "),t("p",[a._v("如通过以下命令删除标签"),t("code",[a._v("v3.0")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git tag -d v3.0\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c666cfa53~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418155616562"}})]),a._v(" "),t("h2",{attrs:{id:"标签的切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签的切换"}},[a._v("#")]),a._v(" 标签的切换")]),a._v(" "),t("p",[a._v("类似于commit的切换，会产生分离头指针")]),a._v(" "),t("p",[t("code",[a._v("git checkout tag_name")])]),a._v(" "),t("p",[a._v("如图所示，在"),t("code",[a._v("master")]),a._v("分支上进行了三次提交，并且添加了相应的标签：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c6971af14~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418161353146"}})]),a._v(" "),t("p",[a._v("当我们通过"),t("code",[a._v("checkout")]),a._v("命令切换到标签"),t("code",[a._v("v2.0")]),a._v("时：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3cadb6f5c8~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418161526176"}})]),a._v(" "),t("p",[a._v("可见，会出现游离的提交。此时查看各分支状态：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c6fb9fac7~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418161655468"}})]),a._v(" "),t("p",[a._v("如上图所示，当前处于标签"),t("code",[a._v("v2.0")]),a._v("指向的提交，并且切换标签的过程中改变了"),t("code",[a._v("HEAD")]),a._v("指针的指向。但是，并没有改变分支"),t("code",[a._v("master")]),a._v("的指向。过程如下图所示：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c7233c5bb~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418162458123"}})]),a._v(" "),t("p",[a._v("也就是说，切换标签与使用"),t("code",[a._v("reset")]),a._v("进行版本回退十分相似。只不过切换标签只改变了"),t("code",[a._v("HEAD")]),a._v("指针的指向，会造成游离的提交。若有需要可以创建一个新分支进行保存。")]),a._v(" "),t("h2",{attrs:{id:"拉取标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取标签"}},[a._v("#")]),a._v(" 拉取标签")]),a._v(" "),t("p",[a._v("在下图所示的情况中，本地仓库"),t("code",[a._v("mygit")]),a._v("与远程仓库有公共的提交历史（同源），并且不发生合并冲突的情况下")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c735807d7~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418160517111"}})]),a._v(" "),t("p",[a._v("可以直接通过"),t("code",[a._v("git pull")]),a._v("将远程仓库的标签拉取下来，并创建本地仓库中没有的标签：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/undefined1718cc3c77f950e1~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png",alt:"image-20200418160737829"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);