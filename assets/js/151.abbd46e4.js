(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{477:function(s,a,e){"use strict";e.r(a);var n=e(4),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_1-快速入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-快速入门"}},[s._v("#")]),s._v(" 1 快速入门")]),s._v(" "),a("h2",{attrs:{id:"一、什么是maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是maven"}},[s._v("#")]),s._v(" 一、什么是Maven？")]),s._v(" "),a("p",[s._v("Maven 是一个项目管理和整合工具。Maven 为开发者提供了一套完整的构建生命周期框架。开发团队几乎不用花多少时间就能够自动完成工程的基础构建配置，因为 Maven 使用了一个标准的目录结构和一个默认的构建生命周期。")]),s._v(" "),a("p",[s._v("在有多个开发团队环境的情况下，Maven 能够在很短的时间内使得每项工作都按照标准进行。因为大部分的工程配置操作都非常简单并且可复用，在创建报告、检查、构建和测试自动配置时，Maven 可以让开发者的工作变得更简单。")]),s._v(" "),a("p",[s._v("Maven 能够帮助开发者完成以下工作：")]),s._v(" "),a("ul",[a("li",[s._v("构建")]),s._v(" "),a("li",[s._v("文档生成")]),s._v(" "),a("li",[s._v("报告")]),s._v(" "),a("li",[s._v("依赖")]),s._v(" "),a("li",[s._v("SCMs")]),s._v(" "),a("li",[s._v("发布")]),s._v(" "),a("li",[s._v("分发")]),s._v(" "),a("li",[s._v("邮件列表")])]),s._v(" "),a("p",[s._v("总的来说，Maven 简化了工程的构建过程，并对其标准化。它无缝衔接了编译、发布、文档生成、团队合作和其他任务。Maven 提高了重用性，负责了大部分构建相关的任务。")]),s._v(" "),a("h1",{attrs:{id:"二、如何安装maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、如何安装maven"}},[s._v("#")]),s._v(" 二、如何安装Maven？")]),s._v(" "),a("h2",{attrs:{id:"_1-系统要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-系统要求"}},[s._v("#")]),s._v(" 1.系统要求")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("项目")]),s._v(" "),a("th",[s._v("要求")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("JDK")]),s._v(" "),a("td",[s._v("Maven 3.3 要求 JDK 1.7 或以上 Maven 3.2 要求 JDK 1.6 或以上 Maven 3.0/3.1 要求 JDK 1.5 或以上")])]),s._v(" "),a("tr",[a("td",[s._v("内存")]),s._v(" "),a("td",[s._v("没有最低要求")])]),s._v(" "),a("tr",[a("td",[s._v("磁盘")]),s._v(" "),a("td",[s._v("Maven 自身安装需要大约 10 MB 空间。除此之外，额外的磁盘空间将用于你的本地 Maven 仓库。你本地仓库的大小取决于使用情况，但预期至少 500 MB")])]),s._v(" "),a("tr",[a("td",[s._v("操作系统")]),s._v(" "),a("td",[s._v("没有最低要求")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-安装步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装步骤"}},[s._v("#")]),s._v(" 2.安装步骤")]),s._v(" "),a("h3",{attrs:{id:"_2-1-jdk安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-jdk安装"}},[s._v("#")]),s._v(" 2.1.JDK安装")]),s._v(" "),a("h4",{attrs:{id:"jdk下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk下载"}},[s._v("#")]),s._v(" JDK下载")]),s._v(" "),a("p",[s._v("推荐在oracle官网下载JDK：https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125609929.png",alt:"image-20240105125609929"}})]),s._v(" "),a("h4",{attrs:{id:"jdk安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk安装"}},[s._v("#")]),s._v(" JDK安装")]),s._v(" "),a("p",[s._v("在MacOS环境下可以直接通过dmg程序进行安装，安装程序会自动配置环境，无需手动配置。")]),s._v(" "),a("h4",{attrs:{id:"校验安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#校验安装"}},[s._v("#")]),s._v(" 校验安装")]),s._v(" "),a("p",[s._v("可以在terminal中使用以下命令检查JDK是否安装成功。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如出现以下输出，代表JDK安装正常。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('java version "1.8.0_291"\nJava(TM) SE Runtime Environment (build 1.8.0_291-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-2-maven安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-maven安装"}},[s._v("#")]),s._v(" 2.2.Maven安装")]),s._v(" "),a("h4",{attrs:{id:"maven下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven下载"}},[s._v("#")]),s._v(" Maven下载")]),s._v(" "),a("p",[s._v("从以下网址下载 Maven 3.8.1："),a("a",{attrs:{href:"http://maven.apache.org/download.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://maven.Apache.org/download.html"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125624885.png",alt:"image-20240105125624885"}})]),s._v(" "),a("h4",{attrs:{id:"maven安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven安装"}},[s._v("#")]),s._v(" Maven安装")]),s._v(" "),a("p",[s._v("1.解压文件到你想要的位置来安装 Maven 3.8.1，你会得到 apache-maven-3.8.1 子目录。")]),s._v(" "),a("p",[s._v("2.添加 M2_HOME、M2、MAVEN_OPTS 到环境变量中。")]),s._v(" "),a("p",[s._v("Mac环境下可以使用以下任意一种方法添加环境变量")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("名称")]),s._v(" "),a("th",[s._v("步骤1")]),s._v(" "),a("th",[s._v("步骤2")]),s._v(" "),a("th",[s._v("步骤3")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("修改"),a("strong",[s._v("全局环境变量")])]),s._v(" "),a("td",[s._v("在terminal输入：（可能需要使用sudo命令）"),a("code",[s._v("sudo vi /etc/bashrc")])]),s._v(" "),a("td",[s._v("在文件的末尾追加："),a("code",[s._v("export M2_HOME=改成你解压到的地址/apache-maven-3.8.4 export M2=$M2_HOME/bin export MAVEN_OPTS=-Xms256m -Xmx512m export PATH=$M2:$PATH")])]),s._v(" "),a("td",[s._v("让修改的文件生效"),a("code",[s._v("source /etc/bashrc")])])]),s._v(" "),a("tr",[a("td",[s._v("修改当前"),a("strong",[s._v("用户环境变量")])]),s._v(" "),a("td",[s._v("在terminal输入："),a("code",[s._v("vi ~/.bash_rc")])]),s._v(" "),a("td",[s._v("让修改的文件生效"),a("code",[s._v("source ~/.bash_rc")])]),s._v(" "),a("td")])])]),s._v(" "),a("h4",{attrs:{id:"校验安装-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#校验安装-2"}},[s._v("#")]),s._v(" 校验安装")]),s._v(" "),a("p",[s._v("在terminal中输入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn --version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("展示内容为如下所示，说明安装成功")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Apache Maven 3.8.4\nMaven home: 你解压到的地址/apache-maven-3.8.4\nJava version: 1.8.0_291, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_291.jdk/Contents/Home/jre\nDefault locale: zh_CN, platform encoding: UTF-8\nOS name: "mac os x", version: "10.16", arch: "x86_64", family: "mac"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h1",{attrs:{id:"三、如何使用maven构建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、如何使用maven构建项目"}},[s._v("#")]),s._v(" 三、如何使用Maven构建项目？")]),s._v(" "),a("h2",{attrs:{id:"_1-pom文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-pom文件"}},[s._v("#")]),s._v(" 1.POM文件")]),s._v(" "),a("p",[s._v("POM 代表工程对象模型。它是使用 Maven 工作时的基本组建，是一个 xml 文件。它被放在工程根目录下，文件命名为 pom.xml。")]),s._v(" "),a("p",[s._v("POM 包含了关于工程和各种配置细节的信息，Maven 使用这些信息构建工程。POM 也包含了目标和插件。当执行一个任务或者目标时，Maven 会查找当前目录下的 POM，从其中读取所需要的配置信息，然后执行目标。")]),s._v(" "),a("p",[s._v("常见的POM文件格式如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<project xmlns="http://maven.apache.org/POM/4.0.0"\n   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n   http://maven.apache.org/xsd/maven-4.0.0.xsd">\n   <modelVersion>4.0.0</modelVersion>\n\n   <groupId>com.sankuai</groupId>\n   <artifactId>mavenTest</artifactId>\n   <version>1.0</version>\n\n</project>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("需要说明的是每个工程应该只有一个 POM 文件。")]),s._v(" "),a("ul",[a("li",[s._v("所有的 POM 文件需要 "),a("strong",[s._v("project")]),s._v(" 元素和三个必须的字段："),a("strong",[s._v("groupId, artifactId,version")]),s._v("。")]),s._v(" "),a("li",[s._v("在仓库中的工程标识为 "),a("strong",[s._v("groupId:artifactId:version")])]),s._v(" "),a("li",[s._v("POM.xml 的根元素是 "),a("strong",[s._v("project")]),s._v("，它有三个主要的子节点：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("节点")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("groupId")]),s._v(" "),a("td",[s._v("这是工程组的标识。它在一个组织或者项目中通常是唯一的。通常我们使用公司的域名倒置作为groupId，例如，三快在线的groupId为com.sankuai。")])]),s._v(" "),a("tr",[a("td",[s._v("artifactId")]),s._v(" "),a("td",[s._v("这是工程的标识。它通常是工程的名称。例如，一个用来测试maven的项目名称为mavenTest。groupId 和 artifactId 一起定义了 artifact 在仓库中的位置。")])]),s._v(" "),a("tr",[a("td",[s._v("version")]),s._v(" "),a("td",[s._v("这是工程的版本号。在 artifact 的仓库中，它用来区分不同的版本。例如： com.sankuai:mavenTest:1.0.0 com.sankuai:mavenTest:1.0.1")])])])]),s._v(" "),a("p",[s._v("一般来说我们不需要自己手动编写POM文件，当使用Maven构建项目时会自动生成对应的POM文件。")]),s._v(" "),a("h2",{attrs:{id:"_2-使用maven构建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用maven构建项目"}},[s._v("#")]),s._v(" 2.使用Maven构建项目")]),s._v(" "),a("p",[s._v("Maven 使用**原型（archetype）**插件创建工程，并且Maven内置了大量的JAVA原型模版。通常我们有两种方法使用Maven来创建项目。在下面的例子中将演示两种使用Maven构建Java项目的方法。")]),s._v(" "),a("h3",{attrs:{id:"_2-1-使用命令行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-使用命令行"}},[s._v("#")]),s._v(" 2.1.使用命令行")]),s._v(" "),a("p",[s._v("1.打开命令行工具，跳转到合适的项目目录下，在此处使用~/workspace作为演示目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd ~/workspace\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2.使用Maven命令行构建项目")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn archetype:generate -DgroupId=com.sankuai -DartifactId=mavenTest -DarchetypeArtifactId=maven-archetype-quickstart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数说明：")]),s._v(" "),a("p",[s._v("archetype:generate 构建项目")]),s._v(" "),a("p",[s._v("-DgroupId=com.sankuai 工程组设置为公司的名称")]),s._v(" "),a("p",[s._v("-DartifactId=mavenTest 指明项目名称")]),s._v(" "),a("p",[s._v("-DarchetypeArtifactId=maven-archetype-quickstart 使用Java原型插件，这个插件也是项目工程中使用最频繁的插件。")]),s._v(" "),a("p",[s._v("执行命令之后会展示如下输出信息，说明项目构建成功。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-metadata.xml\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/com/dianping/maven/plugins/maven-metadata.xml\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/unidal/maven/plugins/maven-metadata.xml\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/jvnet/hudson/tools/maven-metadata.xml\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/unidal/maven/plugins/maven-metadata.xml (301 B at 2.7 kB/s)\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-metadata.xml (14 kB at 120 kB/s)\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/com/dianping/maven/plugins/maven-metadata.xml (812 B at 7.1 kB/s)\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/codehaus/mojo/maven-metadata.xml\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/jvnet/hudson/tools/maven-metadata.xml (705 B at 1.6 kB/s)\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/codehaus/mojo/maven-metadata.xml (21 kB at 44 kB/s)\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/plugins/maven-archetype-plugin/maven-metadata.xml (981 B at 2.0 kB/s)\n[INFO]\n[INFO] ------------------< org.apache.maven:standalone-pom >-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO]\n[INFO] >>> maven-archetype-plugin:3.2.1:generate (default-cli) > generate-sources @ standalone-pom >>>\n[INFO]\n[INFO] <<< maven-archetype-plugin:3.2.1:generate (default-cli) < generate-sources @ standalone-pom <<<\n[INFO]\n[INFO]\n[INFO] --- maven-archetype-plugin:3.2.1:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Batch mode\n[INFO] ----------------------------------------------------------------------------\n[INFO] Using following parameters for creating project from Old (1.x) Archetype: maven-archetype-quickstart:1.0\n[INFO] ----------------------------------------------------------------------------\n[INFO] Parameter: basedir, Value: /Users/xuyang/workspace/mavenTestProject\n[INFO] Parameter: package, Value: com.sankuai\n[INFO] Parameter: groupId, Value: com.sankuai\n[INFO] Parameter: artifactId, Value: mavenTest\n[INFO] Parameter: packageName, Value: com.sankuai\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\n[INFO] project created from Old (1.x) Archetype in dir: /Users/xuyang/workspace/mavenTestProject/mavenTest\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.166 s\n[INFO] Finished at: 2022-01-11T15:34:31+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("p",[s._v("现在进入到生成的项目文件夹中")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd mavenTest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("所生成的文件结构如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n└── mavenTest\n    ├── pom.xml\n    └── src\n        ├── main\n        │   └── java\n        │       └── com\n        │           └── sankuai\n        │               └── App.java\n        └── test\n            └── java\n                └── com\n                    └── sankuai\n                        └── AppTest.java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("使用上面的例子，我们可以知道下面几个关键概念：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("文件夹结构")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("mavenTest")]),s._v(" "),a("td",[s._v("包含 src 文件夹和 pom.xml")])]),s._v(" "),a("tr",[a("td",[s._v("src/main/java")]),s._v(" "),a("td",[s._v("java 代码文件在包结构下（com/sankuai）。")])]),s._v(" "),a("tr",[a("td",[s._v("src/main/test")]),s._v(" "),a("td",[s._v("测试代码文件在包结构下（com/sankuai）。")])]),s._v(" "),a("tr",[a("td",[s._v("src/main/resources")]),s._v(" "),a("td",[s._v("包含了属性文件（在上面的例子中，我们需要手动创建这个结构）。")])])])]),s._v(" "),a("p",[s._v("Maven 也创建了一个简单的 Java 源文件和 Java 测试文件。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('package com.sankuai;\n\n/**\n * Hello world!\n *\n */\npublic class App\n{\n    public static void main( String[] args )\n    {\n        System.out.println( "Hello World!" );\n    }\n}\npackage com.sankuai;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\n/**\n * Unit test for simple App.\n */\npublic class AppTest\n    extends TestCase\n{\n    /**\n     * Create the test case\n     *\n     * @param testName name of the test case\n     */\n    public AppTest( String testName )\n    {\n        super( testName );\n    }\n\n    /**\n     * @return the suite of tests being tested\n     */\n    public static Test suite()\n    {\n        return new TestSuite( AppTest.class );\n    }\n\n    /**\n     * Rigourous Test :-)\n     */\n    public void testApp()\n    {\n        assertTrue( true );\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br")])]),a("h3",{attrs:{id:"_2-2-使用idea"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-使用idea"}},[s._v("#")]),s._v(" 2.2.使用IDEA")]),s._v(" "),a("p",[s._v("使用IDEA开发环境可以快速通过图形界面生成Java项目，接下来展示如何使用IDEA生成Maven项目。")]),s._v(" "),a("p",[s._v("1.在新建项目页面选择Maven，并在右侧选择使用archetype")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125701224.png",alt:"image-20240105125701224"}})]),s._v(" "),a("p",[s._v("2.点击next，设置项目groupId和artifactId")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125713865.png",alt:"image-20240105125713865"}})]),s._v(" "),a("p",[s._v("需要注意的是，我们无需手动输入Name以及Location，输入artifactId时会自动生成。")]),s._v(" "),a("p",[s._v("3.点击next，校验构建清单")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125726952.png",alt:"image-20240105125726952"}})]),s._v(" "),a("p",[s._v("4.点击finish完成构建，之后IDEA就会自动构建Java项目了。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125741049.png",alt:"image-20240105125741049"}})]),s._v(" "),a("h2",{attrs:{id:"_3-使用maven打包项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用maven打包项目"}},[s._v("#")]),s._v(" 3.使用Maven打包项目")]),s._v(" "),a("p",[s._v("接下来我们将使用Maven对项目进行打包，我们可以使用以下两种方案对Java项目进行打包")]),s._v(" "),a("h3",{attrs:{id:"_3-1-使用命令行打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-使用命令行打包"}},[s._v("#")]),s._v(" 3.1.使用命令行打包")]),s._v(" "),a("p",[s._v("1.使用cd命令进入到项目的根路径。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd mavenTest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2.使用package对项目进行打包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn clean package\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数说明：")]),s._v(" "),a("p",[s._v("clean 是maven内置的生命周期之一，使用maven打包会在项目生成target文件夹，其中用来存放1）被编译之后的class文件，2）打包生成的最终jar文件")]),s._v(" "),a("p",[s._v("package  是maven内置的生命周期之一，用来对项目进行打包生成jar可执行文件")]),s._v(" "),a("p",[s._v("执行之后，会输出一下内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO]\n[INFO] -----------------------< com.sankuai:mavenTest >------------------------\n[INFO] Building mavenTest 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ mavenTest ---\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTestProject/mavenTest/src/main/resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTestProject/mavenTest/target/classes\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTestProject/mavenTest/src/test/resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTestProject/mavenTest/target/test-classes\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ mavenTest ---\n[INFO] Surefire report directory: /Users/xuyang/workspace/mavenTestProject/mavenTest/target/surefire-reports\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.pom\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.pom (1.7 kB at 3.7 kB/s)\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom (2.3 kB at 10.0 kB/s)\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.jar\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/apache/maven/surefire/surefire-junit3/2.12.4/surefire-junit3-2.12.4.jar (26 kB at 231 kB/s)\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.sankuai.AppTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO]\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ mavenTest ---\n[INFO] Building jar: /Users/xuyang/workspace/mavenTestProject/mavenTest/target/mavenTest-1.0-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.182 s\n[INFO] Finished at: 2022-01-11T16:14:39+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br")])]),a("p",[s._v("在根路径下会自动生成target文件夹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n├── pom.xml\n├── src\n│   ├── main\n│   │   └── java\n│   │       └── com\n│   │           └── sankuai\n│   │               └── App.java\n│   └── test\n│       └── java\n│           └── com\n│               └── sankuai\n│                   └── AppTest.java\n└── target\n    ├── classes\n    │   └── com\n    │       └── sankuai\n    │           └── App.class\n    ├── maven-archiver\n    │   └── pom.properties\n    ├── maven-status\n    │   └── maven-compiler-plugin\n    │       ├── compile\n    │       │   └── default-compile\n    │       │       ├── createdFiles.lst\n    │       │       └── inputFiles.lst\n    │       └── testCompile\n    │           └── default-testCompile\n    │               ├── createdFiles.lst\n    │               └── inputFiles.lst\n    ├── mavenTest-1.0-SNAPSHOT.jar\n    ├── surefire-reports\n    │   ├── TEST-com.sankuai.AppTest.xml\n    │   └── com.sankuai.AppTest.txt\n    └── test-classes\n        └── com\n            └── sankuai\n                └── AppTest.class\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("p",[s._v("其中mavenTest-1.0-SNAPSHOT.jar就是项目打包生成的可执行文件，其中-1.0-SNAPSHOT是项目的版本号信息。")]),s._v(" "),a("h3",{attrs:{id:"_3-2-使用idea"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-使用idea"}},[s._v("#")]),s._v(" 3.2.使用IDEA")]),s._v(" "),a("p",[s._v("1.可在IDEA右侧边栏上找到Maven菜单")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125757609.png",alt:"image-20240105125757609"}})]),s._v(" "),a("p",[s._v("2.分别双击clean和package按钮就会在当前项目中生成target文件，整个流程比命令行更方便。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125811313.png",alt:"image-20240105125811313"}})]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_2-依赖管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-依赖管理"}},[s._v("#")]),s._v(" 2. 依赖管理")]),s._v(" "),a("h2",{attrs:{id:"一、创建一个maven项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、创建一个maven项目"}},[s._v("#")]),s._v(" 一、创建一个maven项目")]),s._v(" "),a("p",[s._v("官方文档：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://km.sankuai.com/page/1223904793",target:"_blank",rel:"noopener noreferrer"}},[s._v("Maven依赖管理详解"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://km.sankuai.com/page/1094753852",target:"_blank",rel:"noopener noreferrer"}},[s._v("Maven依赖管理最佳实践"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://km.sankuai.com/page/1222469780",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jar包管理方式推荐"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"_1-使用idea创建一个maven项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用idea创建一个maven项目"}},[s._v("#")]),s._v(" 1.使用Idea创建一个maven项目")]),s._v(" "),a("ul",[a("li",[s._v("File>New>Project,")]),s._v(" "),a("li",[s._v("左侧选择Maven，右侧选择Project SDK为1.8，点击Next")]),s._v(" "),a("li",[s._v("输入项目GroupId、ArtifactId，点击Next")]),s._v(" "),a("li",[s._v("点击Finish")])]),s._v(" "),a("h2",{attrs:{id:"_2-项目目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-项目目录结构"}},[s._v("#")]),s._v(" 2.项目目录结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20240105125824759.png",alt:"image-20240105125824759"}})]),s._v(" "),a("h2",{attrs:{id:"_3-pom文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-pom文件"}},[s._v("#")]),s._v(" 3.pom文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.sankuai</groupId>\n  <artifactId>mavenTest1</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <packaging>jar</packaging>\n\n  <name>mavenTest1</name>\n  <url>http://maven.apache.org</url>\n\n  <properties>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n</project>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h1",{attrs:{id:"二、约定优于配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、约定优于配置"}},[s._v("#")]),s._v(" 二、约定优于配置")]),s._v(" "),a("h2",{attrs:{id:"_1-项目目录结构遵循约定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目目录结构遵循约定"}},[s._v("#")]),s._v(" 1.项目目录结构遵循约定")]),s._v(" "),a("p",[s._v("创建的maven空项目已经包含了一定的目录结构，需要开发者遵循这种目录约定，这是使用maven简洁配置需要付出的代价。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("目录")])]),s._v(" "),a("th",[a("strong",[s._v("说明")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("{project.basedir}")]),s._v(" "),a("td",[s._v("存放pom文件和项目子模块")])]),s._v(" "),a("tr",[a("td",[s._v("{project.basedir}/src/main/java")]),s._v(" "),a("td",[s._v("源码目录")])]),s._v(" "),a("tr",[a("td",[s._v("{project.basedir}/src/main/resources")]),s._v(" "),a("td",[s._v("资源目录")])]),s._v(" "),a("tr",[a("td",[s._v("{project.basedir}/src/test/java")]),s._v(" "),a("td",[s._v("测试源码目录")])]),s._v(" "),a("tr",[a("td",[s._v("{project.basedir}/src/test/resources")]),s._v(" "),a("td",[s._v("测试资源目录")])]),s._v(" "),a("tr",[a("td",[s._v("${project.basedir}/target")]),s._v(" "),a("td",[s._v("包输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("${project.basedir}/target/classes")]),s._v(" "),a("td",[s._v("编译输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("${project.basedir}/target/test-classes")]),s._v(" "),a("td",[s._v("测试编译输出目录")])])])]),s._v(" "),a("h1",{attrs:{id:"三、pom文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、pom文件"}},[s._v("#")]),s._v(" 三、POM文件")]),s._v(" "),a("h2",{attrs:{id:"_1-说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-说明"}},[s._v("#")]),s._v(" 1.说明")]),s._v(" "),a("p",[s._v("POM（Project Object Model，项目对象模型）定义了项目的基本信息，用于描述项目如何构建、声明项目依赖。")]),s._v(" "),a("h2",{attrs:{id:"_2-简单配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-简单配置"}},[s._v("#")]),s._v(" 2.简单配置")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("<?xml>")]),s._v(": xml头信息，定义xml文档的版本和编码方式。")]),s._v(" "),a("li",[a("strong",[a("project")],1),s._v(": 所有pom.xml的根元素，声明了pom相关的命名空间和xsd元素。")]),s._v(" "),a("li",[a("strong",[a("modelVersion")],1),s._v(": 指定当前pom模型的版本，对于maven2/3，只能是4.0.0。")]),s._v(" "),a("li",[a("strong",[a("groupId")],1),s._v(": 定义当前maven项目隶属的实际项目。")]),s._v(" "),a("li",[a("strong",[a("artifactId")],1),s._v(": 定义实际项目中的一个maven模块/项目。")]),s._v(" "),a("li",[a("strong",[a("version")],1),s._v(": 定义maven项目当前所处的版本")]),s._v(" "),a("li",[a("strong",[s._v("groupId\\artifactId\\version")]),s._v(": 定义了一个项目基本的坐标。")])]),s._v(" "),a("h2",{attrs:{id:"_3-其他配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-其他配置"}},[s._v("#")]),s._v(" 3.其他配置")]),s._v(" "),a("ul",[a("li",[s._v("项目依赖")]),s._v(" "),a("li",[s._v("插件")]),s._v(" "),a("li",[s._v("执行目标")]),s._v(" "),a("li",[s._v("项目构建profile")])]),s._v(" "),a("h1",{attrs:{id:"四、maven坐标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、maven坐标"}},[s._v("#")]),s._v(" 四、MAVEN坐标")]),s._v(" "),a("h2",{attrs:{id:"_1-说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-说明-2"}},[s._v("#")]),s._v(" 1.说明")]),s._v(" "),a("p",[s._v("Maven定义了一组规则：世界上任何一个构件都可以使用Maven坐标唯一标识。\nMaven坐标元素包括groupId, artifactId, version, packaging, classifier。")]),s._v(" "),a("h2",{attrs:{id:"_2-坐标元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-坐标元素"}},[s._v("#")]),s._v(" 2.坐标元素")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("groupId")]),s._v(": 定义当前maven项目隶属的实际项目。")]),s._v(" "),a("li",[a("strong",[s._v("artifactId")]),s._v(": 定义实际项目中的一个maven模块/项目。")]),s._v(" "),a("li",[a("strong",[s._v("version")]),s._v(": 定义maven项目当前所处的版本。")]),s._v(" "),a("li",[a("strong",[s._v("packaging")]),s._v(": 定义maven项目的打包方式。打包方式与生成构件的文件扩展名对应，默认为jar， 常用的打包方式有jar， war， pom。")]),s._v(" "),a("li",[a("strong",[s._v("classifier")]),s._v(": 帮助定义构建输出的附属构件。附属构件与主构件对应。如demo1-1.0-SNAPSHOT-sources.jar这个构件，包含了主构件的源代码。不能直接定义项目的classifier，因为附属构件不是项目直接默认生成的，而是通过附加插件帮助生成的。")])]),s._v(" "),a("h2",{attrs:{id:"_3-项目构件的文件名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-项目构件的文件名"}},[s._v("#")]),s._v(" 3.项目构件的文件名")]),s._v(" "),a("ul",[a("li",[s._v("一般规则为： artifactId-version[-classifier].packaging")])]),s._v(" "),a("h1",{attrs:{id:"五、maven依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、maven依赖"}},[s._v("#")]),s._v(" 五、MAVEN依赖")]),s._v(" "),a("h2",{attrs:{id:"_1-使用maven怎么引入依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用maven怎么引入依赖"}},[s._v("#")]),s._v(" 1.使用maven怎么引入依赖？")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("如果要引入第三方jar包，需要知道jar的坐标，然后放入pom.xml中的dependencies元素中。\n示例如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("dependencies")]),s._v("元素包含多个dependency，每个dependency代表项目依赖的一个构件信息。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("dependency")]),s._v("元素中的 groupId， artifactId，version定义了一个构件的基本坐标。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("type")]),s._v("被依赖构件的类型，对应于被依赖构件的packaging。默认为jar, 表示被依赖的构件是一个jar包。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("scope")]),s._v("表示依赖的范围，参考下文 "),a("strong",[s._v("2.maven依赖范围")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("optional")]),s._v("表示依赖是否可选，参考可选依赖。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("exclusions")]),s._v("用来排除传递依赖。")])])]),s._v(" "),a("h2",{attrs:{id:"_2-maven依赖范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-maven依赖范围"}},[s._v("#")]),s._v(" 2.maven依赖范围")]),s._v(" "),a("blockquote",[a("p",[s._v("依赖范围就是用来控制依赖与三种classpath(编译classpath，运行classpath，测试classpath【编译测试代码、运行测试代码】)的关系。")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("compile")]),s._v(": 编译依赖范围。如果未指定，默认使用该依赖范围。"),a("strong",[s._v("对于编译、测试、运行3种classpath都有效")]),s._v("。比如spring-web。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("test")]),s._v(": 测试依赖范围。只对测试classpath有效，"),a("strong",[s._v("在编译主代码、运行项目时无法使用此依赖")]),s._v("。比如JUnit。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("provided")]),s._v(": 已提供依赖范围。"),a("strong",[s._v("对于编译、测试classpath有效，但在运行时无效")]),s._v("。比如servlet-api，在运行项目的时候容器已经提供了。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("runtime")]),s._v(": 运行时依赖范围。"),a("strong",[s._v("对于测试、运行classpath有效，但在编译主代码时无效")]),s._v("。比如jdbc驱动实现，运行的时候才需要具体的jdbc驱动实现。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("system")]),s._v(": 系统依赖范围。该依赖与三种classpath的关系，和provided依赖范围完全一致。但是，使用system范围的依赖时必须通过systemPath元素显示指定依赖文件的路径。建议谨慎使用。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<dependency>\n  <groupId>com.john</groupId>\n  <artifactId>rt</artifactId>\n  <version>1.8</version>\n  <scope>system</scope>\n  <systemPath>${java.home}/lib/rt.jar</systemPath>\n</dependency>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("import")]),s._v(": 导入依赖范围。在maven依赖和dependencyManagement时候用到。")])])]),s._v(" "),a("h2",{attrs:{id:"_3-依赖范围与classpath的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-依赖范围与classpath的关系"}},[s._v("#")]),s._v(" 3.依赖范围与classpath的关系")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("依赖范围")]),s._v("** **"),a("strong",[s._v("（scope）")])]),s._v(" "),a("th",[a("strong",[s._v("对于编译classpath有效")])]),s._v(" "),a("th",[a("strong",[s._v("对于测试classpath有效")])]),s._v(" "),a("th",[a("strong",[s._v("对于运行classpath有效")])]),s._v(" "),a("th",[a("strong",[s._v("举例")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("compile")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("spring-web")])]),s._v(" "),a("tr",[a("td",[s._v("test")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("JUnit")])]),s._v(" "),a("tr",[a("td",[s._v("provided")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("servlet-api")])]),s._v(" "),a("tr",[a("td",[s._v("runtime")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("JDBC驱动实现")])]),s._v(" "),a("tr",[a("td",[s._v("system")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("Y")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("本地的jar包")])])])]),s._v(" "),a("h2",{attrs:{id:"_4-scope与运行classpath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-scope与运行classpath"}},[s._v("#")]),s._v(" 4.scope与运行classpath")]),s._v(" "),a("p",[s._v("scope如果对于运行范围有效，是指依赖的jar包会被打包到项目的运行包中，最后运行的时候会被添加到classpath中运行。\n如果scope对于运行项目无效，那么项目打包的时候，这些依赖不会被打包到运行包中。")]),s._v(" "),a("h1",{attrs:{id:"六、传递性依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、传递性依赖"}},[s._v("#")]),s._v(" 六、传递性依赖")]),s._v(" "),a("h2",{attrs:{id:"_1-说明-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-说明-3"}},[s._v("#")]),s._v(" 1.说明")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("在项目中引入junit，查看项目依赖，发现项目又依赖org.hamcrest:hamcrest-core:1.3，该依赖也被自动加进来，这个叫做依赖的传递。")]),s._v(" "),a("li",[s._v("假设A依赖于B，B依赖于C，我们说A对于B是第一直接依赖，B对于C是第二直接依赖，而A对于C是传递性依赖。")]),s._v(" "),a("li",[s._v("第一直接依赖的范围和第二直接依赖的范围决定了传递依赖的范围。")])]),s._v(" "),a("h2",{attrs:{id:"_2-依赖范围对传递性依赖的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-依赖范围对传递性依赖的影响"}},[s._v("#")]),s._v(" 2.依赖范围对传递性依赖的影响")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("第一直接依赖\\第二直接依赖")])]),s._v(" "),a("th",[a("strong",[s._v("compile")])]),s._v(" "),a("th",[a("strong",[s._v("test")])]),s._v(" "),a("th",[a("strong",[s._v("provided")])]),s._v(" "),a("th",[a("strong",[s._v("runtime")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("compile")]),s._v(" "),a("td",[s._v("compile")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("runtime")])]),s._v(" "),a("tr",[a("td",[s._v("test")]),s._v(" "),a("td",[s._v("test")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("test")])]),s._v(" "),a("tr",[a("td",[s._v("provided")]),s._v(" "),a("td",[s._v("provided")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("provided")]),s._v(" "),a("td",[s._v("provided")])]),s._v(" "),a("tr",[a("td",[s._v("runtime")]),s._v(" "),a("td",[s._v("runtime")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("--")]),s._v(" "),a("td",[s._v("runtime")])])])]),s._v(" "),a("h1",{attrs:{id:"七、依赖调解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、依赖调解"}},[s._v("#")]),s._v(" 七、依赖调解")]),s._v(" "),a("h2",{attrs:{id:"_1-第一原则-路径近者优先。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一原则-路径近者优先。"}},[s._v("#")]),s._v(" 1.第一原则：路径近者优先。")]),s._v(" "),a("ul",[a("li",[s._v("A->B->C->Y(1.0)，A->D->Y(2.0)，Y的2.0版本距离A更近一些，所以maven会选择2.0")])]),s._v(" "),a("h2",{attrs:{id:"_2-第二原则-第一声明者优先。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二原则-第一声明者优先。"}},[s._v("#")]),s._v(" 2.第二原则：第一声明者优先。")]),s._v(" "),a("ul",[a("li",[s._v("A->B->Y(1.0)，A->D->Y(2.0)，Y的1.0版先声明，所以maven会选择1.0版本。")])]),s._v(" "),a("h1",{attrs:{id:"八、可选依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、可选依赖"}},[s._v("#")]),s._v(" 八、可选依赖")]),s._v(" "),a("p",[s._v("A->B, scope:compile B->X, scope:compile，optional:true B->Y, scope:compile，optional:true")]),s._v(" "),a("ul",[a("li",[s._v("X、Y是可选依赖，依赖不会由B传至A。X、Y不会对A造成影响。")]),s._v(" "),a("li",[s._v("理想情况下，不应该使用可选依赖。")])]),s._v(" "),a("h1",{attrs:{id:"九、依赖管理最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、依赖管理最佳实践"}},[s._v("#")]),s._v(" 九、依赖管理最佳实践")]),s._v(" "),a("h2",{attrs:{id:"_1-排除依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-排除依赖"}},[s._v("#")]),s._v(" 1.排除依赖")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("前提")]),s._v(" "),a("p",[s._v("A->B, scope:compile B->C, scope:compile")])]),s._v(" "),a("li",[a("p",[s._v("目的：A不想引入传递性依赖C")])]),s._v(" "),a("li",[a("p",[s._v("使用exclusions元素声明排除依赖，exclusions元素可以包含多个exclusion元素。")])]),s._v(" "),a("li",[a("p",[s._v("声明exclusion元素时只需要groupId和artifactId")])])]),s._v(" "),a("h2",{attrs:{id:"_2-归类依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-归类依赖"}},[s._v("#")]),s._v(" 2.归类依赖")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("使用properties元素定义maven属性")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<properties>\n  <springframework.version>5.2.1.RELEASE</springframework.version>\n</properties>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_3-优化依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-优化依赖"}},[s._v("#")]),s._v(" 3.优化依赖")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("查看当前项目的已解析依赖(Resolved Dependency)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn dependency:list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ mavenTest1 ---\n[INFO] \n[INFO] The following files have been resolved:\n[INFO]    junit:junit:jar:3.8.1:test\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.355 s\n[INFO] Finished at: 2022-01-12T17:11:56+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看当前项目的依赖树")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn dependency:tree\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ mavenTest1 ---\n[INFO] com.sankuai:mavenTest1:jar:1.0-SNAPSHOT\n[INFO] \\- junit:junit:jar:3.8.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.856 s\n[INFO] Finished at: 2022-01-12T17:12:30+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("分析当前项目的依赖")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn dependency:analyze\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] >>> maven-dependency-plugin:2.8:analyze (default-cli) > test-compile @ mavenTest1 >>>\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest1 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest1 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/test-classes\n[INFO] \n[INFO] <<< maven-dependency-plugin:2.8:analyze (default-cli) < test-compile @ mavenTest1 <<<\n[INFO] \n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:analyze (default-cli) @ mavenTest1 ---\n[INFO] No dependency problems found\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.902 s\n[INFO] Finished at: 2022-01-12T17:13:05+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_3-仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-仓库"}},[s._v("#")]),s._v(" 3. 仓库")]),s._v(" "),a("h2",{attrs:{id:"一、引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、引入"}},[s._v("#")]),s._v(" 一、引入")]),s._v(" "),a("ul",[a("li",[s._v("maven坐标和依赖是一个构件在maven世界中的逻辑表示方式，而构件的物理表示方式是文件。")]),s._v(" "),a("li",[s._v("maven通过仓库来统一管理这些构件。")]),s._v(" "),a("li",[s._v("maven项目将不再各自存储其依赖文件，只需要声明依赖坐标。")]),s._v(" "),a("li",[s._v("maven采用引用的方式将依赖的jar引入进来，不对真实的jar进行拷贝，但是打包的时候，运行需要用到的jar都会被拷贝到安装包")])]),s._v(" "),a("h1",{attrs:{id:"二、仓库分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、仓库分类"}},[s._v("#")]),s._v(" 二、仓库分类")]),s._v(" "),a("ul",[a("li",[s._v("本地仓库")]),s._v(" "),a("li",[s._v("远程仓库: 中央仓库、私服、其他公共仓库")])]),s._v(" "),a("h2",{attrs:{id:"_1-本地仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-本地仓库"}},[s._v("#")]),s._v(" 1.本地仓库")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在安装maven后本地仓库并不存在，当我们执行第一条maven命令的时候才会创建本地仓库。")])]),s._v(" "),a("li",[a("p",[s._v("默认情况下，maven本地仓库默认地址是~/.m2/respository目录，")])]),s._v(" "),a("li",[a("p",[s._v("用户可以自定义本地仓库目录，在~/.m2/settings.xml文件中进行修改")])]),s._v(" "),a("li",[a("p",[s._v("下载构件：从远程仓库下载到本地仓库目录中")])]),s._v(" "),a("li",[a("p",[s._v("使用本地项目构件：将本地项目构件安装到maven本地仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mvn clean install\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-远程仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-远程仓库"}},[s._v("#")]),s._v(" 2.远程仓库")]),s._v(" "),a("ul",[a("li",[s._v("本地仓库不存在构件时，需要从远程仓库下载构件。")])]),s._v(" "),a("h2",{attrs:{id:"_3-中央仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-中央仓库"}},[s._v("#")]),s._v(" 3.中央仓库")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在maven的超级pom中可以看到默认的中央仓库。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("超级pom：所有maven项目都会继承，其中的配置会自动继承。")])]),s._v(" "),a("li",[a("p",[s._v("超级pom所在文件：${M2_HOME}/lib/maven-model-builder-3.6.3.jar")])]),s._v(" "),a("li",[a("p",[s._v("解压jar文件")])]),s._v(" "),a("li",[a("p",[s._v("查看lib/org/apache/maven/model/pom-4.0.0.xml")])]),s._v(" "),a("li",[a("p",[s._v("找到中央仓库的默认配置：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<repositories> \n  <repository> \n    <id>central</id>\n    <name>Central Repository</name>\n    <url>https://repo.maven.apache.org/maven2</url>\n    <layout>default</layout>\n    <snapshots> \x3c!-- 不从该中央仓库下载快照版本的构件 --\x3e\n      <enabled>false</enabled>\n    </snapshots>\n  </repository>\n</repositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("默认的中央仓库：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://link.segmentfault.com/?enc=Zr0xviVswqNoEmqLZY6oFA%3D%3D.QRaT%2BL3PJ9OLF72PeH89SMLZ0jjMxw6ZH1jJ39Wcy41oFhSkzlTktP2k%2F8hVxctP",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://repo.maven.apache.org/maven2/"),a("OutboundLink")],1)])])])]),s._v(" "),a("h2",{attrs:{id:"_4-私服"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-私服"}},[s._v("#")]),s._v(" 4.私服")]),s._v(" "),a("ul",[a("li",[s._v("私服是一种特殊的远程仓库，是架设在局域网内的仓库服务。")]),s._v(" "),a("li",[s._v("私服代理广域网上的远程仓库，供局域网内的maven用户使用。")]),s._v(" "),a("li",[s._v("私服的好处：\n"),a("ul",[a("li",[s._v("节省自己的外网带宽。")]),s._v(" "),a("li",[s._v("加速maven构建。")]),s._v(" "),a("li",[s._v("部署第三方构件。")]),s._v(" "),a("li",[s._v("提高稳定性，增强控制。")]),s._v(" "),a("li",[s._v("降低中央仓库的负荷。")])])])]),s._v(" "),a("h2",{attrs:{id:"_5-其他远程仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-其他远程仓库"}},[s._v("#")]),s._v(" 5.其他远程仓库")]),s._v(" "),a("ul",[a("li",[s._v("公司的远程仓库：http://pixel.sankuai.com/")]),s._v(" "),a("li",[s._v("美团的Settings："),a("a",{attrs:{href:"https://km.sankuai.com/page/455587258",target:"_blank",rel:"noopener noreferrer"}},[s._v("Settings.xml"),a("OutboundLink")],1)])]),s._v(" "),a("h1",{attrs:{id:"三、远程仓库配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、远程仓库配置"}},[s._v("#")]),s._v(" 三、远程仓库配置")]),s._v(" "),a("h2",{attrs:{id:"_1-在项目pom中配置远程仓库-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-在项目pom中配置远程仓库-项目"}},[s._v("#")]),s._v(" 1.在项目POM中配置远程仓库（项目）")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("说明：该配置只对当前项目有效。")])]),s._v(" "),a("li",[a("p",[s._v("配置信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<repositories>\n  <repository>\n    <id>meituan-dianping-releases</id>\n    <name>Repository for releases artifacts</name>\n    <url>http://pixel.sankuai.com/repository/group-releases</url>\n    <snapshots>\n      <enabled>false</enabled>\n    </snapshots>\n  <releases>\n    <enabled>true</enabled>\n    <updatePolicy>always</updatePolicy>\n  </releases>\n  </repository>\n\n  <repository>\n    <id>meituan-dianping-snapshots</id>\n    <name>Repository for snapshots artifacts</name>\n    <url>http://pixel.sankuai.com/repository/group-snapshots</url>\n    <snapshots>\n      <enabled>true</enabled>\n      <updatePolicy>always</updatePolicy>\n    </snapshots>\n    <releases>\n      <enabled>false</enabled>\n    </releases>\n  </repository>\n</repositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("repositories->repository元素说明")]),s._v(" "),a("ul",[a("li",[s._v("repositories元素下可以使用repository子元素声明一个或多个远程仓库。")]),s._v(" "),a("li",[s._v("id：远程仓库标识，id名称唯一。注意：maven自带的中央仓库id为central，如果其他的仓库声明也使用该id，会覆盖中央仓库的配置。")]),s._v(" "),a("li",[s._v("url：远程仓库地址。")]),s._v(" "),a("li",[s._v("releases：用来控制对于发布版本构件的下载。\n"),a("ul",[a("li",[s._v("enabled属性表示是否开启发布版本的下载支持。")]),s._v(" "),a("li",[s._v("updatePolicy：用来配置maven从远程仓库更新的频率。\n"),a("ul",[a("li",[s._v("默认为daily，表示每天检查一次。")]),s._v(" "),a("li",[s._v("never，从不检查更新。")]),s._v(" "),a("li",[s._v("always，每次构建都检查更新。")]),s._v(" "),a("li",[s._v("interval: X，每隔X分钟检查更新一次（X为任意整数）")])])]),s._v(" "),a("li",[s._v("checksumPolicy：用来配置maven检查校验和文件的策略。\n"),a("ul",[a("li",[s._v("默认为warn，执行构建时给出警告信息。")]),s._v(" "),a("li",[s._v("fail，遇到校验和错误，就让构建失败。")]),s._v(" "),a("li",[s._v("ignore，让maven完全忽略校验和错误。")])])])])]),s._v(" "),a("li",[s._v("snapshots：用来控制对于快照版本构件的下载。\n"),a("ul",[a("li",[s._v("enabled属性表示是否开启快照版本的下载支持。")]),s._v(" "),a("li",[s._v("快照版本的构件以-SNAPSHOT结尾，发布版本没有这个标识。")])])]),s._v(" "),a("li",[s._v("layout：default表示仓库的布局是maven2或者maven3的默认布局，而不是maven1的布局。")])])]),s._v(" "),a("li",[a("p",[s._v("测试远程仓库能否正常拉取依赖")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("以项目mavenTest1为例。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  <dependencies>\n    <dependency>\n      <groupId>org.projectlombok</groupId>\n      <artifactId>lombok</artifactId>\n      <version>1.18.16</version>\n    </dependency>\n  </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("首先，删除${localRepository}/org/projectlombok/lombok目录文件，此时本地仓库无依赖。")])]),s._v(" "),a("li",[a("p",[s._v("切换到项目目录，在终端执行mvn compile")])]),s._v(" "),a("li",[a("p",[s._v("查看终端输出。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.pom\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.pom (1.5 kB at 4.0 kB/s)\nDownloading from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar\nDownloaded from meituan-dianping: http://pixel.sankuai.com/repository/mtdp/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar (1.9 MB at 2.8 MB/s)\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.726 s\n[INFO] Finished at: 2022-01-12T19:05:58+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("观察Downloading from meituan-dianping后面就是在pom文件中配置的远程仓库，meituan-dianping是定义的仓库id。 在本地仓库缺少依赖后，就会从配置的远程仓库下载依赖。")])])])])]),s._v(" "),a("h2",{attrs:{id:"_2-在用户配置中配置镜像仓库-全局"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-在用户配置中配置镜像仓库-全局"}},[s._v("#")]),s._v(" 2.在用户配置中配置镜像仓库（全局）")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("说明：该配置对所有使用该配置的项目都有效。")])]),s._v(" "),a("li",[a("p",[s._v("什么是镜像仓库？")]),s._v(" "),a("ul",[a("li",[s._v("如果仓库X可以提供仓库Y所有的内容，那么就可以认为X是Y的一个镜像。")]),s._v(" "),a("li",[s._v("任何一个可以从Y获取的构件，都可以从它的镜像中获取。")]),s._v(" "),a("li",[s._v("可以采用镜像的方式配置远程仓库，镜像在settings.xml中进行配置，对所有使用该配置的maven项目起效。")])])]),s._v(" "),a("li",[a("p",[s._v("配置镜像仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <mirrors>\n        <mirror>\n            <id>meituan-dianping</id>\n            <name>meituan-dianping mirror</name>\n            <url>http://pixel.sankuai.com/repository/mtdp</url>\n            <mirrorOf>*</mirrorOf>\n        </mirror>\n    </mirrors>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置解释")]),s._v(" "),a("ul",[a("li",[s._v("mirrors元素下包含多个mirror子元素，每个mirror元素表示一个远程镜像。")]),s._v(" "),a("li",[s._v("id：镜像id，唯一标识。")]),s._v(" "),a("li",[s._v("name：镜像名称。")]),s._v(" "),a("li",[s._v("url：镜像地址")]),s._v(" "),a("li",[s._v("mirrorOf：指定"),a("strong",[s._v("哪些远程仓库的id使用这个镜像去下载构件")]),s._v("，这个对应pom.xml文件中repository元素的id。就是表示这个镜像是给哪些pom.xml文件中的远程仓库使用的，这里面需要列出远程仓库的id，多个之间用逗号隔开。")]),s._v(" "),a("li",[s._v("mirrorOf配置语法：\n"),a("ul",[a("li",[a("mirrorOf",[s._v(" * ")]),s._v("：匹配所有远程仓库。")],1),s._v(" "),a("li",[a("mirrorOf",[s._v("external: * ")]),s._v("：匹配所有不在本机上的远程仓库。")],1),s._v(" "),a("li",[a("mirrorOf",[s._v(" repo1, repo2 ")]),s._v("：匹配仓库repo1和repo2，多个仓库之间使用逗号分割。")],1),s._v(" "),a("li",[a("mirrorOf",[s._v(" *, !repo1 ")]),s._v("：匹配所有远程仓库，除了仓库repo1，使用感叹号(!)将仓库从匹配中排除。")],1)])])])]),s._v(" "),a("li",[a("p",[s._v("注意\n镜像仓库完全屏蔽了被镜像仓库，当镜像仓库不稳定或者停止服务的时候，maven无法自动切换到被镜像仓库，因此将会无法下载构件。")])]),s._v(" "),a("li",[a("p",[s._v("结合私服使用\n"),a("strong",[s._v("由于私服可以代理所有远程仓库（包含中央仓库），因此对于组织内部的maven用户来说，使用一个私服地址就等于使用了所有需要的外部仓库。")])])])]),s._v(" "),a("h1",{attrs:{id:"四、仓库布局"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、仓库布局"}},[s._v("#")]),s._v(" 四、仓库布局")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("仓库布局方式\n任何一个构件都有其唯一的坐标，根据坐标可以定义其在仓库中的唯一路径。")])]),s._v(" "),a("li",[a("p",[s._v("举例")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("以spring-web的依赖为例")])]),s._v(" "),a("li",[a("p",[s._v("项目demo1 pom文件的依赖")]),s._v(" "),a("p",[a("dependency",[a("groupId",[s._v("org.springframework")]),s._v(" "),a("artifactId",[s._v("spring-web")]),s._v(" "),a("version",[s._v("5.2.1.RELEASE")])],1)],1)]),s._v(" "),a("li",[a("p",[s._v("查看spring-web的jar包在本地仓库中的位置。")]),s._v(" "),a("ul",[a("li",[s._v("/Users/xuyang/.m2/repository/org/springframework/spring-web/5.2.1.RELEASE/spring-web-5.2.1.RELEASE.jar")]),s._v(" "),a("li",[s._v("/Users/xuyang/.m2/repository是本地仓库目录。")]),s._v(" "),a("li",[s._v("构件的目录路径为groupId/artifactId/version/")]),s._v(" "),a("li",[s._v("构件名称为：artifactId-version[-classifier].packaging， packaging默认为jar。")])])])])]),s._v(" "),a("li",[a("p",[s._v("maven如何定位构件路径")]),s._v(" "),a("ol",[a("li",[s._v("将groupId中的句点分隔符(.)转换成路径分隔符(/)，同时在后面追加一个路径分隔符(/)。\n"),a("ul",[a("li",[s._v("org.springframework---\x3eorg/springframework/")])])]),s._v(" "),a("li",[s._v("将artifactId拼接在1的路径上, 同时在后面追加一个路径分隔符(/)。\n"),a("ul",[a("li",[s._v("org/springframework/spring-web/")])])]),s._v(" "),a("li",[s._v("将version拼接在2的路径上，同时在后面追加一个路径分隔符(/)。\n"),a("ul",[a("li",[s._v("org/springframework/spring-web/5.2.1.RELEASE/")])])]),s._v(" "),a("li",[s._v("将构件名称拼接在3的路径上。\n"),a("ul",[a("li",[s._v("org/springframework/spring-web/5.2.1.RELEASE/spring-web-5.2.1.RELEASE.jar")])])])])])]),s._v(" "),a("h1",{attrs:{id:"五、仓库如何解析依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、仓库如何解析依赖"}},[s._v("#")]),s._v(" 五、仓库如何解析依赖")]),s._v(" "),a("ol",[a("li",[s._v("当本地仓库没有依赖构件的时候，maven会自动从远程仓库下载；")]),s._v(" "),a("li",[s._v("当依赖版本为快照版本的时候，maven会自动找到最新的快照。")]),s._v(" "),a("li",[s._v("依赖解析机制：\n"),a("ul",[a("li",[s._v("依赖范围是system的时候，maven直接从本地文件系统解析构件。")]),s._v(" "),a("li",[s._v("根据依赖坐标计算仓库路径后，尝试直接从本地仓库寻找构件，如发现相应构件，则解析成功。")]),s._v(" "),a("li",[s._v("如果本地仓库构件不存在，并且依赖的版本是显示的发布版本构件，则遍历所有的远程仓库，发现后 下载并解析使用。")])])])]),s._v(" "),a("h1",{attrs:{id:"六、仓库检索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、仓库检索"}},[s._v("#")]),s._v(" 六、仓库检索")]),s._v(" "),a("ol",[a("li",[s._v("Sonatype（中央仓库）："),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=S1B9rZLNgDqW934TF80R3A%3D%3D.wjOVFyqhzlPFvnzPspGU0r1IhmYcWpX7FSCbb6TVXSQ%3D",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://search.maven.org/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("Sonatype Nexus： "),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=atn8QOEYeVB1GsEAN3Q9xA%3D%3D.Iy7Y8lLelEvRV%2F7wRqOdft%2BSJu0s4knLiT1knJ4khFhwRyI7ZrotcwFdXdF95UTj",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://repository.sonatype.org/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("MVNRepository："),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=RmwhRbW%2FeEXXhXK%2FR7MMzw%3D%3D.u2bOUpyAZSV4mGqpWKLPX9MHe8dFjUWM3TRXA9E%2Bgbc%3D",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mvnrepository.com/"),a("OutboundLink")],1)])]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_4-私服-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-私服-2"}},[s._v("#")]),s._v(" 4. 私服")]),s._v(" "),a("h2",{attrs:{id:"一、私服"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、私服"}},[s._v("#")]),s._v(" 一、私服")]),s._v(" "),a("p",[s._v("公司私服为自研，详情需查看官方文档："),a("a",{attrs:{href:"https://km.sankuai.com/page/248247197",target:"_blank",rel:"noopener noreferrer"}},[s._v("Pixel PRFAQ v1"),a("OutboundLink")],1)]),s._v(" "),a("h1",{attrs:{id:"二、使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、使用"}},[s._v("#")]),s._v(" 二、使用")]),s._v(" "),a("h2",{attrs:{id:"_1-安装和配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装和配置"}},[s._v("#")]),s._v(" 1.安装和配置")]),s._v(" "),a("ol",[a("li",[s._v("安装Maven工具，配置环境变量及本地仓库(自行Google一下)")]),s._v(" "),a("li",[s._v("使用公司统一的settings.xml文件替换本地的settings.xml文件(一般是在.m2目录下)，如果本部门或者bg/bu有特殊需求，比如到家等，请使用本部门自己的settings.xml文件(// TODO 总结一下内部在用的)\n"),a("ol",[a("li",[s._v("公司统一的settings.xml文件:"),a("a",{attrs:{href:"http://s3plus.vip.sankuai.com/v1/mss_8b80ba092e4145088a62d10f25a14f36/resource/maven/local/settings.xml",target:"_blank",rel:"noopener noreferrer"}},[s._v("统一的settings.xml文件"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("到家事业部等需要使用线下仓库隔离(其它部门不要使用)的:"),a("a",{attrs:{href:"https://km.sankuai.com/page/13953339",target:"_blank",rel:"noopener noreferrer"}},[s._v("线下 Maven Settings.xml"),a("OutboundLink")],1)])])]),s._v(" "),a("li",[s._v("(可选)idea请做如下配置，选择.m2文件下的settings.xml文件和本地仓库目录，并在后面勾选上覆盖")])]),s._v(" "),a("h2",{attrs:{id:"_2-上传-deploy-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-上传-deploy-配置"}},[s._v("#")]),s._v(" 2."),a("strong",[s._v("上传(deploy)配置")])]),s._v(" "),a("ul",[a("li",[s._v("Plus上配置Maven发布项")])]),s._v(" "),a("p",[s._v("链接："),a("a",{attrs:{href:"https://km.sankuai.com/page/13946157",target:"_blank",rel:"noopener noreferrer"}},[s._v("1. Quick Start (New)"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("链接(仅到家或其它使用offline仓库的部门使用)："),a("a",{attrs:{href:"https://km.sankuai.com/page/125587615",target:"_blank",rel:"noopener noreferrer"}},[s._v("6. Maven部署线下仓库"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("Plus上Maven发布项相关配置说明")])]),s._v(" "),a("p",[s._v("链接："),a("a",{attrs:{href:"https://km.sankuai.com/page/327690462",target:"_blank",rel:"noopener noreferrer"}},[s._v("3. Maven 参数"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("个人本地deploy配置")])]),s._v(" "),a("p",[s._v("目前在逐步封禁"),a("a",{attrs:{href:"https://km.sankuai.com/page/659949251",target:"_blank",rel:"noopener noreferrer"}},[s._v("本地deploy限制推进"),a("OutboundLink")],1),s._v("，请使用Plus进行发包")]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_5-生命周期和插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-生命周期和插件"}},[s._v("#")]),s._v(" 5. 生命周期和插件")]),s._v(" "),a("h2",{attrs:{id:"一、maven的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、maven的生命周期"}},[s._v("#")]),s._v(" 一、maven的生命周期")]),s._v(" "),a("h2",{attrs:{id:"_1-生命周期介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-生命周期介绍"}},[s._v("#")]),s._v(" 1.生命周期介绍")]),s._v(" "),a("ul",[a("li",[s._v("maven的生命周期就是为了对所有的构建过程进行抽象和统一。")]),s._v(" "),a("li",[s._v("包含了项目的清理、初始化、编译、测试、打包、集成测试、验证、部署和站点生成等几乎所有构建步骤。")]),s._v(" "),a("li",[s._v("几乎所有的项目构建，都能映射到这样一个生命周期上。")])]),s._v(" "),a("h2",{attrs:{id:"_2-生命周期详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-生命周期详解"}},[s._v("#")]),s._v(" 2.生命周期详解")]),s._v(" "),a("h3",{attrs:{id:"_2-1-三套生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-三套生命周期"}},[s._v("#")]),s._v(" 2.1.三套生命周期")]),s._v(" "),a("ul",[a("li",[s._v("maven包含三套"),a("strong",[s._v("相互独立")]),s._v("的生命周期。")]),s._v(" "),a("li",[a("strong",[s._v("clean")]),s._v("生命周期：用于清理项目。")]),s._v(" "),a("li",[a("strong",[s._v("default")]),s._v("生命周期：用于构建项目。")]),s._v(" "),a("li",[a("strong",[s._v("site")]),s._v("生命周期：用于建立项目站点。")])]),s._v(" "),a("h3",{attrs:{id:"_2-2-生命周期内部的阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-生命周期内部的阶段"}},[s._v("#")]),s._v(" 2.2.生命周期内部的阶段")]),s._v(" "),a("ul",[a("li",[s._v("每个生命周期包含多个阶段(phase)。")]),s._v(" "),a("li",[s._v("这些阶段是有序的。")]),s._v(" "),a("li",[s._v("后面的阶段依赖于前面的阶段。当执行某个阶段的时候，会先执行它前面的阶段。")]),s._v(" "),a("li",[s._v("用户和maven最直接的交互就是调用这些生命周期阶段。")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-clean生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-clean生命周期"}},[s._v("#")]),s._v(" 2.3.clean生命周期")]),s._v(" "),a("p",[s._v("clean生命周期的目的是清理项目，它包含3个阶段：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("clean生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("说明")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("pre-clean")]),s._v(" "),a("td",[s._v("执行一些clean前需要完成的工作")])]),s._v(" "),a("tr",[a("td",[s._v("clean")]),s._v(" "),a("td",[s._v("清理上一次构建生成的文件")])]),s._v(" "),a("tr",[a("td",[s._v("post-clean")]),s._v(" "),a("td",[s._v("执行一些clean后需要完成的工作")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-4-default生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-default生命周期"}},[s._v("#")]),s._v(" 2.4.default生命周期")]),s._v(" "),a("p",[s._v("default生命周期的目的是构建项目，它定义了真正构建时所需要完成的所有步骤，是所有生命周期中最核心的部分。\n包含23个阶段："),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=VI7B0ccyGGoqGHNdPCgZqg%3D%3D.GLCRsxsw%2FNooBgBMo427PrB5%2B%2F9O0rQAm4NjKYPngQT3jbGtVzOetZ6nv7B6PkoCoOSIrjy4W66%2B3QGHoI%2B15wP8ormoS0T1Mv9K3YxxKeA%3D",target:"_blank",rel:"noopener noreferrer"}},[s._v("详细介绍"),a("OutboundLink")],1)]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("default生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("说明")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("validate")]),s._v(" "),a("td",[s._v("验证项目是否正确并且所有必要信息都可用")])]),s._v(" "),a("tr",[a("td",[s._v("initialize")]),s._v(" "),a("td",[s._v("初始化构建状态，比如设置属性值、创建目录")])]),s._v(" "),a("tr",[a("td",[s._v("generate-sources")]),s._v(" "),a("td",[s._v("生成包含在编译阶段中的任何源代码")])]),s._v(" "),a("tr",[a("td",[s._v("process-sources")]),s._v(" "),a("td",[s._v("处理源代码，比如说，过滤任意值")])]),s._v(" "),a("tr",[a("td",[s._v("generate-resources")]),s._v(" "),a("td",[s._v("生成将会包含在项目包中的资源文件")])]),s._v(" "),a("tr",[a("td",[s._v("process-resources")]),s._v(" "),a("td",[s._v("复制和处理资源到目标目录，为打包阶段最好准备")])]),s._v(" "),a("tr",[a("td",[s._v("compile")]),s._v(" "),a("td",[s._v("编译项目的源代码")])]),s._v(" "),a("tr",[a("td",[s._v("process-classes")]),s._v(" "),a("td",[s._v("处理编译生成的文件，比如说对Java class文件做字节码改善优化")])]),s._v(" "),a("tr",[a("td",[s._v("generate-test-sources")]),s._v(" "),a("td",[s._v("生成包含在编译阶段中的任何测试源代码")])]),s._v(" "),a("tr",[a("td",[s._v("process-test-sources")]),s._v(" "),a("td",[s._v("处理测试源代码，比如说，过滤任意值")])]),s._v(" "),a("tr",[a("td",[s._v("generate-test-resources")]),s._v(" "),a("td",[s._v("为测试创建资源文件")])]),s._v(" "),a("tr",[a("td",[s._v("process-test-resources")]),s._v(" "),a("td",[s._v("复制和处理测试资源到目标目录")])]),s._v(" "),a("tr",[a("td",[s._v("test-compile")]),s._v(" "),a("td",[s._v("编译测试源代码到测试目标目录")])]),s._v(" "),a("tr",[a("td",[s._v("process-test-classes")]),s._v(" "),a("td",[s._v("处理测试源码编译生成的文件")])]),s._v(" "),a("tr",[a("td",[s._v("test")]),s._v(" "),a("td",[s._v("使用合适的单元测试框架运行测试 , 测试代码不会被打包或部署")])]),s._v(" "),a("tr",[a("td",[s._v("prepare-package")]),s._v(" "),a("td",[s._v("在实际打包之前，执行任何的必要的操作为打包做准备")])]),s._v(" "),a("tr",[a("td",[s._v("package")]),s._v(" "),a("td",[s._v("将编译后的代码打包成可分发的格式，比如JAR")])]),s._v(" "),a("tr",[a("td",[s._v("pre-integration-test")]),s._v(" "),a("td",[s._v("在执行集成测试前进行必要的动作。比如说，搭建需要的环境")])]),s._v(" "),a("tr",[a("td",[s._v("integration-test")]),s._v(" "),a("td",[s._v("如有必要，将程序包处理并部署到可以运行集成测试的环境中")])]),s._v(" "),a("tr",[a("td",[s._v("post-integration-test")]),s._v(" "),a("td",[s._v("执行集成测试完成后进行必要的动作。比如说，清理集成测试环境")])]),s._v(" "),a("tr",[a("td",[s._v("verify")]),s._v(" "),a("td",[s._v("运行任何检查以验证包是否有效并符合质量标准")])]),s._v(" "),a("tr",[a("td",[s._v("install")]),s._v(" "),a("td",[s._v("安装项目包到maven本地仓库，供本地其他maven项目使用")])]),s._v(" "),a("tr",[a("td",[s._v("deploy")]),s._v(" "),a("td",[s._v("将最终包复制到远程仓库，供其他开发人员和maven项目使用")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-5-site生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-site生命周期"}},[s._v("#")]),s._v(" 2.5.site生命周期")]),s._v(" "),a("p",[s._v("site生命周期的目的是建立和发布项目站点。\nMaven能够基于pom.xml所包含的信息，自动生成一个友好的站点，方便团队交流和发布项目信息。\n包含以下4个阶段：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("site生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("说明")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("pre-site")]),s._v(" "),a("td",[s._v("执行一些在生成项目站点之前需要完成的工作")])]),s._v(" "),a("tr",[a("td",[s._v("site")]),s._v(" "),a("td",[s._v("生成项目站点文档")])]),s._v(" "),a("tr",[a("td",[s._v("post-site")]),s._v(" "),a("td",[s._v("执行一些在生成项目站点之后需要完成的工作")])]),s._v(" "),a("tr",[a("td",[s._v("site-deploy")]),s._v(" "),a("td",[s._v("将生成的项目站点发布到服务器上")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-6-mvn命令和生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-mvn命令和生命周期"}},[s._v("#")]),s._v(" 2.6.mvn命令和生命周期")]),s._v(" "),a("p",[s._v("从命令行执行maven任务的最主要方式就是调用maven的生命周期阶段。\n需要注意的是，每套生命周期是相互独立的，但是每套生命周期的阶段是有前后依赖关系的。")]),s._v(" "),a("ul",[a("li",[s._v("格式： mvn 阶段 [阶段2] ...[阶段n]")]),s._v(" "),a("li",[a("strong",[s._v("mvn clean")]),s._v("：该命令调用clean生命周期的clean阶段。\n"),a("ul",[a("li",[s._v("实际执行的阶段为clean生命周期中的pre-clean和clean阶段。")])])]),s._v(" "),a("li",[a("strong",[s._v("mvn test")]),s._v("：该命令调用default生命周期的test阶段。\n"),a("ul",[a("li",[s._v("实际执行的阶段为default生命周期的从validate到test的所有阶段。")]),s._v(" "),a("li",[s._v("这也就解释了为什么执行测试的时候，项目的代码能够自动编译。")])])]),s._v(" "),a("li",[a("strong",[s._v("mvn clean install")]),s._v("：该命令调用clean生命周期的clean阶段和default生命周期的install阶段。\n"),a("ul",[a("li",[s._v("实际执行的阶段为clean生命周期的pre-clean、clean阶段，以及default生命周期的从validate到install的所有阶段。")])])]),s._v(" "),a("li",[a("strong",[s._v("mvn clean deploy")]),s._v("：该命令调用clean生命周期的clean阶段和default生命周期的deploy阶段。\n"),a("ul",[a("li",[s._v("实际执行的阶段为clean生命周期的pre-clean、clean阶段，以及default生命周期的所有阶段。")]),s._v(" "),a("li",[s._v("包含了清理上次构建的结果、编译代码、运行单元测试、打包、将打好的包安装到本地仓库、将打好的包发布到远程仓库等所有操作。")])])])]),s._v(" "),a("h1",{attrs:{id:"二、maven插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、maven插件"}},[s._v("#")]),s._v(" 二、maven插件")]),s._v(" "),a("h2",{attrs:{id:"_1-插件目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-插件目标"}},[s._v("#")]),s._v(" 1.插件目标")]),s._v(" "),a("ul",[a("li",[s._v("maven的核心仅仅定义了抽象的生命周期，具体的任务交给插件完成。\n"),a("ul",[a("li",[s._v("每套生命周期包含多个阶段，每个阶段执行什么操作，都由插件完成。")])])]),s._v(" "),a("li",[s._v("插件以独立的构件形式存在。\n"),a("ul",[a("li",[s._v("为了能够复用代码，每个插件包含多个功能。")]),s._v(" "),a("li",[a("strong",[s._v("插件中的每个功能就叫做插件的目标（Plugin Goal），每个插件中可能包含一个或者多个插件目标（Plugin Goal）")]),s._v("。")])])])]),s._v(" "),a("h2",{attrs:{id:"_2-插件绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-插件绑定"}},[s._v("#")]),s._v(" 2.插件绑定")]),s._v(" "),a("ul",[a("li",[s._v("maven"),a("strong",[s._v("生命周期的阶段与插件目标绑定")]),s._v("，以完成某个具体的构件任务。\n"),a("ul",[a("li",[s._v("比如项目编译这个任务，对应了default生命周期阶段的compile阶段，而maven-compiler-plugin插件的compile目标能够完成该任务，因此将他们进行绑定，实现项目编译任务。")])])]),s._v(" "),a("li",[s._v("生命周期阶段与插件进行绑定后，可以通过mvn 阶段来执行和这个阶段绑定的插件目标。")])]),s._v(" "),a("h2",{attrs:{id:"_3-内置绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-内置绑定"}},[s._v("#")]),s._v(" 3.内置绑定")]),s._v(" "),a("h3",{attrs:{id:"_3-1-说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-说明"}},[s._v("#")]),s._v(" 3.1.说明")]),s._v(" "),a("p",[s._v("为了让用户几乎不用任何配置就能构建maven项目，maven为一些主要的生命周期阶段绑定好了插件目标，当我们通过命令调用生命周期阶段时，绑定的插件目标就会执行对应的任务")]),s._v(" "),a("h3",{attrs:{id:"_3-2-clean生命周期阶段与插件目标的绑定关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-clean生命周期阶段与插件目标的绑定关系"}},[s._v("#")]),s._v(" 3.2.clean生命周期阶段与插件目标的绑定关系")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("插件目标")])]),s._v(" "),a("th",[a("strong",[s._v("作用")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("pre-clean")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("clean")]),s._v(" "),a("td",[s._v("maven-clean-plugin:clean")]),s._v(" "),a("td",[a("strong",[s._v("删除项目的输出目录")])])]),s._v(" "),a("tr",[a("td",[s._v("post-clean")]),s._v(" "),a("td"),s._v(" "),a("td")])])]),s._v(" "),a("h3",{attrs:{id:"_3-3-default生命周期阶段与插件目标的绑定关系-打包类型-jar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-default生命周期阶段与插件目标的绑定关系-打包类型-jar"}},[s._v("#")]),s._v(" 3.3.default生命周期阶段与插件目标的绑定关系(打包类型:jar)")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("插件目标")])]),s._v(" "),a("th",[a("strong",[s._v("作用")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("process-resources")]),s._v(" "),a("td",[s._v("maven-resources-plugin:resources")]),s._v(" "),a("td",[s._v("复制主资源文件到主输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("compile")]),s._v(" "),a("td",[s._v("maven-compiler-plugin:compile")]),s._v(" "),a("td",[s._v("编译主代码到主输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("process-test-resources")]),s._v(" "),a("td",[s._v("maven-resources-plugin:testResources")]),s._v(" "),a("td",[s._v("复制测试资源文件到测试输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("test-compile")]),s._v(" "),a("td",[s._v("maven-compiler-plugin:testCompile")]),s._v(" "),a("td",[s._v("编译测试代码到测试输出目录")])]),s._v(" "),a("tr",[a("td",[s._v("test")]),s._v(" "),a("td",[s._v("maven-surefire-plugin:test")]),s._v(" "),a("td",[s._v("执行测试用例")])]),s._v(" "),a("tr",[a("td",[s._v("package")]),s._v(" "),a("td",[s._v("maven-jar-plugin:jar")]),s._v(" "),a("td",[s._v("创建项目jar包")])]),s._v(" "),a("tr",[a("td",[s._v("install")]),s._v(" "),a("td",[s._v("maven-install-plugin:install")]),s._v(" "),a("td",[s._v("将项目输出构件安装到本地maven仓库")])]),s._v(" "),a("tr",[a("td",[s._v("deploy")]),s._v(" "),a("td",[s._v("maven-deploy-plugin:deploy")]),s._v(" "),a("td",[s._v("将项目输出构件部署到远程仓库")])])])]),s._v(" "),a("ul",[a("li",[s._v("关于输出目录，参考"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000021287778#item-2",target:"_blank",rel:"noopener noreferrer"}},[s._v("Maven学习2: 依赖管理 - 2.约定优于配置"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"_3-4-site生命周期阶段与插件目标的绑定关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-site生命周期阶段与插件目标的绑定关系"}},[s._v("#")]),s._v(" 3.4.site生命周期阶段与插件目标的绑定关系")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("生命周期阶段")])]),s._v(" "),a("th",[a("strong",[s._v("插件目标")])]),s._v(" "),a("th",[a("strong",[s._v("作用")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("pre-site")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("site")]),s._v(" "),a("td",[s._v("maven-site-plugin:site")]),s._v(" "),a("td",[s._v("生成项目站点")])]),s._v(" "),a("tr",[a("td",[s._v("post-site")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("site-deploy")]),s._v(" "),a("td",[s._v("maven-site-plugin:deploy")]),s._v(" "),a("td",[s._v("将项目站点部署到远程服务器")])])])]),s._v(" "),a("h3",{attrs:{id:"_3-5-构建过程验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-构建过程验证"}},[s._v("#")]),s._v(" 3.5.构建过程验证")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("与1.2生命周期详解中6.mvn命令和生命周期示例相同，项目依然使用mavenTest1作为示例。")])]),s._v(" "),a("li",[a("p",[s._v("mvn clean：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ mavenTest1 ---\n[INFO] Deleting /Users/xuyang/workspace/mavenTest1/target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.276 s\n[INFO] Finished at: 2022-01-12T19:34:03+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("mvn test：")]),s._v(" "),a("ul",[a("li",[s._v("调用default生命周期的test阶段，实际执行的时候 default生命周期的validate阶段直到test阶段都要执行，每个阶段绑定的插件目标也会被执行。可以看到处理资源、编译源码、处理测试资源、编译测试源码、测试插件目标都得到了执行。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------< com.sankuai:mavenTest1 >-----------------------\n[INFO] Building mavenTest1 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mavenTest1 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mavenTest1 ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mavenTest1 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/xuyang/workspace/mavenTest1/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mavenTest1 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/xuyang/workspace/mavenTest1/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ mavenTest1 ---\n[INFO] Surefire report directory: /Users/xuyang/workspace/mavenTest1/target/surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.sankuai.AppTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.026 s\n[INFO] Finished at: 2022-01-12T19:34:57+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("mvn clean install：")]),s._v(" "),a("ul",[a("li",[s._v("该命令调用clean生命周期的clean阶段和default生命周期的install阶段。")]),s._v(" "),a("li",[s._v("（构建过程内容省略）")])])]),s._v(" "),a("li",[a("p",[s._v("mvn clean deploy：")]),s._v(" "),a("ul",[a("li",[s._v("该命令调用clean生命周期的clean阶段和default生命周期的deploy阶段。")]),s._v(" "),a("li",[s._v("（构建过程内容省略）")])])])]),s._v(" "),a("h2",{attrs:{id:"_4-插件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-插件配置"}},[s._v("#")]),s._v(" 4.插件配置")]),s._v(" "),a("h3",{attrs:{id:"_4-1-命令行插件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-命令行插件配置"}},[s._v("#")]),s._v(" 4.1.命令行插件配置")]),s._v(" "),a("ul",[a("li",[s._v("在maven命令中使用-D参数，并伴随一个参数键=参数值的形式，来配置插件目标的参数。")]),s._v(" "),a("li",[s._v("参数-D是java自带的，其功能是通过命令行设置一个java系统属性。")]),s._v(" "),a("li",[s._v("例如，跳过执行测试目标，mvn clean pakcage -Dmaven.test.skip=true")])]),s._v(" "),a("h3",{attrs:{id:"_4-2-pom文件中插件全局配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-pom文件中插件全局配置"}},[s._v("#")]),s._v(" 4.2.pom文件中插件全局配置")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户在pom文件声明插件时，可以对插件进行全局的配置。")])]),s._v(" "),a("li",[a("p",[s._v("例如，配置maven-compiler-plugin编译Java 1.8版本的源文件，生成与JVM 1.8兼容的字节码文件。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-compiler-plugin</artifactId>\n            <version>3.8.1</version>\n            <configuration>\n                \x3c!-- 编译器版本 --\x3e\n                <compilerVersion>1.8</compilerVersion>\n                \x3c!-- 源码版本 --\x3e\n                <source>1.8</source>\n                \x3c!-- 目标代码版本 --\x3e\n                <target>1.8</target>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_5-获取插件信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-获取插件信息"}},[s._v("#")]),s._v(" 5.获取插件信息")]),s._v(" "),a("h3",{attrs:{id:"_5-1-在线插件信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-在线插件信息"}},[s._v("#")]),s._v(" 5.1.在线插件信息")]),s._v(" "),a("ul",[a("li",[s._v("Apache："),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=yEIAOUn28PlaCKa3kXJMnw%3D%3D.cJa4iFXubFE91dtRr2y7nHNO6lfUZGmxnCNfVAhD1eVv%2BmURGWY%2BPo%2FdcJnKb8ZE",target:"_blank",rel:"noopener noreferrer"}},[s._v("Maven Plugins"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("可以查看插件介绍、插件目标、目标参数等等。")])]),s._v(" "),a("h3",{attrs:{id:"_5-2-使用-maven-help-plugin-描述插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-使用-maven-help-plugin-描述插件"}},[s._v("#")]),s._v(" 5.2.使用 maven-help-plugin 描述插件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("使用 maven-help-plugin 获取插件信息。")])]),s._v(" "),a("li",[a("p",[s._v("方式1：使用插件坐标：mvn help:describe -Dplugin=groupId:artifactId:version")])]),s._v(" "),a("li",[a("p",[s._v("方式2：使用插件目标前缀：mvn help:describe -Dplugin=Goal Prefix，目标前缀的作用是方便在命令行直接运行插件。")])]),s._v(" "),a("li",[a("p",[s._v("如果要获取插件的详细描述，可以在命令后加上-Ddetail参数。")])]),s._v(" "),a("li",[a("p",[s._v("举例：两种方式获取maven-compiler-plugin:3.8.1的插件描述信息")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("mvn help:describe -Dplugin=org.apache.maven.plugins:maven-compiler-plugin:3.8.1")])]),s._v(" "),a("li",[a("p",[s._v("mvn help:describe -Dplugin=compiler")])]),s._v(" "),a("li",[a("p",[s._v("过程输出")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[INFO] org.apache.maven.plugins:maven-compiler-plugin:3.2\n\nName: Apache Maven Compiler Plugin\nDescription: The Compiler Plugin is used to compile the sources of your\n  project.\nGroup Id: org.apache.maven.plugins\nArtifact Id: maven-compiler-plugin\nVersion: 3.2\nGoal Prefix: compiler\n\nThis plugin has 3 goals:\n\ncompiler:compile\n  Description: Compiles application sources\n\ncompiler:help\n  Description: Display help information on maven-compiler-plugin.\n    Call mvn compiler:help -Ddetail=true -Dgoal=<goal-name> to display\n    parameter details.\n\ncompiler:testCompile\n  Description: Compiles application test sources.\n\nFor more information, run 'mvn help:describe [...] -Ddetail'\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.950 s\n[INFO] Finished at: 2022-01-12T19:39:20+08:00\n[INFO] ------------------------------------------------------------------------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])])])])])]),s._v(" "),a("h3",{attrs:{id:"_5-3-从命令行调用插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-从命令行调用插件"}},[s._v("#")]),s._v(" 5.3.从命令行调用插件")]),s._v(" "),a("ul",[a("li",[s._v("maven命令帮助：mvn -h")]),s._v(" "),a("li",[s._v("输出：usage: mvn [options] [<goal(s)>] [<phase(s)>]")]),s._v(" "),a("li",[s._v("获取项目依赖树：mvn dependency:tree")]),s._v(" "),a("li",[s._v("分析当前项目依赖：mvn dependency:analyze")]),s._v(" "),a("li",[s._v("查看当前项目的已解析依赖：mvn dependency:list")]),s._v(" "),a("li",[s._v("查看项目最终pom.xml文件：mvn help:effective-pom")])]),s._v(" "),a("h2",{attrs:{id:"_6-插件解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-插件解析"}},[s._v("#")]),s._v(" 6.插件解析")]),s._v(" "),a("p",[s._v("maven简化了插件的使用和配置，但是具体maven是怎么解析插件的呢？")]),s._v(" "),a("h3",{attrs:{id:"_6-1-插件仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-插件仓库"}},[s._v("#")]),s._v(" 6.1.插件仓库")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("与依赖构件一样，插件构件同样基于坐标存储在maven仓库中。在需要的时候，maven会从本地仓库查找插件，如果不存在，则从远程仓库查找。找到后下载到本地仓库使用。")])]),s._v(" "),a("li",[a("p",[s._v("配置插件仓库，插件仓库与依赖构件仓库是分开配置的。")])]),s._v(" "),a("li",[a("p",[s._v("在项目pom文件pluginRepositories -> pluginRepository元素中配置插件仓库。")])]),s._v(" "),a("li",[a("p",[s._v("具体配置（maven 内置的插件远程仓库）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<pluginRepositories>\n  <pluginRepository>\n    <id>central</id>\n    <name>Central Repository</name>\n    <url>https://repo.maven.apache.org/maven2</url>\n    <layout>default</layout>\n    <snapshots>\n      <enabled>false</enabled>\n    </snapshots>\n    <releases>\n      <updatePolicy>never</updatePolicy>\n    </releases>\n  </pluginRepository>\n</pluginRepositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_6-2-插件的默认groupid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-插件的默认groupid"}},[s._v("#")]),s._v(" 6.2.插件的默认groupId")]),s._v(" "),a("ul",[a("li",[s._v("org.apache.maven.plugins，配置时不建议省略。")])]),s._v(" "),a("h3",{attrs:{id:"_6-3-解析插件版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-解析插件版本"}},[s._v("#")]),s._v(" 6.3.解析插件版本")]),s._v(" "),a("ul",[a("li",[s._v("maven在超级pom中为所有核心插件定义了版本。")]),s._v(" "),a("li",[s._v("使用插件时候，应该一直显式设定版本。")])]),s._v(" "),a("h3",{attrs:{id:"_6-4-解析插件前缀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-解析插件前缀"}},[s._v("#")]),s._v(" 6.4.解析插件前缀")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("插件前缀(Goal Prefix)与groupId:artifactId是一一对应的，这种对应关系存储在仓库元数据中。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("示例："),a("a",{attrs:{href:"https://link.segmentfault.com/?enc=Kck3XNnmosptdZTc9wxKOw%3D%3D.ELa7L3hR4IYKvU8j%2Fi7ZY6LoPWl06p%2FE8QKsZMJA%2FIqwwpwybvSV%2B%2FGDHVcdiiS445t4kA6pB2Vfd4TphIOshVNj%2FSL29C3ls%2Fkrm9LT%2Fg8%3D",target:"_blank",rel:"noopener noreferrer"}},[s._v("匹配关系"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("本地仓库插件元数据文件位置：~/.m2/repository/org/apache/maven/plugins/maven-metadata-central.xml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<metadata>\n    <plugins>\n        <plugin>\n            <name>Apache Maven Clean Plugin</name>\n            <prefix>clean</prefix>\n            <artifactId>maven-clean-plugin</artifactId>\n        </plugin>\n        <plugin>\n            <name>Apache Maven Compiler Plugin</name>\n            <prefix>compiler</prefix>\n            <artifactId>maven-compiler-plugin</artifactId>\n        </plugin>\n    </plugins>\n</metadata>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("默认的插件仓库groupId：org.apache.maven.plugins")])]),s._v(" "),a("li",[a("p",[s._v("配置自己的插件仓库元数据：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户的maven配置文件：~/.m2/settings.xml")])]),s._v(" "),a("li",[a("p",[s._v("settings -> pluginGroups -> pluginGroup元素中配置。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<settings>\n  <pluginGroups>\n    <pluginGroup>com.your.plugins</pluginGroup>\n  </pluginGroups>\n</settings>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])])])]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_6-多执行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-多执行环境"}},[s._v("#")]),s._v(" 6. 多执行环境")]),s._v(" "),a("h2",{attrs:{id:"一、灵活构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、灵活构建"}},[s._v("#")]),s._v(" 一、灵活构建")]),s._v(" "),a("h2",{attrs:{id:"_1-三大特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-三大特性"}},[s._v("#")]),s._v(" 1.三大特性")]),s._v(" "),a("ul",[a("li",[s._v("属性")]),s._v(" "),a("li",[s._v("资源过滤")]),s._v(" "),a("li",[s._v("Profile")])]),s._v(" "),a("h2",{attrs:{id:"_2-属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-属性"}},[s._v("#")]),s._v(" 2.属性")]),s._v(" "),a("h3",{attrs:{id:"_2-1-自定义属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-自定义属性"}},[s._v("#")]),s._v(" 2.1.自定义属性")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户可以在项目的pom文件的"),a("properties",[s._v("元素中自定义maven属性。")])],1)]),s._v(" "),a("li",[a("p",[s._v("在pom文件的其他地方，使用${属性名称}引用该属性。")])]),s._v(" "),a("li",[a("p",[s._v("意义在于"),a("strong",[s._v("消除重复")]),s._v("，示例代码如下。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<project>\n    <properties>\n        <springframework.groupId>org.springframework</springframework.groupId>\n        <springframework.version>5.2.1.RELEASE</springframework.version>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>${springframework.groupId}</groupId>\n            <artifactId>spring-web</artifactId>\n            <version>${springframework.version}</version>\n        </dependency>\n        <dependency>\n            <groupId>${springframework.groupId}</groupId>\n            <artifactId>spring-aop</artifactId>\n            <version>${springframework.version}</version>\n        </dependency>\n    </dependencies>\n</project>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-内置属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-内置属性"}},[s._v("#")]),s._v(" 2.2.内置属性")]),s._v(" "),a("p",[s._v("两个常用的内置属性：")]),s._v(" "),a("ul",[a("li",[s._v("${basedir}: 项目根目录，即包含pom文件的目录")]),s._v(" "),a("li",[s._v("${version}: 项目版本")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-pom属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-pom属性"}},[s._v("#")]),s._v(" 2.3.POM属性")]),s._v(" "),a("p",[s._v("用户可以使用该类属性引用pom文件中对应元素的值。\n常用的pom属性如下：")]),s._v(" "),a("ul",[a("li",[s._v("${project.build.sourceDirectory}: 项目的主源码目录，默认为src/main/java/")]),s._v(" "),a("li",[s._v("${project.build.testSourceDirectory}:项目的测试源码目录，默认为src/test/java/")]),s._v(" "),a("li",[s._v("${project.build.directory}:项目的构建输出目录，默认为target/")]),s._v(" "),a("li",[s._v("${project.outputDirectory}: 项目的主代码编译输出目录，默认为target/classes/")]),s._v(" "),a("li",[s._v("${project.testOutputDirectory}: 项目的测试代码编译输出目录，默认为target/test-classes/")]),s._v(" "),a("li",[s._v("${project.groupId}: 项目的groupId")]),s._v(" "),a("li",[s._v("${project.artifactId}: 项目的artifactId")]),s._v(" "),a("li",[s._v("${project.version}: 项目的版本,与${version}等价。")]),s._v(" "),a("li",[s._v("${project.build.finalName}: 项目打包输出文件的名称。默认为${project.artifactId}-${project.version}")])]),s._v(" "),a("h3",{attrs:{id:"_2-4-settings属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-settings属性"}},[s._v("#")]),s._v(" 2.4.settings属性")]),s._v(" "),a("p",[s._v("用户可以使用该类属性引用settings文件中对应元素的值。")]),s._v(" "),a("ul",[a("li",[s._v("${settings.localRepository}:用户本地仓库")])]),s._v(" "),a("h3",{attrs:{id:"_2-5-java系统属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-java系统属性"}},[s._v("#")]),s._v(" 2.5.Java系统属性")]),s._v(" "),a("ul",[a("li",[s._v("所有Java系统属性都可以使用Maven属性引用。")]),s._v(" "),a("li",[s._v("使用mvn help:system查看所有的Java系统属性。")]),s._v(" "),a("li",[s._v("${user.home}：用户目录")])]),s._v(" "),a("h3",{attrs:{id:"_2-6-环境变量属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-环境变量属性"}},[s._v("#")]),s._v(" 2.6.环境变量属性")]),s._v(" "),a("ul",[a("li",[s._v("所有环境变量都可以使用env.开头的Maven属性引用。")]),s._v(" "),a("li",[s._v("使用mvn help:system查看所有的环境变量属性。")]),s._v(" "),a("li",[s._v("${env.JAVA_HOME}: JAVA_HOME环境变量的值。")])]),s._v(" "),a("h2",{attrs:{id:"_3-资源过滤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-资源过滤"}},[s._v("#")]),s._v(" 3.资源过滤")]),s._v(" "),a("h3",{attrs:{id:"_3-1-遇到的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-遇到的问题"}},[s._v("#")]),s._v(" 3.1.遇到的问题")]),s._v(" "),a("ul",[a("li",[s._v("多环境配置：项目不同的环境对应着不同的数据库配置，手动更改这些配置往往比较低效。")])]),s._v(" "),a("h3",{attrs:{id:"_3-2-解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-解决"}},[s._v("#")]),s._v(" 3.2.解决")]),s._v(" "),a("ol",[a("li",[s._v("使用maven属性将这些会发生变化的部分提取出来。")]),s._v(" "),a("li",[s._v("然后开启资源目录的过滤功能，就可以解决这一问题。")])]),s._v(" "),a("h3",{attrs:{id:"_3-3-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-示例"}},[s._v("#")]),s._v(" 3.3.示例")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("数据库配置")]),s._v(" "),a("p",[s._v("# src/main/resources/application.properties")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("database.jdbc.driverClass=${db.driver}\ndatabase.jdbc.connectionUrl=${db.url}\ndatabase.jdbc.username=${db.user}\ndatabase.jdbc.password=${db.pw}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("开启资源过滤")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<project>    \n    <properties>\n        <db.driver>com.mysql.jdbc.Driver</db.driver>\n        <db.url>jdbc:mysql//localhost:3306/test</db.url>\n        <db.user>dev-user</db.user>\n        <db.pw>dev-pwd</db.pw>\n    </properties>\n\n    <build>\n        <resources>\n            <resource>\n                <directory>${project.basedir}/src/main/resources</directory>\n                <filtering>true</filtering>\n            </resource>\n        </resources>\n    </build>\n</project>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("编译代码mvn compile")]),s._v(" "),a("ul",[a("li",[s._v("查看主代码编译输出目录下的资源文件，已经得到了替换。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("database.jdbc.driverClass=com.mysql.jdbc.Driver\ndatabase.jdbc.connectionUrl=jdbc:mysql//localhost:3306/test\ndatabase.jdbc.username=aaa\ndatabase.jdbc.password=aaa-pwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_4-maven-profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-maven-profile"}},[s._v("#")]),s._v(" 4.Maven Profile")]),s._v(" "),a("h3",{attrs:{id:"_4-1-针对不同环境的profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-针对不同环境的profile"}},[s._v("#")]),s._v(" 4.1.针对不同环境的profile")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("示例：基于开发和测试环境的profile")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <project>    \n    <profiles>\n        <profile>\n            <id>dev</id>\n            <properties>\n                <db.driver>com.mysql.jdbc.Driver</db.driver>\n                <db.url>jdbc:mysql//localhost:3306/test</db.url>\n                <db.user>dev</db.user>\n                <db.pw>dev-pwd</db.pw>\n            </properties>\n        </profile>\n\n        <profile>\n            <id>test</id>\n            <properties>\n                <db.driver>com.mysql.jdbc.Driver</db.driver>\n                <db.url>jdbc:mysql//localhost:3306/test</db.url>\n                <db.user>test</db.user>\n                <db.pw>test-pwd</db.pw>\n            </properties>\n        </profile>\n    </profiles>\n</project>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_4-2-激活profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-激活profile"}},[s._v("#")]),s._v(" 4.2.激活profile")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("命令行激活")]),s._v(" "),a("ul",[a("li",[s._v("使用maven命令行参数 -P 加上profile的 id ，多个id之间逗号分隔")]),s._v(" "),a("li",[s._v("如：mvn clean compile -Pdev")])])]),s._v(" "),a("li",[a("p",[s._v("默认激活")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置profile > activation > activationByDefault元素的值为true,该profile默认激活")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<project>    \n    <profiles>\n        <profile>\n            <id>dev</id>\n            <activation>\n                <activeByDefault>true</activeByDefault>\n            </activation>\n            <properties>\n                <db.driver>com.mysql.jdbc.Driver</db.driver>\n                <db.url>jdbc:mysql//localhost:3306/test</db.url>\n                <db.user>dev</db.user>\n                <db.pw>dev-pwd</db.pw>\n            </properties>\n        </profile>\n    </profiles>\n</project>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("系统属性激活")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("mvn ... -D属性xx=属性xx的值")])]),s._v(" "),a("li",[a("p",[s._v("指定的属性存在，激活profile")])]),s._v(" "),a("li",[a("p",[s._v("指定的属性存在，并且值等于x时，激活profile")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<project>    \n    <profiles>\n        <profile>\n            <id>dev</id>\n            <activation>\n                <property>\n                    <name>test</name>\n                    <value>x</value>\n                </property>\n            </activation>\n            <properties>\n                <db.driver>com.mysql.jdbc.Driver</db.driver>\n                <db.url>jdbc:mysql//localhost:3306/test</db.url>\n                <db.user>dev</db.user>\n                <db.pw>dev-pwd</db.pw>\n            </properties>\n        </profile>\n    </profiles>\n</project>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("文件存在与否激活")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<project>    \n    <profiles>\n        <profile>\n            <id>dev</id>\n            <activation>\n                <file>\n                    <exists>x.properties</exists>\n                    <missing>y.properties</missing>\n                </file>\n            </activation>\n            <properties>\n                <db.driver>com.mysql.jdbc.Driver</db.driver>\n                <db.url>jdbc:mysql//localhost:3306/test</db.url>\n                <db.user>dev</db.user>\n                <db.pw>dev-pwd</db.pw>\n            </properties>\n        </profile>\n    </profiles>\n</project>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_4-3-查看当前激活的profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-查看当前激活的profile"}},[s._v("#")]),s._v(" 4.3.查看当前激活的profile")]),s._v(" "),a("ul",[a("li",[s._v("mvn help:active-profiles")])]),s._v(" "),a("h3",{attrs:{id:"_4-4-列出所有的profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-列出所有的profile"}},[s._v("#")]),s._v(" 4.4.列出所有的profile")]),s._v(" "),a("ul",[a("li",[s._v("mvn help:all-profiles")])]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"_7-项目多模块-一、maven聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-项目多模块-一、maven聚合"}},[s._v("#")]),s._v(" 7. 项目多模块  一、Maven聚合")]),s._v(" "),a("h2",{attrs:{id:"_1-为什么使用聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么使用聚合"}},[s._v("#")]),s._v(" 1.为什么使用聚合？")]),s._v(" "),a("p",[s._v("假设一个项目包含两个模块，我们想要一次构建两个模块，而不是到两个模块的目录下分别执行mvn命令，这时就需要用到聚合。")]),s._v(" "),a("h2",{attrs:{id:"_2-聚合配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-聚合配置"}},[s._v("#")]),s._v(" 2.聚合配置")]),s._v(" "),a("h3",{attrs:{id:"_2-1-聚合模块pom配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-聚合模块pom配置"}},[s._v("#")]),s._v(" 2.1.聚合模块pom配置")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("聚合模块packaging类型为 pom")])]),s._v(" "),a("li",[a("p",[s._v("聚合模块包含 modules元素，每个module对应一个要被聚合的子模块。")])]),s._v(" "),a("li",[a("p",[s._v("module的值是当前pom的相对目录。")])]),s._v(" "),a("li",[a("p",[s._v("具体配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<modules>\n    <module>模块1</module>\n    <module>模块2</module>\n    <module>模块3</module>\n</modules>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-聚合模块相对位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-聚合模块相对位置"}},[s._v("#")]),s._v(" 2.2.聚合模块相对位置")]),s._v(" "),a("ul",[a("li",[s._v("通常将聚合模块放在项目目录的最顶层，其他模块作为聚合模块的子目录。")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-聚合模块意义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-聚合模块意义"}},[s._v("#")]),s._v(" 2.3.聚合模块意义")]),s._v(" "),a("ul",[a("li",[s._v("聚合模块仅仅是帮助聚合其他模块构建的工具，本身并无实质内容。")]),s._v(" "),a("li",[s._v("解决同时构建多个模块的问题。")])]),s._v(" "),a("h3",{attrs:{id:"_2-4-聚合模块构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-聚合模块构建"}},[s._v("#")]),s._v(" 2.4.聚合模块构建")]),s._v(" "),a("ul",[a("li",[s._v("maven首先会解析聚合模块的pom，分析要构建的模块，并计算出一个"),a("strong",[s._v("反应堆构建顺序（Reactor Build Order）")]),s._v("，然后根据这个顺序依次构建各个模块。")])]),s._v(" "),a("h1",{attrs:{id:"二、maven继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、maven继承"}},[s._v("#")]),s._v(" 二、Maven继承")]),s._v(" "),a("h2",{attrs:{id:"_1-为什么使用继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么使用继承"}},[s._v("#")]),s._v(" 1.为什么使用继承？")]),s._v(" "),a("p",[s._v("解决重复配置问题。")]),s._v(" "),a("h2",{attrs:{id:"_2-继承配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-继承配置"}},[s._v("#")]),s._v(" 2.继承配置")]),s._v(" "),a("h3",{attrs:{id:"_2-1-项目继承的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-项目继承的配置"}},[s._v("#")]),s._v(" 2.1.项目继承的配置")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("父模块的packaging类型为pom。")])]),s._v(" "),a("li",[a("p",[s._v("子模块需要配置project -> parent元素信息")]),s._v(" "),a("ul",[a("li",[s._v("父模块坐标配置，groupId:artifactId:version")]),s._v(" "),a("li",[s._v("relativePath: 父模块pom文件所在路径，默认父pom在上一层目录下（即 ../pom.xml）。")]),s._v(" "),a("li",[s._v("构建过程中，maven会根据relativePath检查父pom，如果找不到，再从本地仓库查找。")])])]),s._v(" "),a("li",[a("p",[s._v("子模块继承父模块的配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<parent>\n    <groupId>父构件groupId</groupId>\n    <artifactId>父构件artifactId</artifactId>\n    <version>父构件的版本号</version>\n    <relativePath>父构件pom.xml路径</relativePath>\n</parent>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-可继承的pom元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-可继承的pom元素"}},[s._v("#")]),s._v(" 2.2.可继承的pom元素")]),s._v(" "),a("ul",[a("li",[s._v("groupId：项目组ID，项目坐标的核心元素。")]),s._v(" "),a("li",[s._v("version：项目版本，项目坐标的核心元素。")]),s._v(" "),a("li",[s._v("description：项目的描述信息。")]),s._v(" "),a("li",[s._v("organization：项目的组织信息。")]),s._v(" "),a("li",[s._v("inceptionYear：项目的创始年份。")]),s._v(" "),a("li",[s._v("url：项目的url地址。")]),s._v(" "),a("li",[s._v("developers：项目的开发者信息。")]),s._v(" "),a("li",[s._v("contributors：项目的贡献者信息。")]),s._v(" "),a("li",[s._v("distributionManagement：项目的部署配置信息。")]),s._v(" "),a("li",[s._v("issueManagement：项目的缺陷跟踪系统信息。")]),s._v(" "),a("li",[s._v("ciManagement：项目的持续集成系统信息。")]),s._v(" "),a("li",[s._v("scm：项目的版本控制系统信息。")]),s._v(" "),a("li",[s._v("mailingLists：项目的邮件列表信息。")]),s._v(" "),a("li",[s._v("properties：自定义的maven属性配置信息。")]),s._v(" "),a("li",[s._v("dependencyManagement：项目的依赖管理配置。")]),s._v(" "),a("li",[s._v("repositories：项目的仓库配置。")]),s._v(" "),a("li",[s._v("build：包括项目的源码目录配置、输出目录配置、插件配置、插件管理配置等信息。")]),s._v(" "),a("li",[s._v("reporting：包括项目的报告输出目录配置、报告插件配置等信息。")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-依赖管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-依赖管理"}},[s._v("#")]),s._v(" 2.3.依赖管理")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("maven提供的dependencyManagement元素既能让子模块继承到父模块的依赖配置，又能保证子模块依赖使用的灵活性.")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("在dependencyManagement元素下的依赖声明不会引入实际的依赖，但是它能约束对dependencies下的依赖使用。")])])]),s._v(" "),a("li",[a("p",[s._v("import依赖范围：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("将目标pom中dependencyManagement配置导入，并合并到当前项目的dependencyManagement元素中。")])]),s._v(" "),a("li",[a("p",[s._v("不想使用继承的方式，来达到使用目标pom中的依赖的目的。")])]),s._v(" "),a("li",[a("p",[s._v("import依赖范围一般都指向打包类型为pom的模块。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<dependencyManagement>\n    <dependencies>\n        <dependency>\n            <groupId>targetGroupId</groupId>\n            <artifactId>targetArtifactId</artifactId>\n            <version>targetVersion</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n        <dependency>构件1</dependency>\n        <dependency>构件2</dependency>\n    </dependencies>\n</dependencyManagement>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])])])]),s._v(" "),a("h3",{attrs:{id:"_2-4-插件管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-插件管理"}},[s._v("#")]),s._v(" 2.4.插件管理")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("maven中提供了dependencyManagement来帮助管理依赖继承，也提供了pluginManagement元素帮助管理插件继承。")])]),s._v(" "),a("li",[a("p",[s._v("在父模块pom中该元素的配置不会造成实际的插件调用行为，只有在子pom.xml中配置plugins -> plugin元素声明该插件的时候，插件才会起效。")])]),s._v(" "),a("li",[a("p",[s._v("子pom插件中只需要写groupId、artifactId，其他信息都可以从父pom中传递过来。")])]),s._v(" "),a("li",[a("p",[s._v("举例，使用maven-source-plugin插件生成项目源码包，将该插件的jar-no-fork目标绑定到default生命周期的verify阶段。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("父pom插件管理配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<build>\n    <pluginManagement>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-source-plugin</artifactId>\n                <version>3.2.1</version>\n                <executions>\n                    <execution>\n                        <id>attach-source</id>\n                        <phase>verify</phase>\n                        <goals>\n                            <goal>jar-no-fork</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </pluginManagement>\n</build>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("子pom插件声明配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-source-plugin</artifactId>\n        </plugin>\n    </plugins>\n</build>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])])])]),s._v(" "),a("h1",{attrs:{id:"三、聚合与继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、聚合与继承"}},[s._v("#")]),s._v(" 三、聚合与继承")]),s._v(" "),a("h2",{attrs:{id:"_1-目的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-目的"}},[s._v("#")]),s._v(" 1.目的")]),s._v(" "),a("ul",[a("li",[s._v("聚合主要是为了方便快速构建多模块项目。")]),s._v(" "),a("li",[s._v("继承主要是为了消除重复配置。")])]),s._v(" "),a("h2",{attrs:{id:"_2-与其他模块关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-与其他模块关系"}},[s._v("#")]),s._v(" 2.与其他模块关系")]),s._v(" "),a("ul",[a("li",[s._v("对于聚合模块来说，聚合模块知道有哪些被聚合的模块，而被聚合模块不知道聚合模块的存在。")]),s._v(" "),a("li",[s._v("对于继承来说，父模块是不知道有哪些子模块继承它，而子模块需要使用parent来引用父模块。")])]),s._v(" "),a("h2",{attrs:{id:"_3-共同点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-共同点"}},[s._v("#")]),s._v(" 3.共同点")]),s._v(" "),a("ul",[a("li",[s._v("聚合模块和继承中的父模块的packaging属性都必须是pom类型的。")]),s._v(" "),a("li",[s._v("同时，聚合模块和父模块除了pom.xml，一般都没有实际内容。")])]),s._v(" "),a("h2",{attrs:{id:"_4-实际使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-实际使用"}},[s._v("#")]),s._v(" 4.实际使用")]),s._v(" "),a("ul",[a("li",[s._v("将聚合和继承一起使用，能同时使用到两者的优点。")])]),s._v(" "),a("h1",{attrs:{id:"四、反应堆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、反应堆"}},[s._v("#")]),s._v(" 四、反应堆")]),s._v(" "),a("h2",{attrs:{id:"_1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍"}},[s._v("#")]),s._v(" 1.介绍")]),s._v(" "),a("h3",{attrs:{id:"_1-1-反应堆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-反应堆"}},[s._v("#")]),s._v(" 1.1.反应堆")]),s._v(" "),a("ul",[a("li",[s._v("在"),a("strong",[s._v("多模块的maven项目")]),s._v("中，反应堆（Reactor）是指"),a("strong",[s._v("所有模块组成的一个构建结构")]),s._v("。")])]),s._v(" "),a("h3",{attrs:{id:"_1-2-单模块项目的反应堆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-单模块项目的反应堆"}},[s._v("#")]),s._v(" 1.2.单模块项目的反应堆")]),s._v(" "),a("ul",[a("li",[s._v("就是该模块本身。")])]),s._v(" "),a("h3",{attrs:{id:"_1-3-多模块项目的反应堆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-多模块项目的反应堆"}},[s._v("#")]),s._v(" 1.3.多模块项目的反应堆")]),s._v(" "),a("ul",[a("li",[s._v("包含模块之间继承与依赖的关系，从而能够自动计算出合理的模块构建顺序。")])]),s._v(" "),a("h2",{attrs:{id:"_2-反应堆构建顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-反应堆构建顺序"}},[s._v("#")]),s._v(" 2.反应堆构建顺序")]),s._v(" "),a("ul",[a("li",[s._v("maven按聚合配置中的顺序读取pom。")]),s._v(" "),a("li",[s._v("如果该pom没有依赖模块，那么就构建该模块，否则就先构建其依赖的模块，如果该依赖还依赖于其他模块，则进一步先构建依赖的依赖。")])]),s._v(" "),a("h2",{attrs:{id:"_3-裁剪反应堆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-裁剪反应堆"}},[s._v("#")]),s._v(" 3.裁剪反应堆")]),s._v(" "),a("h3",{attrs:{id:"_3-1-说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-说明-2"}},[s._v("#")]),s._v(" 3.1.说明")]),s._v(" "),a("ul",[a("li",[s._v("一般情况下，用户会选择构建整个项目或者选择构建单个模块。")]),s._v(" "),a("li",[s._v("如果想要仅仅构建完整反应堆中的某些模块，就需要实时的裁剪反应堆")])]),s._v(" "),a("h3",{attrs:{id:"_3-2-裁剪反应堆选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-裁剪反应堆选项"}},[s._v("#")]),s._v(" 3.2.裁剪反应堆选项")]),s._v(" "),a("ul",[a("li",[s._v("执行mvn -h可以看到裁剪反应堆的选项。")]),s._v(" "),a("li",[s._v("-am：--also-make， 同时构建"),a("strong",[s._v("所列模块")]),s._v("的依赖模块。")]),s._v(" "),a("li",[s._v("-amd：-also-make-dependencies，同时构建"),a("strong",[s._v("依赖于所列模块")]),s._v("的模块。")]),s._v(" "),a("li",[s._v("-pl：--projects "),a("arg",[s._v("，构建指定的模块，模块之间使用逗号分隔")])],1),s._v(" "),a("li",[s._v("-rf：-resume-from "),a("arg",[s._v("，从指定的模块继续反应堆")])],1)])])}),[],!1,null,null,null);a.default=t.exports}}]);