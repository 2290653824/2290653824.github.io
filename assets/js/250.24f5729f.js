(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{572:function(t,s,e){"use strict";e.r(s);var v=e(4),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"什么是systemctl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是systemctl"}},[t._v("#")]),t._v(" 什么是systemctl")]),t._v(" "),s("p",[t._v("Linux Systemctl是一个系统管理守护进程、工具和库的集合，用于取代System V、service和chkconfig命令，初始进程主要负责控制systemd系统和服务管理器。通过Systemctl –help可以看到该命令主要分为：查询或发送控制命令给systemd服务，管理单元服务的命令，服务文件的相关命令，任务、环境、快照相关命令，systemd服务的配置重载，系统开机关机相关的命令。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl list-unit-files")]),t._v(" "),s("td",[t._v("列出所有可用单元")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl list-units")]),t._v(" "),s("td",[t._v("列出所有运行中单元")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl –failed")]),t._v(" "),s("td",[t._v("列出所有失败单元")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl is-enabledcrond.service")]),t._v(" "),s("td",[t._v("检查某个单元（如 crond.service）是否启用")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl list-unit-files –type=service")]),t._v(" "),s("td",[t._v("列出所有服务")])])])]),t._v(" "),s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),s("h4",{attrs:{id:"服务状态控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务状态控制"}},[t._v("#")]),t._v(" 服务状态控制")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl status httpd.service")]),t._v(" "),s("td",[t._v("检测服务状态")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl start httpd.service")]),t._v(" "),s("td",[t._v("启动")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl restart httpd.service")]),t._v(" "),s("td",[t._v("重启")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl stop httpd.service")]),t._v(" "),s("td",[t._v("停止")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl reload httpd.service")]),t._v(" "),s("td",[t._v("重载")])])])]),t._v(" "),s("p",[t._v("注意：当我们使用systemctl的start，restart，stop和reload命令时，终端不会输出任何内容，只有status命令可以打印输出。")]),t._v(" "),s("h4",{attrs:{id:"激活服务-开机时自动启动服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#激活服务-开机时自动启动服务"}},[t._v("#")]),t._v(" 激活服务——开机时自动启动服务")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl is-active mysql.service")]),t._v(" "),s("td",[t._v("激活服务")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl enable mysql.service")]),t._v(" "),s("td",[t._v("启用开机时自动启动")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl disable mysql.service")]),t._v(" "),s("td",[t._v("禁用开机自动启动")])])])]),t._v(" "),s("ol",[s("li",[t._v("如何屏蔽（让它不能启动）或显示服务（如ntpdate.service）")])]),t._v(" "),s("div",{staticClass:"language-csharp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[t._v("systemctl mask ntpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service\nln "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s ‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("”"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ntpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service’\n\nsystemctl unmask ntpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service\nrm ‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ntpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service’\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h4",{attrs:{id:"杀死服务-挂载服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#杀死服务-挂载服务"}},[t._v("#")]),t._v(" 杀死服务——挂载服务")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl killcrond")]),t._v(" "),s("td",[t._v("使用systemctl命令杀死服务")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl list-unit-files –type=mount")]),t._v(" "),s("td",[t._v("列出所有系统挂载点")])]),t._v(" "),s("tr",[s("td",[t._v("# systemctl start tmp.mount")]),t._v(" "),s("td",[t._v("挂载")])]),t._v(" "),s("tr",[s("td",[t._v("# systemctl stop tmp.mount")]),t._v(" "),s("td",[t._v("卸载")])]),t._v(" "),s("tr",[s("td",[t._v("# systemctl restart tmp.mount")]),t._v(" "),s("td",[t._v("重新挂载")])]),t._v(" "),s("tr",[s("td",[t._v("# systemctl reload tmp.mount")]),t._v(" "),s("td",[t._v("重载系统挂载点")])]),t._v(" "),s("tr",[s("td",[t._v("# systemctl status tmp.mount")]),t._v(" "),s("td",[t._v("检查系统中挂载点状态")])])])]),t._v(" "),s("h4",{attrs:{id:"在启动时激活、启用或禁用挂载点-系统启动时自动挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在启动时激活、启用或禁用挂载点-系统启动时自动挂载"}},[t._v("#")]),t._v(" 在启动时激活、启用或禁用挂载点（系统启动时自动挂载）")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl is-active tmp.mount")]),t._v(" "),s("td",[t._v("启动时激活挂载点")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl enable tmp.mount")]),t._v(" "),s("td",[t._v("启用")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl disable tmp.mount")]),t._v(" "),s("td",[t._v("禁用挂载点")])])])]),t._v(" "),s("h4",{attrs:{id:"在linux中屏蔽-让它不能启用-或可见挂载点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在linux中屏蔽-让它不能启用-或可见挂载点"}},[t._v("#")]),t._v(" 在Linux中屏蔽（让它不能启用）或可见挂载点")]),t._v(" "),s("div",{staticClass:"language-csharp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[t._v("systemctl mask tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount\nln "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s ‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("”"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount’\n\nsystemctl unmask tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount\nrm ‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tmp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount’\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("systemctl list-unit-files –type=socket")]),t._v(" "),s("td",[t._v("列出所有可用系统套接口")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl showmysql")]),t._v(" "),s("td",[t._v("检查某个服务的所有配置细节")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl list-dependencies httpd.service")]),t._v(" "),s("td",[t._v("获取某个服务（httpd）的依赖性列表")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl rescue")]),t._v(" "),s("td",[t._v("启动救援模式")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl emergency")]),t._v(" "),s("td",[t._v("进入紧急模式")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl get-default")]),t._v(" "),s("td",[t._v("列出当前使用的运行等级")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl isolate runlevel5.target")]),t._v(" "),s("td",[t._v("启动运行等级5，即图形模式 或 systemctl isolate graphical.target")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl isolate runlevel3.target")]),t._v(" "),s("td",[t._v("启动运行等级3，即多用户模式（命令行）或systemctl isolate multiuser.target")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl set-default runlevel3.target")]),t._v(" "),s("td",[t._v("设置多用户模式或图形模式为默认运行等级")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl set-default runlevel5.target")]),t._v(" "),s("td",[t._v("设置多用户模式或图形模式为默认运行等级")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl reboot")]),t._v(" "),s("td",[t._v("系统重启")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl halt")]),t._v(" "),s("td",[t._v("系统停止")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl suspend")]),t._v(" "),s("td",[t._v("系统挂起")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl hibernate")]),t._v(" "),s("td",[t._v("系统休眠")])]),t._v(" "),s("tr",[s("td",[t._v("systemctl hybrid-sleep")]),t._v(" "),s("td",[t._v("系统混合休眠")])])])]),t._v(" "),s("p",[t._v("对于不知运行等级为何物的人，说明如下。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("级别")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Runlevel 0")]),t._v(" "),s("td",[t._v("关闭系统")])]),t._v(" "),s("tr",[s("td",[t._v("Runlevel 1")]),t._v(" "),s("td",[t._v("救援，维护模式")])]),t._v(" "),s("tr",[s("td",[t._v("Runlevel 3")]),t._v(" "),s("td",[t._v("多用户，无图形系统")])]),t._v(" "),s("tr",[s("td",[t._v("Runlevel 4")]),t._v(" "),s("td",[t._v("多用户，无图形系统")])]),t._v(" "),s("tr",[s("td",[t._v("Runlevel 5")]),t._v(" "),s("td",[t._v("多用户，图形化系统")])]),t._v(" "),s("tr",[s("td",[t._v("Runlevel 6")]),t._v(" "),s("td",[t._v("关闭并重启机器")])])])])])}),[],!1,null,null,null);s.default=_.exports}}]);