(window.webpackJsonp=window.webpackJsonp||[]).push([[337],{661:function(t,s,n){"use strict";n.r(s);var e=n(4),a=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("https://juejin.cn/post/7172037988950474759")]),t._v(" "),s("h3",{attrs:{id:"如何使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[t._v("#")]),t._v(" 如何使用？")]),t._v(" "),s("div",{staticClass:"language-go line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testing"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TestAbc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("testing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示测试失败")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("这是 Go 中单元测试的基本结构。内置的 testing 包是由 Go 的标准库提供的。单元测试是一个函数，它接收类型为 *testing.T 的参数并在其上调用 Error（或稍后我们看到的任何其他错误方法）。这个函数必须以 Test 关键字开头，后面的名称必须以大写字母开头（例如，TestMultiply 而不是 Testmultiply）。")]),t._v(" "),s("h3",{attrs:{id:"单元测试规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试规范"}},[t._v("#")]),t._v(" 单元测试规范")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("每个测试函数都必须导入 testing 包。测试函数的命名类似"),s("code",[t._v("func TestName(t *testing.T)")]),t._v("，入参必须是 "),s("code",[t._v("*testing.T")])])]),t._v(" "),s("li",[s("p",[t._v("测试函数的函数名必须以大写的 Test 开头，后面紧跟的函数名，要么是大写开关，要么就是下划线，比如 "),s("code",[t._v("func TestName(t *testing.T)")]),t._v(" 或者  "),s("code",[t._v("func Test_name(t *testing.T)")]),t._v("  都是 ok 的， 但是 "),s("code",[t._v("func Testname(t *testing.T)")]),t._v("不会被检测到")])]),t._v(" "),s("li",[s("p",[t._v("通常情况下，需要将测试文件和源代码放在同一个包内。一般测试文件的命名，都是 "),s("code",[t._v("{source_filename}_test.go")]),t._v("，比如我们的源代码文件是allen.go ，那么就会在 allen.go 的相同目录下，再建立一个 allen_test.go 的单元测试文件去测试 allen.go 文件里的相关方法。")])])]),t._v(" "),s("p",[t._v("当运行 go test 命令时，go test 会遍历所有的 "),s("code",[t._v("*_test.go")]),t._v(" 中符合上述命名规则的函数，然后生成一个临时的 main 包用于调用相应的测试函数，然后构建并运行、报告测试结果，最后清理测试中生成的临时文件。")])])}),[],!1,null,null,null);s.default=a.exports}}]);