(window.webpackJsonp=window.webpackJsonp||[]).push([[424],{748:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"docker基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker基本概念"}},[s._v("#")]),s._v(" Docker基本概念")]),s._v(" "),a("h3",{attrs:{id:"解决的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决的问题"}},[s._v("#")]),s._v(" 解决的问题")]),s._v(" "),a("h4",{attrs:{id:"_1、统一标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、统一标准"}},[s._v("#")]),s._v(" 1、统一标准")]),s._v(" "),a("p",[s._v("●　应用构建")]),s._v(" "),a("p",[s._v("○　Java、C++、JavaScript")]),s._v(" "),a("p",[s._v("○　打成软件包")]),s._v(" "),a("p",[s._v("○　.exe")]),s._v(" "),a("p",[s._v("○　docker build ....   镜像")]),s._v(" "),a("p",[s._v("●　应用分享")]),s._v(" "),a("p",[s._v("○　所有软件的镜像放到一个指定地方  docker hub")]),s._v(" "),a("p",[s._v("○　安卓，应用市场")]),s._v(" "),a("p",[s._v("●　应用运行")]),s._v(" "),a("p",[s._v("○　统一标准的 镜像")]),s._v(" "),a("p",[s._v("○　docker run")]),s._v(" "),a("p",[s._v("●　.......")]),s._v(" "),a("p",[s._v("容器化")]),s._v(" "),a("p",[s._v("传统的虚拟机技术")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20230725135958952.png",alt:"image-20230725135958952"}})]),s._v(" "),a("p",[s._v("容器化技术")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20230725140017477.png",alt:"image-20230725140017477"}})]),s._v(" "),a("p",[s._v("####　2、资源隔离")]),s._v(" "),a("p",[s._v("●　cpu、memory资源隔离与限制")]),s._v(" "),a("p",[s._v("●　访问设备隔离与限制")]),s._v(" "),a("p",[s._v("●　网络隔离与限制")]),s._v(" "),a("p",[s._v("●　用户、用户组隔离限制")]),s._v(" "),a("p",[s._v("●　.....")]),s._v(" "),a("h3",{attrs:{id:"架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[s._v("#")]),s._v(" 架构")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://2290653824-github-io.oss-cn-hangzhou.aliyuncs.com/image-20230725140306370.png",alt:"image-20230725140306370"}})]),s._v(" "),a("p",[s._v("● Docker_Host：")]),s._v(" "),a("p",[s._v("​\t\t○ 安装Docker的主机")]),s._v(" "),a("p",[s._v("● Docker Daemon：")]),s._v(" "),a("p",[s._v("​\t\t○ 运行在Docker主机上的Docker后台进程")]),s._v(" "),a("p",[s._v("● Client：")]),s._v(" "),a("p",[s._v("​\t\t○ 操作Docker主机的客户端（命令行、UI等）")]),s._v(" "),a("p",[s._v("● Registry：")]),s._v(" "),a("p",[s._v("​\t\t○ 镜像仓库")]),s._v(" "),a("p",[s._v("​\t\t○ Docker Hub")]),s._v(" "),a("p",[s._v("● Images：")]),s._v(" "),a("p",[s._v("​\t\t○ 镜像，带环境打包好的程序，可以直接启动运行")]),s._v(" "),a("p",[s._v("● Containers：")]),s._v(" "),a("p",[s._v("​\t\t○ 容器，由镜像启动起来正在运行中的程序")]),s._v(" "),a("p",[s._v("交互逻辑")]),s._v(" "),a("blockquote",[a("p",[s._v("装好Docker，然后去 软件市场 寻找镜像，下载并运行，查看容器状态日志等排错")])]),s._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("h4",{attrs:{id:"_1、centos下安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、centos下安装docker"}},[s._v("#")]),s._v(" 1、centos下安装docker")]),s._v(" "),a("p",[s._v("其他系统参照如下文档")]),s._v(" "),a("p",[s._v("https://docs.docker.com/engine/install/centos/")]),s._v(" "),a("p",[s._v("1、移除以前docker相关包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client-latest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-common "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest-logrotate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-logrotate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-engine\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"_2、配置yum源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置yum源"}},[s._v("#")]),s._v(" 2、配置yum源")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("sudo yum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y yum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("utils\nsudo yum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("manager \\\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("add"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("repo \\\nhttp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mirrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aliyun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("centos"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repo\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_3、安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装docker"}},[s._v("#")]),s._v(" 3、安装docker")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("sudo yum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli containerd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io\n\n\n#以下是在安装k8s的时候使用\nyum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.10")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7")]),s._v(" docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.10")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7")]),s._v("  containerd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_4、启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、启动"}},[s._v("#")]),s._v(" 4、启动")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("systemctl enable docker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("now\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("5、配置加速")]),s._v(" "),a("p",[s._v("这里额外添加了docker的生产环境核心配置cgroup")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /etc/docker\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/docker/daemon.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'EOF\'\n{\n  "registry-mirrors": ["https://82m9ar63.mirror.aliyuncs.com"],\n  "exec-opts": ["native.cgroupdriver=systemd"],\n  "log-driver": "json-file",\n  "log-opts": {\n    "max-size": "100m"\n  },\n  "storage-driver": "overlay2"\n}\nEOF')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);